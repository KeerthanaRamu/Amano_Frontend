{"version":3,"sources":["webpack:///src/app/clerk/students-schedule/add-schedule/add-schedule.component.html","webpack:///src/app/clerk/students-schedule/add-schedule/add-schedule.component.ts","webpack:///src/app/clerk/students-schedule/dialogs/form-dialog/form-dialog.component.html","webpack:///src/app/clerk/students-schedule/dialogs/form-dialog/form-dialog.component.ts","webpack:///src/app/clerk/students-schedule/students-schedule-routing.module.ts","webpack:///src/app/clerk/students-schedule/students-schedule.model.ts","webpack:///src/app/clerk/students-schedule/students-schedule.module.ts","webpack:///src/app/clerk/students-schedule/students-schedule.service.ts"],"names":["autocompleteObjectValidator","control","value","AddScheduleComponent","fb","dialog","calendarService","snackBar","filterOptions","calendarData","filterItems","nric_number","FormControl","validators","passport_number","validation_msgs","type","message","calendarOptions","headerToolbar","left","center","right","initialView","displayEventTime","weekends","editable","selectMirror","dayMaxEvents","eventClick","handleEventClick","bind","eventsSet","handleEvents","dialogTitle","calendar","Calendar","addCusForm","createCalendarForm","getScheduleList","getNRICNumberForStudentSchedule","getPassportNumberForStudentSchedule","sessionStorage","client","subscribe","res","nricNumberData","nricNumberList","valueChanges","pipe","startWith","map","name","_filterNricNumber","slice","passportNumberData","passportNumberList","_filterPassportNumber","scheduleList","console","log","i","length","checked","push","status","user","filterValue","toLowerCase","filter","option","includes","event","splice","indexOf","filterEvent","element","list","calendarEvents","x","y","title","events","clickInfo","row","id","lead_time","_def","extendedProps","statusid","schedule_name","schedule_view","schedule_view_assignment","employeeName","startDate","start","endDate","end","enrollData","enrollDetails","tempDirection","localStorage","getItem","dialogRef","open","FormDialogComponent","data","action","direction","subs","sink","afterClosed","result","reset","eventIndex","singleEvent","Object","assign","className","groupId","category","details","group","Validators","colorName","text","placementFrom","placementAlign","duration","verticalPosition","horizontalPosition","panelClass","setValue","getEnrollmentNumberForSchedule","Date","schedule_color","status_id","assignment","AssignmentList","employee_name","tempEvents","UnsubscribeOnDestroyAdapter","selectedNricNumber","toastrService","showDeleteBtn","selectable","removable","separatorKeysCodes","ENTER","COMMA","finalArray","formControl","getTimeDetails","studentId","student_id","enrollId","statusId","scheduleDate","getSelectedScheduleInfoStudent","resData","existingSchedule","employee_id","j","timeArray","timeSlotDt","zeroPad","TimeSlot","employeeList","k","obj","selected","calendarForm","editContactForm","hasError","num","total","toString","padStart","Number","close","timeSlot","range","selectedInstructor","setStudentScheduleInfo","success","some","ViewAssignList","resObj","makeTimeIntervals","working_hour_from","substr","working_hour_to","rest_hour_from","rest_hour_to","startTime","endTime","increment","restStart","restEnd","split","parseInt","pad","n","startHr","startMin","endHr","endMin","currentHr","currentMin","previous","current","r","restTime","el","MAT_DIALOG_DATA","routes","path","component","StudentScheduleRoutingModule","RouterModule","getRandomID","schedule_owner","formatDate","S4","Math","random","substring","FullCalendarModule","StudentScheduleModule","StudentScheduleService","NgxDatatableModule","MatChipsModule","CKEditorModule","CommonModule","FormsModule","ReactiveFormsModule","MatTableModule","MatPaginatorModule","MatFormFieldModule","MatInputModule","MatSnackBarModule","MatButtonModule","MatIconModule","MatDialogModule","MatSortModule","MatToolbarModule","MatSelectModule","MatDatepickerModule","MatCheckboxModule","MatTabsModule","MatMenuModule","MatRadioModule","MaterialFileInputModule","MatProgressSpinnerModule","MatStepperModule","NgxMaskModule","TranslateModule","MatAutocompleteModule","OwlDateTimeModule","OwlNativeDateTimeModule","http","API_URL","httpOptions","headers","HttpHeaders","dataChange","BehaviorSubject","dialogData","get","catchError","errorHandler","error","errorMessage","ErrorEvent","throwError","environment","viewAssign_selected","authToken","post","clientid"],"mappings":"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","file":"src_app_clerk_students-schedule_students-schedule_module_ts-es5.js","sourcesContent":["<section class=\"content\">\n        <div class=\"container-fluid\">\n          <div class=\"block-header\">\n            <div class=\"row\">\n              <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\n                <ul class=\"breadcrumb breadcrumb-style \">\n                  <li class=\"breadcrumb-item\">\n                    <h4 class=\"page-title\">{{'SCHEDULE.STUD-TITLE' | translate}}</h4>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-12 col-sm-12\">\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  <div class=\"row\">\n                      <div class=\"col-xl-4 col-lg-4 col-md-12 col-sm-12 mb-2\">\n                        <mat-form-field class=\"example-full-width mb-3\" appearance=\"outline\">\n                            <mat-label>{{'SELECT-LICENSE.LIST.NRIC-NUMBER' | translate}}</mat-label>\n                            <input type=\"text\" matInput [formControl]=\"nric_number\" [matAutocomplete]=\"autoNric\" >\n                            <mat-autocomplete #autoNric=\"matAutocomplete\" [displayWith]=\"displayFnNRICNUmber\" (optionSelected)=\"selectedNricNumber($event)\">\n                            <mat-option *ngFor=\"let option of nricNumberList | async\" [value]=\"option\">\n                                {{option.nric_number}}\n                            </mat-option>\n                            </mat-autocomplete>\n                            <!-- <mat-error *ngFor=\"let validation of validation_msgs.nric_number\">\n                                <div *ngIf=\"nric_number.hasError(validation.type)\">\n                                  {{validation.message}}\n                                </div>\n                            </mat-error> -->\n                        </mat-form-field>\n                      </div>\n                      <div class=\"col-xl-4 col-lg-4 col-md-12 col-sm-12 mb-2\">\n                          <mat-form-field class=\"example-full-width mb-3\" appearance=\"outline\">\n                              <mat-label>{{'SELECT-LICENSE.LIST.PASSPORT-NUMBER' | translate}}</mat-label>\n                              <input type=\"text\" matInput [formControl]=\"passport_number\" [matAutocomplete]=\"autoPassport\">\n                              <mat-autocomplete #autoPassport=\"matAutocomplete\" [displayWith]=\"displayFnPassportNumber\" (optionSelected)=\"selectedNricNumber($event)\">\n                              <mat-option *ngFor=\"let option of passportNumberList | async\" [value]=\"option\">\n                                  {{option.passport_number}}\n                              </mat-option>\n                              </mat-autocomplete>\n                              <!-- <mat-error *ngFor=\"let validation of validation_msgs.passport_number\">\n                                  <div *ngIf=\"passport_number.hasError(validation.type)\"> (optionSelected)=\"selectedPassportNumber($event)\"\n                                    {{validation.message}}\n                                  </div>\n                              </mat-error> -->\n                          </mat-form-field>\n                      </div>\n                    </div>\n                    <div class=\"col-md-12 col-sm-12\" *ngIf=\"calendarData.length > 0\">\n                      <div class=\"panel-body\">\n                        <full-calendar [options]='calendarOptions'>\n                        </full-calendar>\n                      </div>\n                    </div>\n                  \n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n      ","import { Component, ViewChild, OnInit } from '@angular/core';\nimport {\n  CalendarOptions,\n  DateSelectArg,\n  EventClickArg,\n  EventApi,\n} from '@fullcalendar/angular';\nimport { Observable,map, startWith,debounceTime,switchMap,of } from 'rxjs';\nimport {  FormBuilder, FormGroup, Validators,FormControl, AbstractControl, ValidatorFn } from '@angular/forms';\nimport { EventInput } from '@fullcalendar/angular';\nimport { MatDialog } from '@angular/material/dialog';\nimport { StudentScheduleService } from '../students-schedule.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { MatCheckboxChange } from '@angular/material/checkbox';\nimport { FormDialogComponent } from '../dialogs/form-dialog/form-dialog.component';\nimport { Calendar } from '../students-schedule.model';\nimport { UnsubscribeOnDestroyAdapter } from '../../../shared/UnsubscribeOnDestroyAdapter';\nimport { formatDate } from '@angular/common';\n\nfunction autocompleteObjectValidator(): ValidatorFn {\n  return (control: AbstractControl): { [key: string]: any } | null => {\n    if (typeof control.value === 'string') {\n      return { 'invalidAutocompleteObject': { value: control.value } }\n    }\n    return null  /* valid option selected */\n  }\n}\n\n@Component({\n  selector: 'app-add-schedule',\n  templateUrl: './add-schedule.component.html',\n  styleUrls: ['./add-schedule.component.scss']\n})\nexport class AddScheduleComponent extends UnsubscribeOnDestroyAdapter implements OnInit {\n\n  @ViewChild('calendar', { static: false })\n  calendar: Calendar | null;\n  public addCusForm: FormGroup;\n  scheduleList;\n\n  dialogTitle: string;\n  filterOptions = 'All';\n  calendarData=[];\n  filterItems =[]\n\n  calendarEvents: EventInput[];\n  tempEvents: EventInput[];\n\n  nricNumberData:any;\n  passportNumberData:any;\n\n\n  nric_number= new FormControl('', { validators: [autocompleteObjectValidator()] });\n  passport_number= new FormControl('', { validators: [autocompleteObjectValidator()] });\n\n  nricNumberList: Observable<string[]>;\n  passportNumberList: Observable<string[]>;\n\n  public validation_msgs = {\n    'nric_number': [\n      { type: 'invalidAutocompleteObject', message: 'NRIC Number not recognized. Click one of the options.' }\n    ],\n    'passport_number': [\n      { type: 'invalidAutocompleteObject', message: 'Passport Number not recognized. Click one of the options.' }\n    ],\n  }\n  enrollDetails: any;\n\n  constructor(\n    private fb: FormBuilder,\n    private dialog: MatDialog,\n    public calendarService: StudentScheduleService,\n    private snackBar: MatSnackBar\n  ) {\n    super();\n    this.dialogTitle = 'Add New Event';\n    this.calendar = new Calendar({});\n    this.addCusForm = this.createCalendarForm(this.calendar);\n    this.getScheduleList();\n\n  }\n\n  public ngOnInit(): void {\n    \n    \n    this.getNRICNumberForStudentSchedule();\n    this.getPassportNumberForStudentSchedule();\n    \n  }\n\n\n\n  getNRICNumberForStudentSchedule(){\n    this.calendarService.getNRICNumberForStudentSchedule(sessionStorage.client)\n      .subscribe(res=>{\n        this.nricNumberData=res;\n        this.nricNumberList = this.nric_number.valueChanges.pipe(\n          startWith(''),\n          map(value => (typeof value === 'string' ? value : value.nric_number)),\n          map(name => (name ? this._filterNricNumber(name) : this.nricNumberData.slice())),\n        );\n      })\n  }\n\n  getPassportNumberForStudentSchedule(){\n    this.calendarService.getPassportNumberForStudentSchedule(sessionStorage.client)\n      .subscribe(res=>{\n        this.passportNumberData=res;\n        this.passportNumberList = this.passport_number.valueChanges.pipe(\n          startWith(''),\n          map(value => (typeof value === 'string' ? value : value.passport_number)),\n          map(name => (name ? this._filterPassportNumber(name) : this.passportNumberData.slice())),\n        );\n      })\n  }\n\n  getScheduleList(){\n    this.calendarService.getScheduleList()\n    .subscribe(res=>{\n        this.scheduleList=res['data'];\n        console.log(\"this.scheduleList========\",this.scheduleList);\n        for(let i=0;i<this.scheduleList.length;i++){\n          this.scheduleList[i].checked=true;\n          this.filterItems.push(this.scheduleList[i].status)\n        }\n    })\n  }\n\n  displayFnNRICNUmber(user): string {\n    return user && user.nric_number ? user.nric_number : '';\n  }\n\n  displayFnPassportNumber(user): string {\n    return user && user.passport_number ? user.passport_number : '';\n  }\n\n\n  private _filterNricNumber(name: string): [] {\n    const filterValue = name.toLowerCase();\n    return this.nricNumberData.filter(option => option.nric_number.toLowerCase().includes(filterValue));\n  }\n\n  private _filterPassportNumber(name: string): [] {\n    const filterValue = name.toLowerCase();\n    return this.passportNumberData.filter(option => option.passport_number.toLowerCase().includes(filterValue));\n  }\n\n  calendarOptions: CalendarOptions = {\n    headerToolbar: {\n      left: 'prev,next today',\n      center: 'title',\n      right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek',\n    },\n    initialView: 'dayGridMonth',\n    displayEventTime:false,\n    weekends: true,\n    editable: true,\n    // selectable: true,\n    selectMirror: true,\n    dayMaxEvents: true,\n    // select: this.handleDateSelect.bind(this),\n    eventClick: this.handleEventClick.bind(this),\n    eventsSet: this.handleEvents.bind(this),\n  };\n\n\n  changeCategory(event: MatCheckboxChange, filter) {\n    console.log(\"---------\",filter)\n    if (event.checked) {\n      this.filterItems.push(filter.status);\n    } else {\n      this.filterItems.splice(this.filterItems.indexOf(filter.status), 1);\n    }\n    this.filterEvent(this.filterItems);\n  }\n\n  filterEvent(element) {\n    const list = this.calendarEvents.filter((x) =>\n      element.map((y) => y).includes(x.title)\n    );\n\n    this.calendarOptions.events = list;\n  }\n\n  handleEventClick(clickInfo: EventClickArg) {\n    this.eventClick(clickInfo);\n  }\n\n  eventClick(row) {\n    console.log(\"row===\",row.event);\n   \n    const calendarData: any = {\n      id: row.event.id,\n      title: row.event.title,\n      lead_time: row.event._def.extendedProps.lead_time,\n      statusid:row.event._def.extendedProps.statusid,\n      schedule_name: row.event._def.extendedProps.schedule_name,\n      // schedule_owner:row.event._def.extendedProps.schedule_owner,\n      schedule_view:row.event._def.extendedProps.schedule_view,\n      schedule_view_assignment:row.event._def.extendedProps.employeeName,\n      startDate: row.event.start,\n      endDate: row.event.end,\n      enrollData:this.enrollDetails\n    };\n\n    console.log(\"calendarData====\",calendarData);\n    let tempDirection;\n    if (localStorage.getItem('isRtl') === 'true') {\n      tempDirection = 'rtl';\n    } else {\n      tempDirection = 'ltr';\n    }\n\n    const dialogRef = this.dialog.open(FormDialogComponent, {\n      data: {\n        calendar: calendarData,\n        action: 'edit',\n      },\n      direction: tempDirection,\n    });\n\n    this.subs.sink = dialogRef.afterClosed().subscribe((result) => {\n      if (result === 'submit') {\n        // this.getScheduleDetails();\n        this.addCusForm.reset();\n      } else if (result === 'delete') {\n        // this.getScheduleDetails();\n      }\n    });\n  }\n\n  editEvent(eventIndex, calendarData) {\n    const calendarEvents = this.calendarEvents.slice();\n    const singleEvent = Object.assign({}, calendarEvents[eventIndex]);\n    singleEvent.id = calendarData.id;\n    singleEvent.title = calendarData.title;\n    singleEvent.start = calendarData.startDate;\n    singleEvent.end = calendarData.endDate;\n    singleEvent.className = '';\n    singleEvent.groupId = calendarData.category;\n    singleEvent.details = calendarData.details;\n    calendarEvents[eventIndex] = singleEvent;\n    this.calendarEvents = calendarEvents; // reassign the array\n\n    this.calendarOptions.events = calendarEvents;\n  }\n\n  handleEvents(events: EventApi[]) {\n    // this.currentEvents = events;\n  }\n\n  createCalendarForm(calendar): FormGroup {\n    return this.fb.group({\n      id: [calendar.id],\n      lead_time: [\n        calendar.lead_time,\n        [Validators.required, Validators.pattern('[a-zA-Z]+([a-zA-Z ]+)*')],\n      ],\n      schedule_name: [calendar.schedule_name],\n      // schedule_owner:[calendar.schedule_owner],\n      schedule_view: [calendar.schedule_view],\n      startDate: [calendar.startDate, [Validators.required]],\n      endDate: [calendar.endDate, [Validators.required]],\n    });\n  }\n\n  showNotification(colorName, text, placementFrom, placementAlign) {\n    this.snackBar.open(text, '', {\n      duration: 2000,\n      verticalPosition: placementFrom,\n      horizontalPosition: placementAlign,\n      panelClass: colorName,\n    });\n  }\n\n\n  selectedNricNumber(event){\n    console.log('onSelectionChange called', event.option.value);\n    this.enrollDetails=[]; \n    if(event.option.value.id){\n      this.passport_number.setValue('');\n      console.log(\"req===,=====,\",event.option.value);\n      this.calendarService.getEnrollmentNumberForSchedule(event.option.value.id,sessionStorage.client)\n      .subscribe((res)=>{\n          console.log(\"re----enrollDetails-----------\",res);\n          this.enrollDetails=res['enrollData'][0];\n          this.calendarData=[];\n          console.log(\"----res['scheduleList']----\",res['scheduleList'])\n          for(let i=0;i<res['scheduleList'].length;i++){\n            this.calendarData.push({\n              title: res['scheduleList'][i].status,\n              start: new Date(res['scheduleList'][i].startDate),\n              end: new Date(res['scheduleList'][i].endDate),  \n              className: res['scheduleList'][i].schedule_color,\n              id: res['scheduleList'][i].id,\n              statusid:res['scheduleList'][i].status_id,\n              schedule_name: res['scheduleList'][i].status,\n              schedule_view:res['scheduleList'][i].schedule_view,\n              assignment:res['scheduleList'][i].AssignmentList,\n              startDate: new Date(res['scheduleList'][i].startDate),\n              endDate: new Date(res['scheduleList'][i].endDate),\n              employeeName:res['scheduleList'][i].employee_name\n            })\n          }\n          this.calendarEvents=this.calendarData;\n          this.tempEvents = this.calendarEvents;\n          this.calendarOptions.events = this.calendarEvents;\n      })\n    }\n  }\n\n\n\n\n}\n","<div class=\"addContainer\">\r\n  <div class=\"modalHeader\">\r\n    <div class=\"editRowModal\">\r\n      <div class=\"modalHeader clearfix\">\r\n        <div class=\"modal-about\">\r\n          <div class=\"font-weight-bold p-t-5 p-l-10 font-17\">\r\n           Schedule {{dialogTitle}}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <button mat-icon-button (click)=\"dialogRef.close()\" aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n  <div mat-dialog-content>\r\n    <form class=\"register-form m-4\" [formGroup]=\"calendarForm\">\r\n        <div class=\"row\">\r\n            <div class=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 \">\r\n              <mat-form-field class=\"example-full-width mb-3\" appearance=\"outline\">\r\n                <mat-label>{{'SCHEDULE.LIST.SCHEDULE' | translate}}</mat-label>\r\n                <input matInput formControlName=\"schedule_name\" readonly >\r\n              </mat-form-field>\r\n            </div>\r\n          </div>\r\n      <div class=\"row\">\r\n        <label>Select Instructor</label>\r\n        <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 \">\r\n          <ul style=\"list-style: none;\" *ngFor=\"let timeDt of timeArray; let i=index\">\r\n              <li>{{timeDt.range}}</li>\r\n                <mat-radio-group aria-labelledby=\"example-radio-group-label\" class=\"example-radio-group\" style=\"margin: 5px 0 !important;\" *ngIf=\"timeDt.employeeList.length>0\">\r\n                  <mat-radio-button class=\"example-margin\" style=\"padding: 5px;margin-left: 16px;\" *ngFor=\"let empdt of timeDt.employeeList\" [value]=\"empdt\" [checked]=\"empdt.checked\" color=\"primary\"\r\n                  (change)=\"instructorChange($event,timeDt)\">\r\n                    {{empdt.name}}\r\n                  </mat-radio-button>\r\n                </mat-radio-group>\r\n                <li *ngIf=\"timeDt.employeeList.length == 0\">\r\n                  <span style=\"padding: 5px;margin-left: 16px;\"> -- </span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n      </div>\r\n      <br/>\r\n      <div class=\"row\">\r\n        <div class=\"col-xl-10 col-lg-10 col-md-12 col-sm-12\">\r\n          <div class=\"example-button-row\">\r\n            <button mat-raised-button color=\"primary\" [type]=\"submit\" \r\n              (click)=\"setStudentScheduleInfo()\">{{'BUTTON.ADD-BTN' | translate}}</button>\r\n            <button mat-raised-button color=\"warn\" (click)=\"dialogRef.close()\" tabindex=\"-1\">{{'BUTTON.CANCEL-BTN' | translate}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n","import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { Component, Inject , ViewChild, ElementRef } from '@angular/core';\r\nimport { StudentScheduleService } from '../../students-schedule.service';\r\nimport {COMMA, ENTER} from '@angular/cdk/keycodes';\r\nimport { MatRadioChange } from '@angular/material/radio';\r\n\r\nimport {  FormBuilder, FormGroup, Validators,FormControl, AbstractControl, ValidatorFn } from '@angular/forms';\r\n\r\nimport { Calendar } from '../../students-schedule.model';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport {MatAutocompleteSelectedEvent, MatAutocomplete, MatAutocompleteTrigger} from '@angular/material/autocomplete';\r\n\r\nfunction autocompleteObjectValidator(): ValidatorFn {\r\n  return (control: AbstractControl): { [key: string]: any } | null => {\r\n    if (typeof control.value === 'string') {\r\n      return { 'invalidAutocompleteObject': { value: control.value } }\r\n    }\r\n    return null  /* valid option selected */\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'app-form-dialog',\r\n  templateUrl: './form-dialog.component.html',\r\n  styleUrls: ['./form-dialog.component.sass']\r\n})\r\n\r\n\r\nexport class FormDialogComponent {\r\n\r\n  @ViewChild('autocompleteTrigger') matACTrigger: MatAutocompleteTrigger;\r\n  @ViewChild('licenceInput') licenceInput: ElementRef<HTMLInputElement>;\r\n\r\n  action: string;\r\n  dialogTitle: string;\r\n  calendarForm: FormGroup;\r\n  calendar: Calendar;\r\n  showDeleteBtn = false;\r\n  ViewAssignList;\r\n  scheduleList;\r\n  timeArray;\r\n\r\n  selectable = true;\r\n  removable = true;\r\n  separatorKeysCodes: number[] = [ENTER, COMMA];\r\n  selectedInstructor: any;\r\n  enrollData:any;\r\n  finalArray: any[] = [];\r\n\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<FormDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public calendarService: StudentScheduleService,\r\n    private fb: FormBuilder,private toastrService: ToastrService,\r\n  ) {\r\n    // Set the defaults\r\n    this.getTimeDetails();\r\n    this.action = data.action;\r\n    if (this.action === 'edit') {\r\n     console.log(\"edit===========\",data.calendar)\r\n      this.dialogTitle = data.calendar.title;\r\n      this.calendar = data.calendar;\r\n      this.enrollData={\r\n        studentId:data.calendar.enrollData.student_id,\r\n        enrollId:data.calendar.enrollData.id,\r\n        statusId:data.calendar.statusid,\r\n        scheduleDate:data.calendar.startDate\r\n      };\r\n      this.calendarService.getSelectedScheduleInfoStudent(this.enrollData,sessionStorage.client)\r\n      .subscribe(res=>{\r\n        console.log(\"-----getSelectedScheduleInfoStudent----------\",res);\r\n        let resData=res['scheduleList'];\r\n        let existingSchedule=res['existingSchedule'];\r\n        for(let i=0;i<resData.length;i++){\r\n          console.log(\"ii========\",i,resData[i].employee_id)\r\n          for(let j=0;j<this.timeArray.length;j++){\r\n            let timeSlotDt=this.zeroPad(resData[i].TimeSlot,this.timeArray.length);\r\n              // let timeSlotDt=resData[i].TimeSlot;\r\n              // console.log(\"timeSlotDt=====\",timeSlotDt)\r\n              if(timeSlotDt[j] == 1){\r\n                this.timeArray[j].employeeList.push({\r\n                  id:resData[i].employee_id,\r\n                  name:resData[i].employeeName,\r\n                  checked:false\r\n                })\r\n              }\r\n          }\r\n        }\r\n\r\n        if(existingSchedule.length > 0){\r\n          this.finalArray=[];\r\n          for(let i=0;i<existingSchedule.length;i++){\r\n            for(let j=0;j<this.timeArray.length;j++){\r\n              let timeSlotDt=this.zeroPad(existingSchedule[i].TimeSlot,this.timeArray.length);\r\n              if(timeSlotDt[j] == 1){\r\n                if(this.timeArray[j].employeeList.length > 0 ){\r\n                  for(let k=0;k<this.timeArray[j].employeeList.length;k++){\r\n                      if(this.timeArray[j].employeeList[k].id == existingSchedule[i].employee_id){\r\n                        this.timeArray[j].employeeList[k].checked=true;\r\n                          var obj=this.timeArray[j];\r\n                          obj.selected=this.timeArray[j].employeeList[k];\r\n                          this.finalArray.push(obj);\r\n                      }else{\r\n                        this.timeArray[j].employeeList[k].checked=false;\r\n                      }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        console.log(\"Updated------one-------\",this.timeArray)\r\n\r\n      })\r\n      this.calendarForm = this.editContactForm();\r\n    } else {\r\n      \r\n    }\r\n    \r\n    this.getScheduleList();\r\n  }\r\n  formControl = new FormControl('', [\r\n    Validators.required\r\n    // Validators.email,\r\n  ]);\r\n  getErrorMessage() {\r\n    return this.formControl.hasError('required')\r\n      ? 'Required field'\r\n      : this.formControl.hasError('email')\r\n        ? 'Not a valid email'\r\n        : '';\r\n  }\r\n\r\n  zeroPad(num,total) {\r\n    console.log(num)\r\n    return num.toString().padStart(Number(total), \"0\");\r\n  }\r\n\r\n\r\n  editContactForm(): FormGroup {\r\n    return this.fb.group({\r\n      id: [this.calendar.id],\r\n      lead_time: [\r\n        this.calendar.lead_time,\r\n        [Validators.required]\r\n      ],\r\n      schedule_name: [this.calendar.schedule_name],\r\n      // schedule_owner: [this.calendar.schedule_owner],\r\n      schedule_view: [this.calendar.schedule_view],\r\n      startDate: [this.calendar.startDate,\r\n      [Validators.required]\r\n      ],\r\n      endDate: [this.calendar.endDate,\r\n      [Validators.required]\r\n      ]\r\n    });\r\n  }\r\n \r\n  \r\n  submit(){\r\n\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n\r\n  setStudentScheduleInfo() {\r\n    console.log(\"----------this.finalArray---------------\",this.finalArray);\r\n    for(let i=0;i<this.finalArray.length;i++){\r\n      this.finalArray[i].timeSlot='';\r\n      for(let j=0;j<this.timeArray.length;j++){\r\n        this.finalArray[i].timeSlot=this.finalArray[i].timeSlot+(this.finalArray[i].range == this.timeArray[j].range ? 1 : 0)\r\n      }\r\n    }\r\n    console.log(\" this.finalArray=======final===========\", this.finalArray)\r\n    console.log(\"-----setStudentScheduleInfo----------\",this.selectedInstructor,this.enrollData)\r\n    this.calendarService.setStudentScheduleInfo(this.finalArray,this.enrollData,sessionStorage.client)\r\n    .subscribe(res=>{\r\n        if(res['status'] == 'Success'){\r\n          this.toastrService.success(\"Scheduled Successfully!!\");\r\n          this.dialogRef.close('submit');\r\n        }\r\n    })\r\n\r\n  }\r\n\r\n  displayFn(user): string {\r\n    return user && user.name ? user.name : '';\r\n  }\r\n\r\n  \r\n\r\n  \r\n  instructorChange(event: MatRadioChange, data){\r\n    console.log(\"type of===obj-------\",event.value,this.finalArray);\r\n    console.log(\"data=========\",data);\r\n    var obj = this.timeArray.filter(x => x.range == data.range)[0];\r\n    console.log(obj);\r\n    obj.selected = event.value;\r\n    console.log(\"obj.selected--------------------\",obj.selected)\r\n    if (!this.finalArray.some(x => x.range == data.range)) {\r\n      console.log(\"if--------------------\")\r\n          this.finalArray.push(obj);\r\n    }\r\n    console.log(\"finalArray=========\",this.finalArray);\r\n\r\n  }\r\n\r\n\r\n  getScheduleList(){\r\n    this.calendarService.getScheduleList()\r\n    .subscribe(res=>{\r\n        this.scheduleList=res['data'];\r\n        console.log(\"this.ViewAssignList====\",this.ViewAssignList)\r\n    })\r\n  }\r\n\r\n  getTimeDetails(){\r\n    this.calendarService.getTimeDetails(sessionStorage.client)\r\n    .subscribe((res)=>{\r\n        let resObj=res['data'][0];\r\n        console.log(\"res['data'][0]=====timeeee================\",res['data'][0]);\r\n        this.makeTimeIntervals((resObj.working_hour_from).substr(0, 5),(resObj.working_hour_to).substr(0, 5),60,(resObj.rest_hour_from).substr(0, 5),(resObj.rest_hour_to).substr(0, 5))\r\n    })\r\n  }\r\n\r\n  makeTimeIntervals (startTime, endTime, increment, restStart, restEnd){\r\n    startTime = startTime.toString().split(':');\r\n    endTime = endTime.toString().split(':');\r\n    increment = parseInt(increment, 10);\r\n\r\n    var pad = function (n) { return (n < 10) ? '0' + n.toString() : n; },\r\n        startHr = parseInt(startTime[0], 10),\r\n        startMin = parseInt(startTime[1], 10),\r\n        endHr = parseInt(endTime[0], 10),\r\n        endMin = parseInt(endTime[1], 10),\r\n        currentHr = startHr,\r\n        currentMin = startMin,\r\n        previous = currentHr + ':' + pad(currentMin),\r\n        current = '',\r\n        r = [];\r\n\r\n    do {\r\n        currentMin += increment;\r\n        if ((currentMin % 60) === 0 || currentMin > 60) {\r\n            currentMin = (currentMin === 60) ? 0 : currentMin - 60;\r\n            currentHr += 1;\r\n        }\r\n        current = currentHr + ':' + pad(currentMin);\r\n        r.push({'range':previous + ' - ' + current,'checkValue':0,employeeList:[]});\r\n        previous = current;\r\n  } while (currentHr !== endHr);\r\n      var restTime=restStart+' - '+ restEnd;\r\n      console.log(\"restStart+ ' - ' + restEnd===\",typeof restTime);\r\n      this.timeArray=r.filter((el)=>{return el.range != restTime});\r\n      console.log(\"this.timeArray====\",this.timeArray);\r\n};\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AddScheduleComponent } from './add-schedule/add-schedule.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'schedule-list',\r\n    component: AddScheduleComponent\r\n  },\r\n  // {\r\n  //   path: 'edit-package/:id',\r\n  //   component: EditScheduleComponent\r\n  // },\r\n  // {\r\n  //   path: 'about-student',\r\n  //   component: AboutStudentComponent\r\n  // }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class StudentScheduleRoutingModule {}\r\n","import { formatDate } from '@angular/common';\r\nexport class Calendar {\r\n    id: number;\r\n    lead_time: string;\r\n    schedule_name: string;\r\n    schedule_owner:string;\r\n    schedule_view:string;\r\n    schedule_view_assignment:string;\r\n    startDate: string;\r\n    endDate: string;\r\n\r\n    constructor(calendar) {\r\n        {\r\n            this.id = calendar.id || this.getRandomID();\r\n            this.lead_time = calendar.lead_time || '';\r\n            this.schedule_name = calendar.schedule_name || '';\r\n            this.schedule_owner = calendar.schedule_owner || '';\r\n            this.schedule_view = calendar.schedule_view || '';\r\n            this.schedule_view_assignment = calendar.schedule_view_assignment || '';\r\n            this.startDate = formatDate(new Date(), 'yyyy-MM-dd', 'en') || '';\r\n            this.endDate = formatDate(new Date(), 'yyyy-MM-dd', 'en') || '';\r\n        }\r\n    }\r\n    public getRandomID(): string {\r\n        const S4 = () => {\r\n            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n        };\r\n        return S4() + S4();\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MaterialFileInputModule } from 'ngx-material-file-input';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatStepperModule } from '@angular/material/stepper';\r\nimport { NgxMaskModule } from 'ngx-mask';\r\nimport { StudentScheduleRoutingModule } from './students-schedule-routing.module';\r\nimport { StudentScheduleService } from './students-schedule.service';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\nimport {MatChipsModule} from '@angular/material/chips';\r\nimport { FullCalendarModule } from \"@fullcalendar/angular\";\r\nimport { OwlDateTimeModule, OwlNativeDateTimeModule } from \"ng-pick-datetime\";  \r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\r\nimport listPlugin from \"@fullcalendar/list\";\r\nimport interactionPlugin from \"@fullcalendar/interaction\";\r\nimport { MatRadioModule } from '@angular/material/radio';\r\n\r\nimport { FormDialogComponent as calFormComponent } from \"./dialogs/form-dialog/form-dialog.component\";\r\n\r\nimport { AddScheduleComponent } from './add-schedule/add-schedule.component';\r\n\r\n\r\n\r\nFullCalendarModule.registerPlugins([\r\n  dayGridPlugin,\r\n  timeGridPlugin,\r\n  listPlugin,\r\n  interactionPlugin,\r\n]);\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddScheduleComponent,calFormComponent\r\n  ],\r\n  imports: [NgxDatatableModule,MatChipsModule,\r\n    CKEditorModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatTableModule,\r\n    MatPaginatorModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatSnackBarModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatDialogModule,\r\n    MatSortModule,  \r\n    MatToolbarModule,\r\n    MatSelectModule,\r\n    MatDatepickerModule,\r\n    MatCheckboxModule,\r\n    MatTabsModule,\r\n    MatMenuModule,MatRadioModule,\r\n    MaterialFileInputModule,\r\n    StudentScheduleRoutingModule,\r\n    MatProgressSpinnerModule,MatStepperModule,\r\n    NgxMaskModule,TranslateModule,\r\n    MatAutocompleteModule,\r\n    FullCalendarModule, OwlDateTimeModule,\r\n    OwlNativeDateTimeModule,\r\n  ],\r\n  providers: [StudentScheduleService],\r\n})\r\nexport class StudentScheduleModule {}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { Calendar } from \"./students-schedule.model\";\r\nimport { Observable } from \"rxjs\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { throwError } from \"rxjs\";\r\nimport { catchError } from \"rxjs/operators\";\r\nimport { environment } from '../../../environments/environment'\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class StudentScheduleService {\r\n\r\n  private readonly API_URL = \"assets/data/calendar.json\";\r\n  httpOptions = {\r\n    headers: new HttpHeaders({\r\n      \"Content-Type\": \"application/json\",\r\n    }),\r\n  };\r\n  dataChange: BehaviorSubject<Calendar[]> = new BehaviorSubject<Calendar[]>([]);\r\n  // Temporarily stores data from dialogs\r\n  dialogData: any;\r\n  constructor(private http: HttpClient) {}\r\n  get data(): Calendar[] {\r\n    return this.dataChange.value;\r\n  }\r\n  getDialogData() {\r\n    return this.dialogData;\r\n  }\r\n  getAllCalendars(): Observable<Calendar[]> {\r\n    return this.http\r\n      .get<Calendar[]>(this.API_URL)\r\n      .pipe(catchError(this.errorHandler));\r\n  }\r\n\r\n\r\n  deleteCalendar(calendar: Calendar): void {\r\n    this.dialogData = calendar;\r\n  }\r\n  errorHandler(error) {\r\n    let errorMessage = \"\";\r\n    if (error.error instanceof ErrorEvent) {\r\n      errorMessage = error.error.message;\r\n    } else {\r\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\r\n    }\r\n    console.log(errorMessage);\r\n    return throwError(errorMessage);\r\n  }\r\n\r\n  getScheduleList(){\r\n    return this.http\r\n    .get<any>(`${environment.apiUrl}/webRoutes/getScheduleList`)\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  setScheduleDetails(calendarData,timeSlot,viewAssign_selected,authToken,client){\r\n    return this.http\r\n    .post<any>(`${environment.apiUrl}/webRoutes/setScheduleDetails`,{calendarData,timeSlot,viewAssign_selected,authToken,client})\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  getScheduleDetailsForStudent(statusid,client,authToken){\r\n    return this.http\r\n    .post<any>(`${environment.apiUrl}/webRoutes/getScheduleDetailsForStudent`,{statusid,client,authToken})\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  updateScheduleDetails(calendarData,viewAssign_selected,authToken,client){\r\n    return this.http\r\n    .post<any>(`${environment.apiUrl}/webRoutes/updateScheduleDetails`,{calendarData,viewAssign_selected,authToken,client})\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  deleteScheduleDetails(calendarData,authToken,client){\r\n    return this.http\r\n    .post<any>(`${environment.apiUrl}/webRoutes/deleteScheduleDetails`,{calendarData,authToken,client})\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  getTimeDetails(client){\r\n    return this.http\r\n      .post<any>(`${environment.apiUrl}/webRoutes/getTimeDetails`,{client})\r\n      .pipe(\r\n        map((res) => {\r\n          return res;\r\n        })\r\n      );\r\n  }\r\n  \r\n  getSelectedScheduleInfoStudent(enrollData,client){\r\n    return this.http\r\n      .post<any>(`${environment.apiUrl}/webRoutes/getSelectedScheduleInfoStudent`,{enrollData,client})\r\n      .pipe(\r\n        map((res) => {\r\n          return res;\r\n        })\r\n      );\r\n  }\r\n\r\n  getNRICNumberForStudentSchedule(clientid){\r\n    return this.http\r\n    .post<any>(`${environment.apiUrl}/webRoutes/getNRICNumberForStudentSchedule`,{clientid})\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  getPassportNumberForStudentSchedule(clientid){\r\n    return this.http\r\n    .post<any>(`${environment.apiUrl}/webRoutes/getPassportNumberForStudentSchedule`,{clientid})\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  getEnrollmentNumberForSchedule(studentId,clientid){\r\n    return this.http\r\n    .post<any>(`${environment.apiUrl}/webRoutes/getEnrollmentNumberForSchedule`,{studentId,clientid})\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  setStudentScheduleInfo(finalArray,enrollData,clientid){\r\n    return this.http\r\n    .post<any>(`${environment.apiUrl}/webRoutes/setStudentScheduleInfo`,{finalArray,enrollData,clientid})\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n}\r\n"]}