(self.webpackChunksmart=self.webpackChunksmart||[]).push([[640],{55640:function(t,e,a){"use strict";a.r(e),a.d(e,{ReportsModule:function(){return C}});var r=a(61116),o=a(31041),i=a(39199),n=a(5609),l=a(13070),s=a(9550),m=a(84369),c=a(77307),p=a(92935),d=a(59241),g=a(69024),u=a(40994),Z=a(97070),T=a(87672),A=a(60649),h=a(79961),R=a(17647),f=a(31269),E=a(22797),q=a(7436),b=a(91681),v=a(529),x=a(35366),U=a(42693);let S=(()=>{class t{constructor(t){this.http=t}getRegistrationReportForAdmin(t,e){return this.http.post(`${v.N.apiUrl}/report/getRegistrationReportForAdmin`,{dateObj:t,client:e}).pipe((0,b.U)(t=>t))}getRevenueReportForAdmin(t,e){return this.http.post(`${v.N.apiUrl}/report/getRevenueReportForAdmin`,{dateObj:t,client:e}).pipe((0,b.U)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(x.LFG(U.eN))},t.\u0275prov=x.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var N=a(35729),_=a(50518);function I(t,e){1&t&&(x.TgZ(0,"mat-error"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&t&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"REVENUE-REPORT.LIST.FROMDATE")," is required "))}function w(t,e){1&t&&(x.TgZ(0,"mat-error"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&t&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"REVENUE-REPORT.LIST.TODATE")," is required "))}function O(t,e){1&t&&(x.TgZ(0,"mat-error"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&t&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"REGISTRATION-REPORT.LIST.FROMDATE")," is required "))}function L(t,e){1&t&&(x.TgZ(0,"mat-error"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&t&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"REGISTRATION-REPORT.LIST.TODATE")," is required "))}function k(t,e){if(1&t&&(x.TgZ(0,"td",41),x._UZ(1,"img",42),x.qZA()),2&t){const t=e.value;x.xp6(1),x.s9C("src",t||"assets/images/nologo.png",x.LSH)}}const J=[{path:"revenue-report",component:(()=>{class t{constructor(t,e,a){this.reportService=t,this.toastrService=e,this.fb=a,this.columns=[{name:"Student Name"},{name:"Transaction Number"},{name:"Package"},{name:"Package Type"},{name:"Package Amount"},{name:"Payment Status"},{name:"Amount Paid"},{name:"Status"}],this.data=[],this.filteredData=[],this.translateVal="ml"==localStorage.lang?"malay":"english",this.regReportForm=this.fb.group({from_date:[new Date],to_date:[new Date]})}ngOnInit(){this.getRevenueReportForAdmin()}refresh(){this.getRevenueReportForAdmin()}getRevenueReportForAdmin(){console.log("this.regReportForm.value===",this.regReportForm.value),this.reportService.getRevenueReportForAdmin(this.regReportForm.value,sessionStorage.client).subscribe(t=>{for(let e=0;e<t.data.length;e++)t.data[e].payment_phase=t.data[e][this.translateVal],t.data[e].package=t.data[e]["package_"+this.translateVal];this.data=t.data,this.filteredData=t.data})}getRevenueReport(){this.getRevenueReportForAdmin()}filterDatatable(t){const e=t.target.value.toLowerCase(),a=this.columns.length,r=Object.keys(this.filteredData[0]);this.data=this.filteredData.filter(function(t){for(let o=0;o<a;o++)if(-1!==t[r[o]].toString().toLowerCase().indexOf(e)||!e)return!0}),this.table.offset=0}}return t.\u0275fac=function(e){return new(e||t)(x.Y36(S),x.Y36(_._W),x.Y36(o.qu))},t.\u0275cmp=x.Xpm({type:t,selectors:[["app-revenue-report"]],viewQuery:function(t,e){if(1&t&&x.Gf(R.nE,5),2&t){let t;x.iGM(t=x.CRH())&&(e.table=t.first)}},decls:69,vars:59,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12"],[1,"mt-5"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"materialTableHeader"],[3,"formGroup"],[1,"col-4"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","from_date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["matInput","","formControlName","to_date",3,"matDatepicker"],["topicker",""],[1,"col-2",2,"padding","10px"],["mat-raised-button","","color","primary",3,"click"],[1,"col-2"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],[1,"material",3,"rows","columns","sortType","columnMode","headerHeight","footerHeight","rowHeight","limit"],["table",""],["prop","name",3,"name","width"],["prop","registration_no",3,"name","width"],["prop","package",3,"name","width"],["prop","payment_phase",3,"name","width"],["prop","final_package_price",3,"name","width"],["prop","payment_status",3,"name","width"],["prop","amountPaid",3,"name","width"],["prop","status",3,"name","width"]],template:function(t,e){if(1&t&&(x.TgZ(0,"section",0),x.TgZ(1,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"div",3),x.TgZ(4,"div",4),x.TgZ(5,"ul",5),x.TgZ(6,"li",6),x.TgZ(7,"h4",7),x._uU(8),x.ALo(9,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(10,"div",3),x.TgZ(11,"div",8),x.TgZ(12,"div",9),x.TgZ(13,"div",10),x.TgZ(14,"div",11),x.TgZ(15,"div",12),x.TgZ(16,"div",13),x.TgZ(17,"div",14),x.TgZ(18,"form",15),x.TgZ(19,"div",3),x.TgZ(20,"div",16),x.TgZ(21,"mat-form-field",17),x.TgZ(22,"mat-label"),x._uU(23),x.ALo(24,"translate"),x.qZA(),x._UZ(25,"input",18),x._UZ(26,"mat-datepicker-toggle",19),x._UZ(27,"mat-datepicker",null,20),x.YNc(29,I,3,3,"mat-error",21),x.qZA(),x.qZA(),x.TgZ(30,"div",16),x.TgZ(31,"mat-form-field",17),x.TgZ(32,"mat-label"),x._uU(33),x.ALo(34,"translate"),x.qZA(),x._UZ(35,"input",22),x._UZ(36,"mat-datepicker-toggle",19),x._UZ(37,"mat-datepicker",null,23),x.YNc(39,w,3,3,"mat-error",21),x.qZA(),x.qZA(),x.TgZ(40,"div",24),x.TgZ(41,"button",25),x.NdJ("click",function(){return e.getRevenueReport()}),x._uU(42),x.ALo(43,"translate"),x.qZA(),x.qZA(),x.TgZ(44,"div",26),x.TgZ(45,"ul",27),x.TgZ(46,"li"),x.TgZ(47,"div",28),x.TgZ(48,"button",29),x.NdJ("click",function(){return e.refresh()}),x.TgZ(49,"mat-icon",30),x._uU(50,"refresh "),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(51,"ngx-datatable",31,32),x._UZ(53,"ngx-datatable-column",33),x.ALo(54,"translate"),x._UZ(55,"ngx-datatable-column",34),x.ALo(56,"translate"),x._UZ(57,"ngx-datatable-column",35),x.ALo(58,"translate"),x._UZ(59,"ngx-datatable-column",36),x.ALo(60,"translate"),x._UZ(61,"ngx-datatable-column",37),x.ALo(62,"translate"),x._UZ(63,"ngx-datatable-column",38),x.ALo(64,"translate"),x._UZ(65,"ngx-datatable-column",39),x.ALo(66,"translate"),x._UZ(67,"ngx-datatable-column",40),x.ALo(68,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&t){const t=x.MAs(28),a=x.MAs(38);x.xp6(8),x.Oqu(x.lcZ(9,35,"REVENUE-REPORT.TITLE")),x.xp6(10),x.Q6J("formGroup",e.regReportForm),x.xp6(5),x.hij("",x.lcZ(24,37,"REVENUE-REPORT.LIST.FROMDATE"),"*"),x.xp6(2),x.Q6J("matDatepicker",t),x.xp6(1),x.Q6J("for",t),x.xp6(3),x.Q6J("ngIf",e.regReportForm.get("from_date").hasError("required")),x.xp6(4),x.hij("",x.lcZ(34,39,"REVENUE-REPORT.LIST.TODATE"),"*"),x.xp6(2),x.Q6J("matDatepicker",a),x.xp6(1),x.Q6J("for",t),x.xp6(3),x.Q6J("ngIf",e.regReportForm.get("to_date").hasError("required")),x.xp6(3),x.Oqu(x.lcZ(43,41,"BUTTON.SEARCH-BTN")),x.xp6(9),x.Q6J("rows",e.data)("columns",e.columns)("sortType","multi")("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","60")("limit",10),x.xp6(2),x.s9C("name",x.lcZ(54,43,"REVENUE-REPORT.LIST.STUDENT-NAME")),x.Q6J("width",130),x.xp6(2),x.s9C("name",x.lcZ(56,45,"REVENUE-REPORT.LIST.TRAN-NO")),x.Q6J("width",130),x.xp6(2),x.s9C("name",x.lcZ(58,47,"REVENUE-REPORT.LIST.PACKAGE")),x.Q6J("width",200),x.xp6(2),x.s9C("name",x.lcZ(60,49,"REVENUE-REPORT.LIST.PACKAGE-TYPE")),x.Q6J("width",200),x.xp6(2),x.s9C("name",x.lcZ(62,51,"REVENUE-REPORT.LIST.PACKAGE-AMOUNT")),x.Q6J("width",200),x.xp6(2),x.s9C("name",x.lcZ(64,53,"REVENUE-REPORT.LIST.PAYMENT-STATUS")),x.Q6J("width",200),x.xp6(2),x.s9C("name",x.lcZ(66,55,"REVENUE-REPORT.LIST.AMOUNT-PAID")),x.Q6J("width",200),x.xp6(2),x.s9C("name",x.lcZ(68,57,"REVENUE-REPORT.LIST.STATUS")),x.Q6J("width",200)}},directives:[o._Y,o.JL,o.sg,l.KE,l.hX,s.Nt,o.Fj,g.hl,o.JJ,o.u,g.nW,l.R9,g.Mq,r.O5,m.lW,c.Hw,R.nE,R.UC,l.TO],pipes:[A.X$],styles:[""]}),t})()},{path:"registration-report",component:(()=>{class t{constructor(t,e,a){this.reportService=t,this.toastrService=e,this.fb=a,this.columns=[{name:"Name"},{name:"NRIC Number"},{name:"Passport Number"},{name:"Gender"},{name:"Mobile"},{name:"Email"},{name:"Status"}],this.data=[],this.filteredData=[],this.translateVal="ml"==localStorage.lang?"malay":"english",this.regReportForm=this.fb.group({from_date:[new Date],to_date:[new Date]})}ngOnInit(){this.getRegistrationReportForAdmin()}refresh(){this.getRegistrationReportForAdmin()}getRegistrationReportForAdmin(){console.log("this.regReportForm.value===",this.regReportForm.value),this.reportService.getRegistrationReportForAdmin(this.regReportForm.value,sessionStorage.client).subscribe(t=>{this.data=t.data,this.filteredData=t.data})}getRegistrationReport(){this.getRegistrationReportForAdmin()}filterDatatable(t){const e=t.target.value.toLowerCase(),a=this.columns.length,r=Object.keys(this.filteredData[0]);this.data=this.filteredData.filter(function(t){for(let o=0;o<a;o++)if(-1!==t[r[o]].toString().toLowerCase().indexOf(e)||!e)return!0}),this.table.offset=0}}return t.\u0275fac=function(e){return new(e||t)(x.Y36(S),x.Y36(_._W),x.Y36(o.qu))},t.\u0275cmp=x.Xpm({type:t,selectors:[["app-registration-report"]],viewQuery:function(t,e){if(1&t&&x.Gf(R.nE,5),2&t){let t;x.iGM(t=x.CRH())&&(e.table=t.first)}},decls:67,vars:52,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12"],[1,"mt-5"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"materialTableHeader"],[3,"formGroup"],[1,"col-4"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","from_date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["matInput","","formControlName","to_date",3,"matDatepicker"],["topicker",""],[1,"col-2",2,"padding","10px"],["mat-raised-button","","color","primary",3,"click"],[1,"col-2"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],[1,"material",3,"rows","columns","sortType","columnMode","headerHeight","footerHeight","rowHeight","limit"],["table",""],["name","Image","sortable","false","prop","profile_img",3,"width"],["ngx-datatable-cell-template",""],["prop","name",3,"name","width"],["prop","nric_number",3,"name","width"],["prop","passport_number",3,"name","width"],["prop","mobile_number",3,"name","width"],["prop","email_id",3,"name","width"],["prop","status",3,"name","width"],[1,"table-img","padding-0"],["width","40",3,"src"]],template:function(t,e){if(1&t&&(x.TgZ(0,"section",0),x.TgZ(1,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"div",3),x.TgZ(4,"div",4),x.TgZ(5,"ul",5),x.TgZ(6,"li",6),x.TgZ(7,"h4",7),x._uU(8),x.ALo(9,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(10,"div",3),x.TgZ(11,"div",8),x.TgZ(12,"div",9),x.TgZ(13,"div",10),x.TgZ(14,"div",11),x.TgZ(15,"div",12),x.TgZ(16,"div",13),x.TgZ(17,"div",14),x.TgZ(18,"form",15),x.TgZ(19,"div",3),x.TgZ(20,"div",16),x.TgZ(21,"mat-form-field",17),x.TgZ(22,"mat-label"),x._uU(23),x.ALo(24,"translate"),x.qZA(),x._UZ(25,"input",18),x._UZ(26,"mat-datepicker-toggle",19),x._UZ(27,"mat-datepicker",null,20),x.YNc(29,O,3,3,"mat-error",21),x.qZA(),x.qZA(),x.TgZ(30,"div",16),x.TgZ(31,"mat-form-field",17),x.TgZ(32,"mat-label"),x._uU(33),x.ALo(34,"translate"),x.qZA(),x._UZ(35,"input",22),x._UZ(36,"mat-datepicker-toggle",19),x._UZ(37,"mat-datepicker",null,23),x.YNc(39,L,3,3,"mat-error",21),x.qZA(),x.qZA(),x.TgZ(40,"div",24),x.TgZ(41,"button",25),x.NdJ("click",function(){return e.getRegistrationReport()}),x._uU(42),x.ALo(43,"translate"),x.qZA(),x.qZA(),x.TgZ(44,"div",26),x.TgZ(45,"ul",27),x.TgZ(46,"li"),x.TgZ(47,"div",28),x.TgZ(48,"button",29),x.NdJ("click",function(){return e.refresh()}),x.TgZ(49,"mat-icon",30),x._uU(50,"refresh "),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(51,"ngx-datatable",31,32),x.TgZ(53,"ngx-datatable-column",33),x.YNc(54,k,2,1,"ng-template",34),x.qZA(),x._UZ(55,"ngx-datatable-column",35),x.ALo(56,"translate"),x._UZ(57,"ngx-datatable-column",36),x.ALo(58,"translate"),x._UZ(59,"ngx-datatable-column",37),x.ALo(60,"translate"),x._UZ(61,"ngx-datatable-column",38),x.ALo(62,"translate"),x._UZ(63,"ngx-datatable-column",39),x.ALo(64,"translate"),x._UZ(65,"ngx-datatable-column",40),x.ALo(66,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&t){const t=x.MAs(28),a=x.MAs(38);x.xp6(8),x.Oqu(x.lcZ(9,32,"REGISTRATION-REPORT.TITLE")),x.xp6(10),x.Q6J("formGroup",e.regReportForm),x.xp6(5),x.hij("",x.lcZ(24,34,"REGISTRATION-REPORT.LIST.FROMDATE"),"*"),x.xp6(2),x.Q6J("matDatepicker",t),x.xp6(1),x.Q6J("for",t),x.xp6(3),x.Q6J("ngIf",e.regReportForm.get("from_date").hasError("required")),x.xp6(4),x.hij("",x.lcZ(34,36,"REGISTRATION-REPORT.LIST.TODATE"),"*"),x.xp6(2),x.Q6J("matDatepicker",a),x.xp6(1),x.Q6J("for",t),x.xp6(3),x.Q6J("ngIf",e.regReportForm.get("to_date").hasError("required")),x.xp6(3),x.Oqu(x.lcZ(43,38,"BUTTON.SEARCH-BTN")),x.xp6(9),x.Q6J("rows",e.data)("columns",e.columns)("sortType","multi")("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","60")("limit",10),x.xp6(2),x.Q6J("width",100),x.xp6(2),x.s9C("name",x.lcZ(56,40,"STUDENT-REGISTRATION.LIST.NAME")),x.Q6J("width",130),x.xp6(2),x.s9C("name",x.lcZ(58,42,"STUDENT-REGISTRATION.LIST.NRIC")),x.Q6J("width",130),x.xp6(2),x.s9C("name",x.lcZ(60,44,"STUDENT-REGISTRATION.LIST.PASSPORT")),x.Q6J("width",200),x.xp6(2),x.s9C("name",x.lcZ(62,46,"STUDENT-REGISTRATION.LIST.MOBILENO")),x.Q6J("width",200),x.xp6(2),x.s9C("name",x.lcZ(64,48,"STUDENT-REGISTRATION.LIST.EMAIL")),x.Q6J("width",200),x.xp6(2),x.s9C("name",x.lcZ(66,50,"STUDENT-REGISTRATION.LIST.STATUS")),x.Q6J("width",200)}},directives:[o._Y,o.JL,o.sg,l.KE,l.hX,s.Nt,o.Fj,g.hl,o.JJ,o.u,g.nW,l.R9,g.Mq,r.O5,m.lW,c.Hw,R.nE,R.UC,R.vq,l.TO],pipes:[A.X$],styles:[""]}),t})()}];let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=x.oAB({type:t}),t.\u0275inj=x.cJS({imports:[[N.Bz.forChild(J)],N.Bz]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=x.oAB({type:t}),t.\u0275inj=x.cJS({providers:[S],imports:[[f.ef,E.QW,q.Fk,R.xD,r.ez,o.u5,o.UX,i.p0,n.TU,l.lN,s.c,m.ot,c.Ps,p.Is,d.JX,g.FA,u.p9,Z.Tx,T.Cq,A.aw,h.Bb,D]]}),t})()}}]);