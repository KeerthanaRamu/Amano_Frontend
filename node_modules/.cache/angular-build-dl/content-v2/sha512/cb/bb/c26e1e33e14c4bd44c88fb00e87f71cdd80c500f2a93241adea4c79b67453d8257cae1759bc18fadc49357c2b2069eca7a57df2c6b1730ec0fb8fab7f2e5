!function(){function e(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,n=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(n.push(i.value),!a||n.length!==a);o=!0);}catch(c){l=!0,r=c}finally{try{o||null==t.return||t.return()}finally{if(l)throw r}}return n}(e,a)||t(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,a){if(e){if("string"==typeof e)return i(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,a):void 0}}function i(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,i=new Array(a);t<a;t++)i[t]=e[t];return i}function r(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function n(e,a){for(var t=0;t<a.length;t++){var i=a[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,a,t){return a&&n(e.prototype,a),t&&n(e,t),e}(self.webpackChunksmart=self.webpackChunksmart||[]).push([[3424],{93424:function(t,i,n){"use strict";n.r(i),n.d(i,{PackageModule:function(){return na}});var l=n(61116),c=n(31041),s=n(39199),u=n(5609),p=n(13070),g=n(9550),d=n(63589),m=n(84369),A=n(77307),h=n(13841),Z=n(92935),f=n(59241),_=n(37112),T=n(69024),v=n(40994),k=n(1325),P=n(57173),q=n(97070),y=n(87672),C=n(44716),E=n(51601),L=n(35729),x=n(17647),b=n(35366),I=n(42693),S=n(91681),N=n(529),U=function(){var e=function(){function e(a){r(this,e),this.http=a}return o(e,[{key:"setLicenseDetails",value:function(e,a,t){return this.http.post("".concat(N.N.apiUrl,"/webRoutes/setLicenseDetails"),{licenseData:e,authToken:a,client:t}).pipe((0,S.U)(function(e){return e}))}},{key:"getLicenseListPerClient",value:function(e){return this.http.post("".concat(N.N.apiUrl,"/webRoutes/getLicenseListPerClient"),{client:e}).pipe((0,S.U)(function(e){return e}))}},{key:"getLicenseClassList",value:function(e){return this.http.post("".concat(N.N.apiUrl,"/webRoutes/getLicenseClassList"),{client:e}).pipe((0,S.U)(function(e){return e}))}},{key:"getPakageTypeList",value:function(){return this.http.get("".concat(N.N.apiUrl,"/webRoutes/getPakageTypeList")).pipe((0,S.U)(function(e){return e}))}},{key:"getPaymentPhases",value:function(){return this.http.get("".concat(N.N.apiUrl,"/webRoutes/getPaymentPhases")).pipe((0,S.U)(function(e){return e}))}},{key:"setPackageDetails",value:function(e){return this.http.post("".concat(N.N.apiUrl,"/webRoutes/setPackageDetails"),e).pipe((0,S.U)(function(e){return e}))}},{key:"getPackageListPerClient",value:function(e){return this.http.post("".concat(N.N.apiUrl,"/webRoutes/getPackageListPerClient"),{client:e}).pipe((0,S.U)(function(e){return e}))}},{key:"getPackageToEdit",value:function(e,a){return this.http.post("".concat(N.N.apiUrl,"/webRoutes/getPackageToEdit"),{packageId:e,client:a}).pipe((0,S.U)(function(e){return e}))}},{key:"updatePackageDetails",value:function(e){return this.http.post("".concat(N.N.apiUrl,"/webRoutes/updatePackageDetails"),e).pipe((0,S.U)(function(e){return e}))}},{key:"deletePackageDetails",value:function(e,a,t){return this.http.post("".concat(N.N.apiUrl,"/webRoutes/deletePackageDetails"),{rowToDelete:e,authToken:a,client:t}).pipe((0,S.U)(function(e){return e}))}},{key:"getClientCodeForFolder",value:function(e){return this.http.post("".concat(N.N.apiUrl,"/webRoutes/getClientCodeForFolder"),{client:e}).pipe((0,S.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(a){return new(a||e)(b.LFG(I.eN))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),w=n(24486),G=n(50518),F=n(60649);function K(e,a){if(1&e&&(b.TgZ(0,"td",38),b._UZ(1,"img",39),b.qZA()),2&e){var t=a.value;b.xp6(1),b.s9C("src",t||"assets/images/nologo.png",b.LSH)}}function J(e,a){if(1&e){var t=b.EpF();b.TgZ(0,"span"),b.TgZ(1,"button",40),b.NdJ("click",function(){var e=b.CHM(t),a=e.row,i=e.rowIndex;return b.oxw().editPackage(a,i)}),b.TgZ(2,"mat-icon",41),b._uU(3,"edit "),b.qZA(),b.qZA(),b.TgZ(4,"button",42),b.NdJ("click",function(){var e=b.CHM(t),a=e.row,i=e.rowIndex,r=b.oxw(),n=b.MAs(62);return r.deletePackage(a,i,n)}),b.TgZ(5,"mat-icon",43),b._uU(6,"delete "),b.qZA(),b.qZA(),b.qZA()}}function O(e,a){if(1&e){var t=b.EpF();b.TgZ(0,"div",44),b.TgZ(1,"h4",45),b.TgZ(2,"div",46),b.TgZ(3,"div",47),b.TgZ(4,"div",48),b._uU(5),b.ALo(6,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(7,"button",49),b.NdJ("click",function(){return b.CHM(t).$implicit.dismiss("Cross click")}),b.TgZ(8,"span",50),b.TgZ(9,"i",51),b._uU(10,"close"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(11,"div",52),b.TgZ(12,"p"),b._uU(13),b.ALo(14,"translate"),b.qZA(),b.TgZ(15,"div",53),b.TgZ(16,"div",54),b.TgZ(17,"button",55),b.NdJ("click",function(){return b.CHM(t),b.oxw().deletePackageDetails()}),b._uU(18),b.ALo(19,"translate"),b.qZA(),b.TgZ(20,"button",56),b.NdJ("click",function(){return b.CHM(t).$implicit.close()}),b._uU(21),b.ALo(22,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA()}2&e&&(b.xp6(5),b.hij(" ",b.lcZ(6,4,"PACKAGE.DELETETITLE"),""),b.xp6(8),b.Oqu(b.lcZ(14,6,"BUTTON.CONFIRMATION")),b.xp6(5),b.Oqu(b.lcZ(19,8,"BUTTON.DEL-BTN")),b.xp6(3),b.Oqu(b.lcZ(22,10,"BUTTON.CANCEL-BTN")))}var Y=function(){var e=function(){function e(a,t,i,n,o,l,c){r(this,e),this.httpClient=a,this.dialog=t,this.packageService=i,this.snackBar=n,this.router=o,this.modalService=l,this.toastrService=c,this.columns=[{name:"License Type"},{name:"Package Type"},{name:"Final Package Price"},{name:"Payment Phase"},{name:"Global View"}],this.data=[],this.filteredData=[],this.translateVal="ml"==localStorage.lang?"malay":"english"}return o(e,[{key:"ngOnInit",value:function(){this.loadData()}},{key:"refresh",value:function(){this.loadData()}},{key:"addNewPackage",value:function(){this.router.navigate(["/admin/package/add-package"])}},{key:"loadData",value:function(){var e=this;this.packageService.getPackageListPerClient(sessionStorage.client).subscribe(function(a){console.log("Pack data!!!!!!!!",a.data);for(var t=0;t<a.data.length;t++)a.data[t].global_view=1==a.data[t].global_view,a.data[t].package_type=a.data[t][e.translateVal],a.data[t].payment_phase=a.data[t]["phase_"+e.translateVal];e.data=a.data,e.filteredData=a.data})}},{key:"filterDatatable",value:function(e){var a=e.target.value.toLowerCase(),t=this.columns.length,i=Object.keys(this.filteredData[0]);this.data=this.filteredData.filter(function(e){for(var r=0;r<t;r++)if(-1!==e[i[r]].toString().toLowerCase().indexOf(a)||!a)return!0}),this.table.offset=0}},{key:"editPackage",value:function(e,a){console.log("rowww===",e),this.router.navigate(["/admin/package/edit-package",e.id])}},{key:"deletePackage",value:function(e,a,t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}),this.rowToDelete=e}},{key:"deletePackageDetails",value:function(){var e=this;this.packageService.deletePackageDetails(this.rowToDelete,sessionStorage.currentUser,sessionStorage.client).subscribe(function(a){"Success"==a.status&&(e.toastrService.success("Deleted Successfully!!!"),e.modalService.dismissAll(),e.loadData())})}}]),e}();return e.\u0275fac=function(a){return new(a||e)(b.Y36(I.eN),b.Y36(Z.uw),b.Y36(U),b.Y36(d.ux),b.Y36(L.F0),b.Y36(w.FF),b.Y36(G._W))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-package-list"]],viewQuery:function(e,a){var t;(1&e&&b.Gf(x.nE,5),2&e)&&(b.iGM(t=b.CRH())&&(a.table=t.first))},decls:63,vars:39,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12"],[1,"mt-5"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ml-0"],[1,"dropdown"],[1,"dropdown","m-l-20"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"col-4"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],[1,"material",3,"rows","columns","sortType","columnMode","headerHeight","footerHeight","rowHeight","limit"],["table",""],["name","Image","sortable","false","prop","package_image",3,"width"],["ngx-datatable-cell-template",""],["prop","license_data",3,"name","width"],["prop","package_type",3,"name","width"],["prop","final_package_price",3,"name","width"],["prop","payment_phase",3,"name","width"],["prop","global_view",3,"name","width"],["sortable","false",3,"name","width"],["deleteRecord",""],[1,"table-img","padding-0"],["width","40",3,"src"],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"click"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-button","","type","button",3,"click"]],template:function(e,a){1&e&&(b.TgZ(0,"section",0),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"div",3),b.TgZ(4,"div",4),b.TgZ(5,"ul",5),b.TgZ(6,"li",6),b.TgZ(7,"h4",7),b._uU(8),b.ALo(9,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(10,"div",3),b.TgZ(11,"div",8),b.TgZ(12,"div",9),b.TgZ(13,"div",10),b.TgZ(14,"div",11),b.TgZ(15,"div",12),b.TgZ(16,"div",13),b.TgZ(17,"div",14),b.TgZ(18,"div",3),b.TgZ(19,"div",15),b.TgZ(20,"ul",16),b.TgZ(21,"li",17),b.TgZ(22,"h2"),b.TgZ(23,"strong"),b._uU(24),b.ALo(25,"translate"),b.qZA(),b.qZA(),b.qZA(),b.TgZ(26,"li",18),b.TgZ(27,"label",19),b.TgZ(28,"i",20),b._uU(29,"search"),b.qZA(),b.qZA(),b.TgZ(30,"input",21),b.NdJ("keyup",function(e){return a.filterDatatable(e)}),b.qZA(),b.qZA(),b._UZ(31,"li"),b.qZA(),b.qZA(),b.TgZ(32,"div",22),b.TgZ(33,"ul",23),b.TgZ(34,"li"),b.TgZ(35,"div",24),b.TgZ(36,"button",25),b.NdJ("click",function(){return a.addNewPackage()}),b.TgZ(37,"mat-icon",26),b._uU(38,"add"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(39,"li"),b.TgZ(40,"div",24),b.TgZ(41,"button",25),b.NdJ("click",function(){return a.refresh()}),b.TgZ(42,"mat-icon",26),b._uU(43,"refresh "),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(44,"ngx-datatable",27,28),b.TgZ(46,"ngx-datatable-column",29),b.YNc(47,K,2,1,"ng-template",30),b.qZA(),b._UZ(48,"ngx-datatable-column",31),b.ALo(49,"translate"),b._UZ(50,"ngx-datatable-column",32),b.ALo(51,"translate"),b._UZ(52,"ngx-datatable-column",33),b.ALo(53,"translate"),b._UZ(54,"ngx-datatable-column",34),b.ALo(55,"translate"),b._UZ(56,"ngx-datatable-column",35),b.ALo(57,"translate"),b.TgZ(58,"ngx-datatable-column",36),b.ALo(59,"translate"),b.YNc(60,J,7,0,"ng-template",30),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.YNc(61,O,23,12,"ng-template",null,37,b.W1O)),2&e&&(b.xp6(8),b.Oqu(b.lcZ(9,23,"PACKAGE.LISTTITLE")),b.xp6(16),b.Oqu(b.lcZ(25,25,"PACKAGE.LISTTITLE")),b.xp6(20),b.Q6J("rows",a.data)("columns",a.columns)("sortType","multi")("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","60")("limit",10),b.xp6(2),b.Q6J("width",100),b.xp6(2),b.s9C("name",b.lcZ(49,27,"PACKAGE.LIST.LICENSE-TYPE")),b.Q6J("width",130),b.xp6(2),b.s9C("name",b.lcZ(51,29,"PACKAGE.LIST.PACKAGE-TYPE")),b.Q6J("width",130),b.xp6(2),b.s9C("name",b.lcZ(53,31,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")),b.Q6J("width",200),b.xp6(2),b.s9C("name",b.lcZ(55,33,"PACKAGE.LIST.PAYMENT-PHASE")),b.Q6J("width",200),b.xp6(2),b.s9C("name",b.lcZ(57,35,"PACKAGE.LIST.GLOBAL-VIEW")),b.Q6J("width",200),b.xp6(2),b.s9C("name",b.lcZ(59,37,"PACKAGE.ACTION")),b.Q6J("width",120))},directives:[m.lW,A.Hw,x.nE,x.UC,x.vq],pipes:[F.X$],styles:[""]}),e}(),Q=n(99235),D=n(81258),j=n(22567),M=n(94784),H=n(95522),R=n(79961),V=n(87064),B=n(46739),$=["autocompleteTrigger"],W=["licenceInput"];function X(e,a){1&e&&(b.TgZ(0,"mat-icon",56),b._uU(1,"cancel"),b.qZA())}function z(e,a){if(1&e){var t=b.EpF();b.TgZ(0,"mat-chip",54),b.NdJ("removed",function(){var e=b.CHM(t).$implicit;return b.oxw().remove(e)}),b._uU(1),b.YNc(2,X,2,0,"mat-icon",55),b.qZA()}if(2&e){var i=a.$implicit,r=b.oxw();b.Q6J("selectable",r.selectable)("removable",r.removable),b.xp6(1),b.hij(" ",i," "),b.xp6(1),b.Q6J("ngIf",r.removable)}}function ee(e,a){if(1&e&&(b.TgZ(0,"mat-option",57),b._UZ(1,"mat-checkbox",58),b._uU(2),b.qZA()),2&e){var t=a.$implicit,i=b.oxw();b.Q6J("value",t.license_class),b.xp6(1),b.Q6J("checked",i.license_selected.indexOf(t.license_class)>=0),b.xp6(1),b.hij(" ",t.license_class," ")}}function ae(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.LICENSE-TYPE")," is required "))}function te(e,a){if(1&e&&(b.TgZ(0,"mat-option",57),b._uU(1),b.qZA()),2&e){var t=a.$implicit,i=b.oxw();b.Q6J("value",t),b.xp6(1),b.hij(" ",t[i.translateVal]," ")}}function ie(e,a){if(1&e&&(b.TgZ(0,"div"),b._uU(1),b.qZA()),2&e){var t=b.oxw().$implicit;b.xp6(1),b.hij(" ",t.message," ")}}function re(e,a){if(1&e&&(b.TgZ(0,"mat-error"),b.YNc(1,ie,2,1,"div",26),b.qZA()),2&e){var t=a.$implicit,i=b.oxw();b.xp6(1),b.Q6J("ngIf",i.package_type.hasError(t.type))}}function ne(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-IMAGE")," is required "))}function oe(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-OFFERS")," is required "))}function le(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-ENG")," is required "))}function ce(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-MALAY")," is required "))}function se(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PRICE")," is required "))}function ue(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PROMO-DIS")," is required "))}function pe(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")," is required "))}function ge(e,a){if(1&e&&(b.TgZ(0,"mat-option",57),b._uU(1),b.qZA()),2&e){var t=a.$implicit,i=b.oxw();b.Q6J("value",t),b.xp6(1),b.hij(" ",t[i.translateVal]," ")}}function de(e,a){if(1&e&&(b.TgZ(0,"div"),b._uU(1),b.qZA()),2&e){var t=b.oxw().$implicit;b.xp6(1),b.hij(" ",t.message," ")}}function me(e,a){if(1&e&&(b.TgZ(0,"mat-error"),b.YNc(1,de,2,1,"div",26),b.qZA()),2&e){var t=a.$implicit,i=b.oxw();b.xp6(1),b.Q6J("ngIf",i.payment_phase.hasError(t.type))}}function Ae(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1")," is required "))}function he(e,a){if(1&e&&(b.TgZ(0,"div",38),b.TgZ(1,"mat-form-field",15),b.TgZ(2,"mat-label"),b._uU(3),b.ALo(4,"translate"),b.qZA(),b._UZ(5,"input",59),b.YNc(6,Ae,3,3,"mat-error",26),b.qZA(),b.qZA()),2&e){var t=b.oxw();b.xp6(3),b.hij("",b.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),b.xp6(3),b.Q6J("ngIf",t.addPackageForm.get("first_phase_amount").hasError("required"))}}function Ze(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2")," is required "))}function fe(e,a){if(1&e&&(b.TgZ(0,"div",38),b.TgZ(1,"mat-form-field",15),b.TgZ(2,"mat-label"),b._uU(3),b.ALo(4,"translate"),b.qZA(),b._UZ(5,"input",60),b.YNc(6,Ze,3,3,"mat-error",26),b.qZA(),b.qZA()),2&e){var t=b.oxw();b.xp6(3),b.hij("",b.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),b.xp6(3),b.Q6J("ngIf",t.addPackageForm.get("second_phase_amount").hasError("required"))}}function _e(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3")," is required "))}function Te(e,a){if(1&e&&(b.TgZ(0,"div",38),b.TgZ(1,"mat-form-field",15),b.TgZ(2,"mat-label"),b._uU(3),b.ALo(4,"translate"),b.qZA(),b._UZ(5,"input",61),b.YNc(6,_e,3,3,"mat-error",26),b.qZA(),b.qZA()),2&e){var t=b.oxw();b.xp6(3),b.hij("",b.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),b.xp6(3),b.Q6J("ngIf",t.addPackageForm.get("third_phase_amount").hasError("required"))}}function ve(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-ENG")," is required "))}function ke(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-MALAY")," is required "))}function Pe(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG")," is required "))}function qe(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY")," is required "))}var ye=["autocompleteTrigger"],Ce=["licenceInput"];function Ee(e,a){1&e&&(b.TgZ(0,"mat-icon",58),b._uU(1,"cancel"),b.qZA())}function Le(e,a){if(1&e){var t=b.EpF();b.TgZ(0,"mat-chip",56),b.NdJ("removed",function(){var e=b.CHM(t).$implicit;return b.oxw().remove(e)}),b._uU(1),b.YNc(2,Ee,2,0,"mat-icon",57),b.qZA()}if(2&e){var i=a.$implicit,r=b.oxw();b.Q6J("selectable",r.selectable)("removable",r.removable),b.xp6(1),b.hij(" ",i," "),b.xp6(1),b.Q6J("ngIf",r.removable)}}function xe(e,a){if(1&e&&(b.TgZ(0,"mat-option",59),b._UZ(1,"mat-checkbox",60),b._uU(2),b.qZA()),2&e){var t=a.$implicit,i=b.oxw();b.Q6J("value",t.license_class),b.xp6(1),b.Q6J("checked",i.license_selected.indexOf(t.license_class)>=0),b.xp6(1),b.hij(" ",t.license_class," ")}}function be(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.LICENSE-TYPE")," is required "))}function Ie(e,a){if(1&e&&(b.TgZ(0,"mat-option",59),b._uU(1),b.qZA()),2&e){var t=a.$implicit,i=b.oxw();b.Q6J("value",t),b.xp6(1),b.hij(" ",t[i.translateVal]," ")}}function Se(e,a){if(1&e&&(b.TgZ(0,"div"),b._uU(1),b.qZA()),2&e){var t=b.oxw().$implicit;b.xp6(1),b.hij(" ",t.message," ")}}function Ne(e,a){if(1&e&&(b.TgZ(0,"mat-error"),b.YNc(1,Se,2,1,"div",26),b.qZA()),2&e){var t=a.$implicit,i=b.oxw();b.xp6(1),b.Q6J("ngIf",i.package_type.hasError(t.type))}}function Ue(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-IMAGE")," is required "))}function we(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-OFFERS")," is required "))}function Ge(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-ENG")," is required "))}function Fe(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-MALAY")," is required "))}function Ke(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PRICE")," is required "))}function Je(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PROMO-DIS")," is required "))}function Oe(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")," is required "))}function Ye(e,a){if(1&e&&(b.TgZ(0,"mat-option",59),b._uU(1),b.qZA()),2&e){var t=a.$implicit,i=b.oxw();b.Q6J("value",t),b.xp6(1),b.hij(" ",t[i.translateVal]," ")}}function Qe(e,a){if(1&e&&(b.TgZ(0,"div"),b._uU(1),b.qZA()),2&e){var t=b.oxw().$implicit;b.xp6(1),b.hij(" ",t.message," ")}}function De(e,a){if(1&e&&(b.TgZ(0,"mat-error"),b.YNc(1,Qe,2,1,"div",26),b.qZA()),2&e){var t=a.$implicit,i=b.oxw();b.xp6(1),b.Q6J("ngIf",i.payment_phase.hasError(t.type))}}function je(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1")," is required "))}function Me(e,a){if(1&e&&(b.TgZ(0,"div",40),b.TgZ(1,"mat-form-field",15),b.TgZ(2,"mat-label"),b._uU(3),b.ALo(4,"translate"),b.qZA(),b._UZ(5,"input",61),b.YNc(6,je,3,3,"mat-error",26),b.qZA(),b.qZA()),2&e){var t=b.oxw();b.xp6(3),b.hij("",b.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),b.xp6(3),b.Q6J("ngIf",t.editPackageForm.get("first_phase_amount").hasError("required"))}}function He(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2")," is required "))}function Re(e,a){if(1&e&&(b.TgZ(0,"div",40),b.TgZ(1,"mat-form-field",15),b.TgZ(2,"mat-label"),b._uU(3),b.ALo(4,"translate"),b.qZA(),b._UZ(5,"input",62),b.YNc(6,He,3,3,"mat-error",26),b.qZA(),b.qZA()),2&e){var t=b.oxw();b.xp6(3),b.hij("",b.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),b.xp6(3),b.Q6J("ngIf",t.editPackageForm.get("second_phase_amount").hasError("required"))}}function Ve(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3")," is required "))}function Be(e,a){if(1&e&&(b.TgZ(0,"div",40),b.TgZ(1,"mat-form-field",15),b.TgZ(2,"mat-label"),b._uU(3),b.ALo(4,"translate"),b.qZA(),b._UZ(5,"input",63),b.YNc(6,Ve,3,3,"mat-error",26),b.qZA(),b.qZA()),2&e){var t=b.oxw();b.xp6(3),b.hij("",b.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),b.xp6(3),b.Q6J("ngIf",t.editPackageForm.get("third_phase_amount").hasError("required"))}}function $e(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-ENG")," is required "))}function We(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-MALAY")," is required "))}function Xe(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG")," is required "))}function ze(e,a){1&e&&(b.TgZ(0,"mat-error"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY")," is required "))}var ea,aa,ta,ia=[{path:"package-list",component:Y},{path:"add-package",component:(aa=function(){function t(e,a,i,n,o,l){r(this,t),this.cdRef=e,this.fb=a,this.languageService=i,this.toastrService=n,this.packageService=o,this.router=l,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[Q.K5,Q.OC],this.license_selected=[],this.show2Phase=!1,this.show3Phase=!1,this.translateVal="ml"==localStorage.lang?"malay":"english",this.license_type=new c.NI("",{validators:[function(e){return"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null},c.kI.required]}),this.package_type=new c.NI("",{validators:[function(e){return"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null},c.kI.required]}),this.payment_phase=new c.NI("",{validators:[function(e){return"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null},c.kI.required]}),this.Editor=j,this.validation_msgs={license_type:[{type:"invalidAutocompleteObject",message:"License Type not recognized. Click one of the options."},{type:"required",message:"License Type is required."}],package_type:[{type:"invalidAutocompleteObject",message:"Package Type not recognized. Click one of the options."},{type:"required",message:"Package Type is required."}],payment_phase:[{type:"invalidAutocompleteObject",message:"Payment Phase not recognized. Click one of the options."},{type:"required",message:"Payment Phase is required."}]}}return o(t,[{key:"ngOnInit",value:function(){var e=this;this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases(),this.packageService.getClientCodeForFolder(sessionStorage.client).subscribe(function(a){e.clientCode=a.data[0].client_code}),this.addPackageForm=this.fb.group({package_price:["",c.kI.required],package_offers:["",c.kI.required],package_english:["",c.kI.required],package_malay:["",c.kI.required],promo_discount:["",c.kI.required],package_desc_english:["",c.kI.required],package_desc_malay:["",c.kI.required],final_package_price:["",c.kI.required],first_phase_amount:[""],second_phase_amount:[""],third_phase_amount:[""],package_phase_desc_english:["",c.kI.required],package_phase_desc_malay:["",c.kI.required],package_image:["",c.kI.required],package_image_name:["",c.kI.required],global_view:[""]}),this.languageService.languageChanged.subscribe(function(a){e.translateVal="ml"==localStorage.lang?"malay":"english",e.getPackageTypeList(),e.getLicenseClassList(),e.getPaymentPhases()})}},{key:"getPackageTypeList",value:function(){var e=this;this.packageService.getPakageTypeList().subscribe(function(a){e.packageTypeData=a.data,e.packageTypeList=e.package_type.valueChanges.pipe((0,D.O)(""),(0,S.U)(function(a){return"string"==typeof a?a:a[e.translateVal]}),(0,S.U)(function(a){return a?e._filterPackageType(a):e.packageTypeData.slice()}))})}},{key:"getLicenseClassList",value:function(){var e=this;this.packageService.getLicenseClassList(sessionStorage.client).subscribe(function(a){e.licenseTypeData=a.data,console.log("this.this.license_type=========",e.license_type),e.licenseTypeList=e.license_type.valueChanges.pipe((0,D.O)(""),(0,S.U)(function(a){return a?e._filterLicenseType(a):e.licenseTypeData.slice()}))})}},{key:"getPaymentPhases",value:function(){var e=this;this.packageService.getPaymentPhases().subscribe(function(a){console.log("res['data']===0",a.data),e.paymentPhaseData=a.data,e.paymentPhaseList=e.payment_phase.valueChanges.pipe((0,D.O)(""),(0,S.U)(function(a){return"string"==typeof a?a:a[e.translateVal]}),(0,S.U)(function(a){return a?e._filterpaymentPhase(a):e.paymentPhaseData.slice()}))})}},{key:"displayFn",value:function(e){return e&&e.license_class?e.license_class:""}},{key:"displayFnPackageType",value:function(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}},{key:"displayFnPaymentPhase",value:function(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}},{key:"_filterLicenseType",value:function(e){console.log("name=====",e);var a=e.toLowerCase();return this.licenseTypeData.filter(function(e){return e.license_class.toLowerCase().includes(a)})}},{key:"_filterPackageType",value:function(e){var a=this,t=e.toLowerCase();return this.packageTypeData.filter(function(e){return e[a.translateVal].toLowerCase().includes(t)})}},{key:"_filterpaymentPhase",value:function(e){var a=this,t=e.toLowerCase();return this.paymentPhaseData.filter(function(e){return e[a.translateVal].toLowerCase().includes(t)})}},{key:"add",value:function(e){var a=e.input,t=e.value;console.log("------------",t),(t||"").trim()&&this.license_selected.push(t),a&&(a.value=""),this.license_type.setValue(null)}},{key:"remove",value:function(e){var a=this.license_selected.indexOf(e);a>=0&&this.license_selected.splice(a,1)}},{key:"selectedListType",value:function(e){var t=this,i=e.option.viewValue;if(console.log("newValue=======",e.option.viewValue),this.license_selected.includes(i)?this.license_selected=a(this.license_selected.filter(function(e){return e!==i})):this.license_selected.push(e.option.viewValue),this.licenceInput.nativeElement.value="",this.license_type.setValue(null),this.license_selected.length>1){var r=this.packageTypeData.filter(function(e){return 1==e.id});this.package_type.setValue(r[0])}else r=this.packageTypeData.filter(function(e){return 2==e.id}),this.package_type.setValue(r[0]);requestAnimationFrame(function(){t.openAuto(t.matACTrigger)})}},{key:"selectedPaymentPhase",value:function(){2==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!1):3==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!0):(this.show2Phase=!1,this.show3Phase=!1)}},{key:"openAuto",value:function(e){e.openPanel(),this.licenceInput.nativeElement.focus(),console.log(e)}},{key:"setPackageDetails",value:function(){var e=this;console.log("this.addPackageForm.value====",this.addPackageForm.value,this.package_type,this.license_selected);var a=new FormData;a.append("baseRoot","root/"+this.clientCode+"/Package/"+this.addPackageForm.value.package_english),a.append("PackageFormData",JSON.stringify(this.addPackageForm.value)),a.append("package_type",JSON.stringify(this.package_type.value)),a.append("license_type",JSON.stringify(this.license_selected)),a.append("payment_phase",this.payment_phase.value.id),a.append("authToken",sessionStorage.currentUser),a.append("client",sessionStorage.client),a.append("file",this.addPackageForm.value.package_image),2==this.payment_phase.value.id?""!=this.addPackageForm.value.first_phase_amount&&""!=this.addPackageForm.value.second_phase_amount?this.packageService.setPackageDetails(a).subscribe(function(a){"Success"==a.status?(e.toastrService.success("Registered Successfully!!"),e.addPackageForm.reset(),e.router.navigate(["/admin/package/package-list"])):e.toastrService.error(a.status)}):this.toastrService.error("Please provide Phase Amounts"):3==this.payment_phase.value.id?""!=this.addPackageForm.value.first_phase_amount&&""!=this.addPackageForm.value.second_phase_amount&&""!=this.addPackageForm.value.third_phase_amount?this.packageService.setPackageDetails(a).subscribe(function(a){"Success"==a.status?(e.toastrService.success("Registered Successfully!!"),e.addPackageForm.reset(),e.router.navigate(["/admin/package/package-list"])):e.toastrService.error(a.status)}):this.toastrService.error("Please provide Phase Amounts"):this.packageService.setPackageDetails(a).subscribe(function(a){"Success"==a.status?(e.toastrService.success("Registered Successfully!!"),e.addPackageForm.reset(),e.router.navigate(["/admin/package/package-list"])):e.toastrService.error(a.status)})}},{key:"onFileChangePackageImage",value:function(a){var t=this,i=new FileReader;if(a.target.files&&a.target.files.length){var r=e(a.target.files,1)[0];i.readAsDataURL(r),i.onload=function(){t.addPackageForm.patchValue({package_image:r}),console.log("this.documentForm===",t.addPackageForm)}}}},{key:"goBack",value:function(){this.router.navigate(["/admin/package/package-list"])}}]),t}(),aa.\u0275fac=function(e){return new(e||aa)(b.Y36(b.sBO),b.Y36(c.qu),b.Y36(M.T),b.Y36(G._W),b.Y36(U),b.Y36(L.F0))},aa.\u0275cmp=b.Xpm({type:aa,selectors:[["app-add-package"]],viewQuery:function(e,a){var t;1&e&&(b.Gf($,5),b.Gf(W,5)),2&e&&(b.iGM(t=b.CRH())&&(a.matACTrigger=t.first),b.iGM(t=b.CRH())&&(a.licenceInput=t.first))},decls:162,vars:106,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-4"],["appearance","outline",1,"example-full-width","mb-3"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","text","matInput","",3,"matChipInputFor","matChipInputSeparatorKeyCodes","formControl","matAutocomplete","matChipInputTokenEnd"],["licenceInput","","autocompleteTrigger","matAutocompleteTrigger"],["autoActiveFirstOption","",3,"optionSelected"],["autoLicense","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix","",2,"width","34px","height","34px",3,"click"],[2,"width","34px"],[4,"ngIf"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith"],["autoPackage","matAutocomplete"],[4,"ngFor","ngForOf"],["formControlName","package_image_name","required","",3,"change"],["matSuffix",""],["formControlName","package_offers","required",""],["value","Affordable"],["value","Premium"],["matInput","","formControlName","package_english"],["matInput","","formControlName","package_malay"],[1,"col-3"],["matInput","","formControlName","package_price"],["matInput","","formControlName","promo_discount"],["matInput","","formControlName","final_package_price"],[3,"displayWith","optionSelected"],["autoPaymentPhase","matAutocomplete"],["class","col-3",4,"ngIf"],["formControlName","global_view",1,"example-margin"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","package_desc_english",3,"editor"],["formControlName","package_desc_malay",3,"editor"],["formControlName","package_phase_desc_english",3,"editor"],["formControlName","package_phase_desc_malay",3,"editor"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],["color","primary",2,"padding","0 12px",3,"checked"],["matInput","","formControlName","first_phase_amount"],["matInput","","formControlName","second_phase_amount"],["matInput","","formControlName","third_phase_amount"]],template:function(e,a){if(1&e){var t=b.EpF();b.TgZ(0,"section",0),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"div",3),b.TgZ(4,"div",4),b.TgZ(5,"ul",5),b.TgZ(6,"li",6),b.TgZ(7,"h4",7),b._uU(8),b.ALo(9,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(10,"div",8),b.TgZ(11,"div",9),b.TgZ(12,"div",10),b.TgZ(13,"div",11),b.TgZ(14,"h2"),b._uU(15),b.ALo(16,"translate"),b.qZA(),b.qZA(),b.TgZ(17,"div",12),b.TgZ(18,"form",13),b.TgZ(19,"div",3),b.TgZ(20,"div",14),b.TgZ(21,"mat-form-field",15),b.TgZ(22,"mat-chip-list",16,17),b.YNc(24,z,3,4,"mat-chip",18),b.TgZ(25,"mat-label"),b._uU(26),b.ALo(27,"translate"),b.qZA(),b.TgZ(28,"input",19,20),b.NdJ("matChipInputTokenEnd",function(e){return a.add(e)}),b.qZA(),b.qZA(),b.TgZ(31,"mat-autocomplete",21,22),b.NdJ("optionSelected",function(e){return a.selectedListType(e)}),b.YNc(33,ee,3,3,"mat-option",23),b.ALo(34,"async"),b.qZA(),b.TgZ(35,"button",24),b.NdJ("click",function(){b.CHM(t);var e=b.MAs(30);return a.openAuto(e)}),b.TgZ(36,"mat-icon",25),b._uU(37,"expand_more"),b.qZA(),b.qZA(),b.YNc(38,ae,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(39,"div",14),b.TgZ(40,"mat-form-field",15),b.TgZ(41,"mat-label"),b._uU(42),b.ALo(43,"translate"),b.qZA(),b._UZ(44,"input",27),b.TgZ(45,"mat-autocomplete",28,29),b.YNc(47,te,2,2,"mat-option",23),b.ALo(48,"async"),b.qZA(),b.YNc(49,re,2,1,"mat-error",30),b.qZA(),b.qZA(),b.TgZ(50,"div",14),b.TgZ(51,"mat-form-field",15),b.TgZ(52,"mat-label"),b._uU(53),b.ALo(54,"translate"),b.qZA(),b.TgZ(55,"ngx-mat-file-input",31),b.NdJ("change",function(e){return a.onFileChangePackageImage(e)}),b.qZA(),b.TgZ(56,"mat-icon",32),b._uU(57,"cloud_upload"),b.qZA(),b.YNc(58,ne,3,3,"mat-error",26),b.qZA(),b.qZA(),b.qZA(),b.TgZ(59,"div",3),b.TgZ(60,"div",14),b.TgZ(61,"mat-form-field",15),b.TgZ(62,"mat-label"),b._uU(63),b.ALo(64,"translate"),b.qZA(),b.TgZ(65,"mat-select",33),b.TgZ(66,"mat-option",34),b._uU(67),b.ALo(68,"translate"),b.qZA(),b.TgZ(69,"mat-option",35),b._uU(70),b.ALo(71,"translate"),b.qZA(),b.qZA(),b.YNc(72,oe,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(73,"div",14),b.TgZ(74,"mat-form-field",15),b.TgZ(75,"mat-label"),b._uU(76),b.ALo(77,"translate"),b.qZA(),b._UZ(78,"input",36),b.YNc(79,le,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(80,"div",14),b.TgZ(81,"mat-form-field",15),b.TgZ(82,"mat-label"),b._uU(83),b.ALo(84,"translate"),b.qZA(),b._UZ(85,"input",37),b.YNc(86,ce,3,3,"mat-error",26),b.qZA(),b.qZA(),b.qZA(),b.TgZ(87,"div",3),b.TgZ(88,"div",38),b.TgZ(89,"mat-form-field",15),b.TgZ(90,"mat-label"),b._uU(91),b.ALo(92,"translate"),b.qZA(),b._UZ(93,"input",39),b.YNc(94,se,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(95,"div",38),b.TgZ(96,"mat-form-field",15),b.TgZ(97,"mat-label"),b._uU(98),b.ALo(99,"translate"),b.qZA(),b._UZ(100,"input",40),b.YNc(101,ue,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(102,"div",38),b.TgZ(103,"mat-form-field",15),b.TgZ(104,"mat-label"),b._uU(105),b.ALo(106,"translate"),b.qZA(),b._UZ(107,"input",41),b.YNc(108,pe,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(109,"div",38),b.TgZ(110,"mat-form-field",15),b.TgZ(111,"mat-label"),b._uU(112),b.ALo(113,"translate"),b.qZA(),b._UZ(114,"input",27),b.TgZ(115,"mat-autocomplete",42,43),b.NdJ("optionSelected",function(){return a.selectedPaymentPhase()}),b.YNc(117,ge,2,2,"mat-option",23),b.ALo(118,"async"),b.qZA(),b.YNc(119,me,2,1,"mat-error",30),b.qZA(),b.qZA(),b.qZA(),b.TgZ(120,"div",3),b.YNc(121,he,7,4,"div",44),b.YNc(122,fe,7,4,"div",44),b.YNc(123,Te,7,4,"div",44),b.TgZ(124,"div",38),b.TgZ(125,"mat-checkbox",45),b._uU(126),b.ALo(127,"translate"),b.qZA(),b.qZA(),b.qZA(),b.TgZ(128,"div",3),b.TgZ(129,"div",46),b.TgZ(130,"mat-label"),b._uU(131),b.ALo(132,"translate"),b.qZA(),b._UZ(133,"ckeditor",47),b.YNc(134,ve,3,3,"mat-error",26),b.qZA(),b.TgZ(135,"div",46),b.TgZ(136,"mat-label"),b._uU(137),b.ALo(138,"translate"),b.qZA(),b._UZ(139,"ckeditor",48),b.YNc(140,ke,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(141,"div",3),b.TgZ(142,"div",46),b.TgZ(143,"mat-label"),b._uU(144),b.ALo(145,"translate"),b.qZA(),b._UZ(146,"ckeditor",49),b.YNc(147,Pe,3,3,"mat-error",26),b.qZA(),b.TgZ(148,"div",46),b.TgZ(149,"mat-label"),b._uU(150),b.ALo(151,"translate"),b.qZA(),b._UZ(152,"ckeditor",50),b.YNc(153,qe,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(154,"div",3),b.TgZ(155,"div",51),b.TgZ(156,"button",52),b.NdJ("click",function(){return a.setPackageDetails()}),b._uU(157),b.ALo(158,"translate"),b.qZA(),b.TgZ(159,"button",53),b.NdJ("click",function(){return a.goBack()}),b._uU(160),b.ALo(161,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&e){var i=b.MAs(23),r=b.MAs(32),n=b.MAs(46),o=b.MAs(116);b.xp6(8),b.Oqu(b.lcZ(9,58,"PACKAGE.TITLE")),b.xp6(7),b.Oqu(b.lcZ(16,60,"PACKAGE.TITLE")),b.xp6(3),b.Q6J("formGroup",a.addPackageForm),b.xp6(6),b.Q6J("ngForOf",a.license_selected),b.xp6(2),b.hij("",b.lcZ(27,62,"PACKAGE.LIST.LICENSE-TYPE"),"*"),b.xp6(2),b.Q6J("matChipInputFor",i)("matChipInputSeparatorKeyCodes",a.separatorKeysCodes)("formControl",a.license_type)("matAutocomplete",r),b.xp6(5),b.Q6J("ngForOf",b.lcZ(34,64,a.licenseTypeList)),b.xp6(5),b.Q6J("ngIf",0==a.license_selected.length),b.xp6(4),b.hij("",b.lcZ(43,66,"PACKAGE.LIST.PACKAGE-TYPE"),"*"),b.xp6(2),b.Q6J("formControl",a.package_type)("matAutocomplete",n),b.xp6(1),b.Q6J("displayWith",a.displayFnPackageType),b.xp6(2),b.Q6J("ngForOf",b.lcZ(48,68,a.packageTypeList)),b.xp6(2),b.Q6J("ngForOf",a.validation_msgs.package_type),b.xp6(4),b.Oqu(b.lcZ(54,70,"PACKAGE.LIST.PACKAGE-IMAGE")),b.xp6(5),b.Q6J("ngIf",a.addPackageForm.get("package_image_name").hasError("required")),b.xp6(5),b.Oqu(b.lcZ(64,72,"PACKAGE.LIST.PACKAGE-OFFERS")),b.xp6(4),b.Oqu(b.lcZ(68,74,"PACKAGE.LIST.AFFORDABLE")),b.xp6(3),b.Oqu(b.lcZ(71,76,"PACKAGE.LIST.PREMIUM")),b.xp6(2),b.Q6J("ngIf",a.addPackageForm.get("package_offers").hasError("required")),b.xp6(4),b.hij("",b.lcZ(77,78,"PACKAGE.LIST.PACKAGE-ENG"),"*"),b.xp6(3),b.Q6J("ngIf",a.addPackageForm.get("package_english").hasError("required")),b.xp6(4),b.hij("",b.lcZ(84,80,"PACKAGE.LIST.PACKAGE-MALAY"),"*"),b.xp6(3),b.Q6J("ngIf",a.addPackageForm.get("package_malay").hasError("required")),b.xp6(5),b.hij("",b.lcZ(92,82,"PACKAGE.LIST.PACKAGE-PRICE"),"*"),b.xp6(3),b.Q6J("ngIf",a.addPackageForm.get("package_price").hasError("required")),b.xp6(4),b.hij("",b.lcZ(99,84,"PACKAGE.LIST.PROMO-DIS"),"*"),b.xp6(3),b.Q6J("ngIf",a.addPackageForm.get("promo_discount").hasError("required")),b.xp6(4),b.hij("",b.lcZ(106,86,"PACKAGE.LIST.FIANL-PACKAGE-PRICE"),"*"),b.xp6(3),b.Q6J("ngIf",a.addPackageForm.get("final_package_price").hasError("required")),b.xp6(4),b.hij("",b.lcZ(113,88,"PACKAGE.LIST.PAYMENT-PHASE"),"*"),b.xp6(2),b.Q6J("formControl",a.payment_phase)("matAutocomplete",o),b.xp6(1),b.Q6J("displayWith",a.displayFnPaymentPhase),b.xp6(2),b.Q6J("ngForOf",b.lcZ(118,90,a.paymentPhaseList)),b.xp6(2),b.Q6J("ngForOf",a.validation_msgs.payment_phase),b.xp6(2),b.Q6J("ngIf",a.show2Phase),b.xp6(1),b.Q6J("ngIf",a.show2Phase),b.xp6(1),b.Q6J("ngIf",a.show3Phase),b.xp6(3),b.Oqu(b.lcZ(127,92,"PACKAGE.LIST.GLOBAL-VIEW")),b.xp6(5),b.hij("",b.lcZ(132,94,"PACKAGE.LIST.PACKAGE-DESC-ENG"),"*"),b.xp6(2),b.Q6J("editor",a.Editor),b.xp6(1),b.Q6J("ngIf",a.addPackageForm.get("package_desc_english").hasError("required")),b.xp6(3),b.hij("",b.lcZ(138,96,"PACKAGE.LIST.PACKAGE-DESC-MALAY"),"*"),b.xp6(2),b.Q6J("editor",a.Editor),b.xp6(1),b.Q6J("ngIf",a.addPackageForm.get("package_desc_malay").hasError("required")),b.xp6(4),b.hij("",b.lcZ(145,98,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG"),"*"),b.xp6(2),b.Q6J("editor",a.Editor),b.xp6(1),b.Q6J("ngIf",a.addPackageForm.get("package_phase_desc_english").hasError("required")),b.xp6(3),b.hij("",b.lcZ(151,100,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY"),"*"),b.xp6(2),b.Q6J("editor",a.Editor),b.xp6(1),b.Q6J("ngIf",a.addPackageForm.get("package_phase_desc_malay").hasError("required")),b.xp6(3),b.Q6J("disabled",!a.addPackageForm.valid||0==a.license_selected.length),b.xp6(1),b.hij(" ",b.lcZ(158,102,"BUTTON.ADD-BTN"),""),b.xp6(3),b.Oqu(b.lcZ(161,104,"BUTTON.CANCEL-BTN"))}},directives:[c._Y,c.JL,c.sg,p.KE,H.qn,l.sg,p.hX,g.Nt,H.oH,c.Fj,R.ZL,c.JJ,c.oH,R.XC,m.lW,p.R9,A.Hw,l.O5,k.Yh,c.u,c.Q7,h.gD,V.ey,v.oG,B.u,H.HS,H.qH,p.TO],pipes:[F.X$,l.Ov],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),aa)},{path:"edit-package/:id",component:(ea=function(){function t(e,a,i,n,o,l,s){r(this,t),this.cdRef=e,this.fb=a,this.languageService=i,this.toastrService=n,this.router=o,this.route=l,this.packageService=s,this.Editor=j,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[Q.K5,Q.OC],this.license_selected=[],this.show2Phase=!1,this.show3Phase=!1,this.translateVal="ml"==localStorage.lang?"malay":"english",this.license_type=new c.NI("",{validators:[function(e){return"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null}]}),this.package_type=new c.NI("",{validators:[function(e){return"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null},c.kI.required]}),this.payment_phase=new c.NI("",{validators:[function(e){return"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null},c.kI.required]}),this.validation_msgs={license_type:[{type:"invalidAutocompleteObject",message:"License Type not recognized. Click one of the options."},{type:"required",message:"License Type is required."}],package_type:[{type:"invalidAutocompleteObject",message:"Package Type not recognized. Click one of the options."},{type:"required",message:"Package is required."}],payment_phase:[{type:"invalidAutocompleteObject",message:"Payment Phase not recognized. Click one of the options."},{type:"required",message:"Payment Phase is required."}]},this.packageId=this.route.snapshot.paramMap.get("id"),this.editPackageForm=this.fb.group({id:[""],package_offers:["",c.kI.required],package_price:["",c.kI.required],prev_package_english:["",c.kI.required],prev_package_malay:["",c.kI.required],package_english:["",c.kI.required],package_malay:["",c.kI.required],promo_discount:["",c.kI.required],package_desc_english:["",c.kI.required],package_desc_malay:["",c.kI.required],final_package_price:["",c.kI.required],first_phase_amount:[""],second_phase_amount:[""],third_phase_amount:[""],package_phase_desc_english:["",c.kI.required],package_phase_desc_malay:["",c.kI.required],package_image:["",c.kI.required],package_image_name:["",c.kI.required],global_view:[""]})}return o(t,[{key:"ngOnInit",value:function(){var e=this;this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases(),this.packageService.getClientCodeForFolder(sessionStorage.client).subscribe(function(a){e.clientCode=a.data[0].client_code}),this.languageService.languageChanged.subscribe(function(a){e.translateVal="ml"==localStorage.lang?"malay":"english",e.getPackageTypeList(),e.getLicenseClassList(),e.getPaymentPhases()}),this.packageService.getPackageToEdit(this.packageId,sessionStorage.client).subscribe(function(a){var t=a.data[0];e.editPackageForm.patchValue({id:t.id,package_price:t.package_price,prev_package_english:t.package_english,prev_package_malay:t.package_malay,package_english:t.package_english,package_malay:t.package_malay,promo_discount:t.promo_discount,package_desc_english:t.package_desc_english,package_desc_malay:t.package_desc_malay,package_offers:t.package_offers,final_package_price:t.final_package_price,first_phase_amount:t.first_phase_amount,second_phase_amount:t.second_phase_amount,third_phase_amount:t.third_phase_amount,package_phase_desc_english:t.package_phase_desc_english,package_phase_desc_malay:t.package_phase_desc_malay,package_image:t.package_image,package_image_name:t.package_image,global_view:1==t.global_view});var i=t.license_data,r=e.packageTypeData.filter(function(e){return e.id==t.package_type_id}),n=e.paymentPhaseData.filter(function(e){return e.id==t.payment_phase});console.log("licenseObj--------",i),e.license_selected=t.license_list,e.license_type.setValue(i),e.package_type.setValue(r[0]),e.payment_phase.setValue(n[0]),2==e.payment_phase.value.id?(e.show2Phase=!0,e.show3Phase=!1):3==e.payment_phase.value.id?(e.show2Phase=!0,e.show3Phase=!0):(e.show2Phase=!1,e.show3Phase=!1)})}},{key:"getPackageTypeList",value:function(){var e=this;this.packageService.getPakageTypeList().subscribe(function(a){e.packageTypeData=a.data,e.packageTypeList=e.package_type.valueChanges.pipe((0,D.O)(""),(0,S.U)(function(a){return"string"==typeof a?a:a[e.translateVal]}),(0,S.U)(function(a){return a?e._filterPackageType(a):e.packageTypeData.slice()}))})}},{key:"getPaymentPhases",value:function(){var e=this;this.packageService.getPaymentPhases().subscribe(function(a){console.log("res['data']===0",a.data),e.paymentPhaseData=a.data,e.paymentPhaseList=e.payment_phase.valueChanges.pipe((0,D.O)(""),(0,S.U)(function(a){return"string"==typeof a?a:a[e.translateVal]}),(0,S.U)(function(a){return a?e._filterpaymentPhase(a):e.paymentPhaseData.slice()}))})}},{key:"getLicenseClassList",value:function(){var e=this;this.packageService.getLicenseClassList(sessionStorage.client).subscribe(function(a){e.licenseTypeData=a.data,console.log("this.this.license_type=========",e.license_type),e.licenseTypeList=e.license_type.valueChanges.pipe((0,D.O)(""),(0,S.U)(function(a){return a?e._filterLicenseType(a):e.licenseTypeData.slice()}))})}},{key:"displayFn",value:function(e){return e&&e.license_class?e.license_class:""}},{key:"displayFnPackageType",value:function(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}},{key:"displayFnPaymentPhase",value:function(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}},{key:"_filterLicenseType",value:function(e){console.log("name=====",e);var a=e.toLowerCase();return this.licenseTypeData.filter(function(e){return e.license_class.toLowerCase().includes(a)})}},{key:"_filterPackageType",value:function(e){var a=this,t=e.toLowerCase();return this.packageTypeData.filter(function(e){return e[a.translateVal].toLowerCase().includes(t)})}},{key:"_filterpaymentPhase",value:function(e){var a=this,t=e.toLowerCase();return this.paymentPhaseData.filter(function(e){return e[a.translateVal].toLowerCase().includes(t)})}},{key:"add",value:function(e){var a=e.input,t=e.value;console.log("------------",t),(t||"").trim()&&this.license_selected.push(t),a&&(a.value=""),this.license_type.setValue(null)}},{key:"remove",value:function(e){var a=this.license_selected.indexOf(e);a>=0&&this.license_selected.splice(a,1)}},{key:"selectedListType",value:function(e){var t=this,i=e.option.viewValue;if(console.log("newValue=======",e.option.viewValue),this.license_selected.includes(i)?this.license_selected=a(this.license_selected.filter(function(e){return e!==i})):this.license_selected.push(e.option.viewValue),this.licenceInput.nativeElement.value="",this.license_type.setValue(null),this.license_selected.length>1){var r=this.packageTypeData.filter(function(e){return 1==e.id});this.package_type.setValue(r[0])}else r=this.packageTypeData.filter(function(e){return 2==e.id}),this.package_type.setValue(r[0]);requestAnimationFrame(function(){t.openAuto(t.matACTrigger)})}},{key:"selectedPaymentPhase",value:function(){2==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!1):3==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!0):(this.show2Phase=!1,this.show3Phase=!1)}},{key:"openAuto",value:function(e){e.openPanel(),this.licenceInput.nativeElement.focus(),console.log(e)}},{key:"onFileChangePackageImage",value:function(a){var t=this,i=new FileReader;if(a.target.files&&a.target.files.length){var r=e(a.target.files,1)[0];i.readAsDataURL(r),i.onload=function(){t.package_preview=i.result,t.editPackageForm.patchValue({package_image:r}),console.log("this.documentForm===",t.editPackageForm)}}}},{key:"goBack",value:function(){this.router.navigate(["/admin/package/package-list"])}},{key:"updatePackageDetails",value:function(){var e=this,a=new FormData;a.append("baseRoot","root/"+this.clientCode+"/Package/"+this.editPackageForm.value.package_english),a.append("PackageFormData",JSON.stringify(this.editPackageForm.value)),a.append("package_type",JSON.stringify(this.package_type.value)),a.append("license_type",JSON.stringify(this.license_selected)),a.append("payment_phase",this.payment_phase.value.id),a.append("authToken",sessionStorage.currentUser),a.append("client",sessionStorage.client),a.append("file",this.editPackageForm.value.package_image),this.packageService.updatePackageDetails(a).subscribe(function(a){"Success"==a.status&&(e.toastrService.success("Updated Successfully!!"),e.router.navigate(["/admin/package/package-list"]))})}}]),t}(),ea.\u0275fac=function(e){return new(e||ea)(b.Y36(b.sBO),b.Y36(c.qu),b.Y36(M.T),b.Y36(G._W),b.Y36(L.F0),b.Y36(L.gz),b.Y36(U))},ea.\u0275cmp=b.Xpm({type:ea,selectors:[["app-edit-package"]],viewQuery:function(e,a){var t;1&e&&(b.Gf(ye,5),b.Gf(Ce,5)),2&e&&(b.iGM(t=b.CRH())&&(a.matACTrigger=t.first),b.iGM(t=b.CRH())&&(a.licenceInput=t.first))},decls:166,vars:107,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-4"],["appearance","outline",1,"example-full-width","mb-3"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","text","matInput","",3,"matChipInputFor","matChipInputSeparatorKeyCodes","formControl","matAutocomplete","matChipInputTokenEnd"],["licenceInput","","autocompleteTrigger","matAutocompleteTrigger"],["autoActiveFirstOption","",3,"optionSelected"],["autoLicense","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix","",2,"width","34px","height","34px",3,"click"],[2,"width","34px"],[4,"ngIf"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith"],["autoPackage","matAutocomplete"],[4,"ngFor","ngForOf"],[1,"col-6"],[2,"width","100%","height","50%",3,"src"],["formControlName","package_image_name","required","",3,"change"],["matSuffix",""],["formControlName","package_offers","required",""],["value","Affordable"],["value","Premium"],["matInput","","formControlName","package_english"],["matInput","","formControlName","package_malay"],[1,"col-3"],["matInput","","formControlName","package_price"],["matInput","","formControlName","promo_discount"],["matInput","","formControlName","final_package_price"],[3,"displayWith","optionSelected"],["autoPaymentPhase","matAutocomplete"],["class","col-3",4,"ngIf"],["formControlName","global_view",1,"example-margin"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","package_desc_english",3,"editor"],["formControlName","package_desc_malay",3,"editor"],["formControlName","package_phase_desc_english",3,"editor"],["formControlName","package_phase_desc_malay",3,"editor"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],["color","primary",2,"padding","0 12px",3,"checked"],["matInput","","formControlName","first_phase_amount"],["matInput","","formControlName","second_phase_amount"],["matInput","","formControlName","third_phase_amount"]],template:function(e,a){if(1&e){var t=b.EpF();b.TgZ(0,"section",0),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"div",3),b.TgZ(4,"div",4),b.TgZ(5,"ul",5),b.TgZ(6,"li",6),b.TgZ(7,"h4",7),b._uU(8),b.ALo(9,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(10,"div",8),b.TgZ(11,"div",9),b.TgZ(12,"div",10),b.TgZ(13,"div",11),b.TgZ(14,"h2"),b._uU(15),b.ALo(16,"translate"),b.qZA(),b.qZA(),b.TgZ(17,"div",12),b.TgZ(18,"form",13),b.TgZ(19,"div",3),b.TgZ(20,"div",14),b.TgZ(21,"mat-form-field",15),b.TgZ(22,"mat-chip-list",16,17),b.YNc(24,Le,3,4,"mat-chip",18),b.TgZ(25,"mat-label"),b._uU(26),b.ALo(27,"translate"),b.qZA(),b.TgZ(28,"input",19,20),b.NdJ("matChipInputTokenEnd",function(e){return a.add(e)}),b.qZA(),b.qZA(),b.TgZ(31,"mat-autocomplete",21,22),b.NdJ("optionSelected",function(e){return a.selectedListType(e)}),b.YNc(33,xe,3,3,"mat-option",23),b.ALo(34,"async"),b.qZA(),b.TgZ(35,"button",24),b.NdJ("click",function(){b.CHM(t);var e=b.MAs(30);return a.openAuto(e)}),b.TgZ(36,"mat-icon",25),b._uU(37,"expand_more"),b.qZA(),b.qZA(),b.YNc(38,be,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(39,"div",14),b.TgZ(40,"mat-form-field",15),b.TgZ(41,"mat-label"),b._uU(42),b.ALo(43,"translate"),b.qZA(),b._UZ(44,"input",27),b.TgZ(45,"mat-autocomplete",28,29),b.YNc(47,Ie,2,2,"mat-option",23),b.ALo(48,"async"),b.qZA(),b.YNc(49,Ne,2,1,"mat-error",30),b.qZA(),b.qZA(),b.TgZ(50,"div",14),b.TgZ(51,"div",3),b.TgZ(52,"div",31),b._UZ(53,"img",32),b.qZA(),b.TgZ(54,"div",31),b.TgZ(55,"mat-form-field",15),b.TgZ(56,"mat-label"),b._uU(57),b.ALo(58,"translate"),b.qZA(),b.TgZ(59,"ngx-mat-file-input",33),b.NdJ("change",function(e){return a.onFileChangePackageImage(e)}),b.qZA(),b.TgZ(60,"mat-icon",34),b._uU(61,"cloud_upload"),b.qZA(),b.YNc(62,Ue,3,3,"mat-error",26),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.TgZ(63,"div",3),b.TgZ(64,"div",14),b.TgZ(65,"mat-form-field",15),b.TgZ(66,"mat-label"),b._uU(67),b.ALo(68,"translate"),b.qZA(),b.TgZ(69,"mat-select",35),b.TgZ(70,"mat-option",36),b._uU(71),b.ALo(72,"translate"),b.qZA(),b.TgZ(73,"mat-option",37),b._uU(74),b.ALo(75,"translate"),b.qZA(),b.qZA(),b.YNc(76,we,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(77,"div",14),b.TgZ(78,"mat-form-field",15),b.TgZ(79,"mat-label"),b._uU(80),b.ALo(81,"translate"),b.qZA(),b._UZ(82,"input",38),b.YNc(83,Ge,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(84,"div",14),b.TgZ(85,"mat-form-field",15),b.TgZ(86,"mat-label"),b._uU(87),b.ALo(88,"translate"),b.qZA(),b._UZ(89,"input",39),b.YNc(90,Fe,3,3,"mat-error",26),b.qZA(),b.qZA(),b.qZA(),b.TgZ(91,"div",3),b.TgZ(92,"div",40),b.TgZ(93,"mat-form-field",15),b.TgZ(94,"mat-label"),b._uU(95),b.ALo(96,"translate"),b.qZA(),b._UZ(97,"input",41),b.YNc(98,Ke,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(99,"div",40),b.TgZ(100,"mat-form-field",15),b.TgZ(101,"mat-label"),b._uU(102),b.ALo(103,"translate"),b.qZA(),b._UZ(104,"input",42),b.YNc(105,Je,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(106,"div",40),b.TgZ(107,"mat-form-field",15),b.TgZ(108,"mat-label"),b._uU(109),b.ALo(110,"translate"),b.qZA(),b._UZ(111,"input",43),b.YNc(112,Oe,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(113,"div",40),b.TgZ(114,"mat-form-field",15),b.TgZ(115,"mat-label"),b._uU(116),b.ALo(117,"translate"),b.qZA(),b._UZ(118,"input",27),b.TgZ(119,"mat-autocomplete",44,45),b.NdJ("optionSelected",function(){return a.selectedPaymentPhase()}),b.YNc(121,Ye,2,2,"mat-option",23),b.ALo(122,"async"),b.qZA(),b.YNc(123,De,2,1,"mat-error",30),b.qZA(),b.qZA(),b.qZA(),b.TgZ(124,"div",3),b.YNc(125,Me,7,4,"div",46),b.YNc(126,Re,7,4,"div",46),b.YNc(127,Be,7,4,"div",46),b.TgZ(128,"div",40),b.TgZ(129,"mat-checkbox",47),b._uU(130),b.ALo(131,"translate"),b.qZA(),b.qZA(),b.qZA(),b.TgZ(132,"div",3),b.TgZ(133,"div",48),b.TgZ(134,"mat-label"),b._uU(135),b.ALo(136,"translate"),b.qZA(),b._UZ(137,"ckeditor",49),b.YNc(138,$e,3,3,"mat-error",26),b.qZA(),b.TgZ(139,"div",48),b.TgZ(140,"mat-label"),b._uU(141),b.ALo(142,"translate"),b.qZA(),b._UZ(143,"ckeditor",50),b.YNc(144,We,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(145,"div",3),b.TgZ(146,"div",48),b.TgZ(147,"mat-label"),b._uU(148),b.ALo(149,"translate"),b.qZA(),b._UZ(150,"ckeditor",51),b.YNc(151,Xe,3,3,"mat-error",26),b.qZA(),b.TgZ(152,"div",48),b.TgZ(153,"mat-label"),b._uU(154),b.ALo(155,"translate"),b.qZA(),b._UZ(156,"ckeditor",52),b.YNc(157,ze,3,3,"mat-error",26),b.qZA(),b.qZA(),b.TgZ(158,"div",3),b.TgZ(159,"div",53),b.TgZ(160,"button",54),b.NdJ("click",function(){return a.updatePackageDetails()}),b._uU(161),b.ALo(162,"translate"),b.qZA(),b.TgZ(163,"button",55),b.NdJ("click",function(){return a.goBack()}),b._uU(164),b.ALo(165,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&e){var i=b.MAs(23),r=b.MAs(32),n=b.MAs(46),o=b.MAs(120);b.xp6(8),b.Oqu(b.lcZ(9,59,"PACKAGE.EDITTITLE")),b.xp6(7),b.Oqu(b.lcZ(16,61,"PACKAGE.EDITTITLE")),b.xp6(3),b.Q6J("formGroup",a.editPackageForm),b.xp6(6),b.Q6J("ngForOf",a.license_selected),b.xp6(2),b.hij("",b.lcZ(27,63,"PACKAGE.LIST.LICENSE-TYPE"),"*"),b.xp6(2),b.Q6J("matChipInputFor",i)("matChipInputSeparatorKeyCodes",a.separatorKeysCodes)("formControl",a.license_type)("matAutocomplete",r),b.xp6(5),b.Q6J("ngForOf",b.lcZ(34,65,a.licenseTypeList)),b.xp6(5),b.Q6J("ngIf",0==a.license_selected.length),b.xp6(4),b.hij("",b.lcZ(43,67,"PACKAGE.LIST.PACKAGE-TYPE"),"*"),b.xp6(2),b.Q6J("formControl",a.package_type)("matAutocomplete",n),b.xp6(1),b.Q6J("displayWith",a.displayFnPackageType),b.xp6(2),b.Q6J("ngForOf",b.lcZ(48,69,a.packageTypeList)),b.xp6(2),b.Q6J("ngForOf",a.validation_msgs.package_type),b.xp6(4),b.s9C("src",a.package_preview?a.package_preview:a.editPackageForm.value.package_image,b.LSH),b.xp6(4),b.Oqu(b.lcZ(58,71,"PACKAGE.LIST.PACKAGE-IMAGE")),b.xp6(5),b.Q6J("ngIf",a.editPackageForm.get("package_image_name").hasError("required")),b.xp6(5),b.Oqu(b.lcZ(68,73,"PACKAGE.LIST.PACKAGE-OFFERS")),b.xp6(4),b.Oqu(b.lcZ(72,75,"PACKAGE.LIST.AFFORDABLE")),b.xp6(3),b.Oqu(b.lcZ(75,77,"PACKAGE.LIST.PREMIUM")),b.xp6(2),b.Q6J("ngIf",a.editPackageForm.get("package_offers").hasError("required")),b.xp6(4),b.hij("",b.lcZ(81,79,"PACKAGE.LIST.PACKAGE-ENG"),"*"),b.xp6(3),b.Q6J("ngIf",a.editPackageForm.get("package_english").hasError("required")),b.xp6(4),b.hij("",b.lcZ(88,81,"PACKAGE.LIST.PACKAGE-MALAY"),"*"),b.xp6(3),b.Q6J("ngIf",a.editPackageForm.get("package_malay").hasError("required")),b.xp6(5),b.hij("",b.lcZ(96,83,"PACKAGE.LIST.PACKAGE-PRICE"),"*"),b.xp6(3),b.Q6J("ngIf",a.editPackageForm.get("package_price").hasError("required")),b.xp6(4),b.hij("",b.lcZ(103,85,"PACKAGE.LIST.PROMO-DIS"),"*"),b.xp6(3),b.Q6J("ngIf",a.editPackageForm.get("promo_discount").hasError("required")),b.xp6(4),b.hij("",b.lcZ(110,87,"PACKAGE.LIST.FIANL-PACKAGE-PRICE"),"*"),b.xp6(3),b.Q6J("ngIf",a.editPackageForm.get("final_package_price").hasError("required")),b.xp6(4),b.hij("",b.lcZ(117,89,"PACKAGE.LIST.PAYMENT-PHASE"),"*"),b.xp6(2),b.Q6J("formControl",a.payment_phase)("matAutocomplete",o),b.xp6(1),b.Q6J("displayWith",a.displayFnPaymentPhase),b.xp6(2),b.Q6J("ngForOf",b.lcZ(122,91,a.paymentPhaseList)),b.xp6(2),b.Q6J("ngForOf",a.validation_msgs.payment_phase),b.xp6(2),b.Q6J("ngIf",a.show2Phase),b.xp6(1),b.Q6J("ngIf",a.show2Phase),b.xp6(1),b.Q6J("ngIf",a.show3Phase),b.xp6(3),b.Oqu(b.lcZ(131,93,"PACKAGE.LIST.GLOBAL-VIEW")),b.xp6(5),b.hij("",b.lcZ(136,95,"PACKAGE.LIST.PACKAGE-DESC-ENG"),"*"),b.xp6(2),b.Q6J("editor",a.Editor),b.xp6(1),b.Q6J("ngIf",a.editPackageForm.get("package_desc_english").hasError("required")),b.xp6(3),b.hij("",b.lcZ(142,97,"PACKAGE.LIST.PACKAGE-DESC-MALAY"),"*"),b.xp6(2),b.Q6J("editor",a.Editor),b.xp6(1),b.Q6J("ngIf",a.editPackageForm.get("package_desc_malay").hasError("required")),b.xp6(4),b.hij("",b.lcZ(149,99,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG"),"*"),b.xp6(2),b.Q6J("editor",a.Editor),b.xp6(1),b.Q6J("ngIf",a.editPackageForm.get("package_phase_desc_english").hasError("required")),b.xp6(3),b.hij("",b.lcZ(155,101,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY"),"*"),b.xp6(2),b.Q6J("editor",a.Editor),b.xp6(1),b.Q6J("ngIf",a.editPackageForm.get("package_phase_desc_malay").hasError("required")),b.xp6(3),b.Q6J("disabled",!a.editPackageForm.valid||0==a.license_selected.length),b.xp6(1),b.Oqu(b.lcZ(162,103,"BUTTON.EDIT-BTN")),b.xp6(3),b.Oqu(b.lcZ(165,105,"BUTTON.CANCEL-BTN"))}},directives:[c._Y,c.JL,c.sg,p.KE,H.qn,l.sg,p.hX,g.Nt,H.oH,c.Fj,R.ZL,c.JJ,c.oH,R.XC,m.lW,p.R9,A.Hw,l.O5,k.Yh,c.u,c.Q7,h.gD,V.ey,v.oG,B.u,H.HS,H.qH,p.TO],pipes:[F.X$,l.Ov],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),ea)}],ra=function(){var e=function e(){r(this,e)};return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({imports:[[L.Bz.forChild(ia)],L.Bz]}),e}(),na=((ta=function e(){r(this,e)}).\u0275fac=function(e){return new(e||ta)},ta.\u0275mod=b.oAB({type:ta}),ta.\u0275inj=b.cJS({providers:[U],imports:[[x.xD,H.Hi,B.d,l.ez,c.u5,c.UX,s.p0,u.TU,p.lN,g.c,d.ZX,m.ot,A.Ps,Z.Is,f.JX,_.g0,h.LD,T.FA,v.p9,P.Nh,q.Tx,k.Ad,ra,y.Cq,C.T5,E.yI,F.aw,R.Bb]]}),ta)}}])}();