!function(){function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var i,a,n=[],u=!0,o=!1;try{for(r=r.call(e);!(u=(i=r.next()).done)&&(n.push(i.value),!t||n.length!==t);u=!0);}catch(l){o=!0,a=l}finally{try{u||null==r.return||r.return()}finally{if(o)throw a}}return n}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return t(e,r);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(self.webpackChunksmart=self.webpackChunksmart||[]).push([[7278],{47278:function(t,a,n){"use strict";n.r(a),n.d(a,{ProfileModule:function(){return C}});var u=n(61116),o=n(35729),l=n(31041),s=n(35366),c=n(28086),Z=n(50518),g=n(57173),m=n(13070),d=n(9550),p=n(84369),f=n(1325),A=n(77307);function q(e,t){1&e&&(s.TgZ(0,"mat-icon",46),s._uU(1,"face"),s.qZA(),s._uU(2," About Me "))}function v(e,t){1&e&&(s.TgZ(0,"div",23),s.TgZ(1,"h2"),s.TgZ(2,"strong"),s._uU(3,"Update Logo"),s.qZA(),s.qZA(),s.qZA())}function T(e,t){if(1&e){var r=s.EpF();s.TgZ(0,"div",24),s.TgZ(1,"div",30),s.TgZ(2,"mat-form-field",42),s.TgZ(3,"ngx-mat-file-input",47),s.NdJ("change",function(e){return s.CHM(r),s.oxw().onFileChange(e)}),s.qZA(),s.TgZ(4,"mat-icon",44),s._uU(5,"cloud_upload"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"button",45),s.NdJ("click",function(){return s.CHM(r),s.oxw().updateClientLogo()}),s._uU(7,"Save"),s.qZA(),s.qZA()}}function h(e,t){1&e&&(s.TgZ(0,"mat-icon",46),s._uU(1,"settings"),s.qZA(),s._uU(2," Settings "))}var _,b,y=[{path:"",component:(_=function(){function t(e,i,a){r(this,t),this.fb=e,this.authService=i,this.toastrService=a}var a,n,u;return a=t,(n=[{key:"ngOnInit",value:function(){var e=this;this.securityForm=this.fb.group({user_name:["",l.kI.required],new_username:["",l.kI.required],password:["",l.kI.required],current_password:["",l.kI.required],new_password:["",l.kI.required]}),this.accountsForm=this.fb.group({name:["",l.kI.required],mobile_no:["",l.kI.required],email_id:["",l.kI.required],profile:[""],profile_type:[""]}),this.authService.checkUserLoggedIn().subscribe(function(t){e.userDetails=t.data,e.userImg=t.data.img,e.securityForm.patchValue({user_name:e.userDetails.user_name,new_username:e.userDetails.user_name,password:e.userDetails.password}),e.accountsForm.patchValue({name:e.userDetails.name,mobile_no:e.userDetails.mobile_no,email_id:e.userDetails.email_id,profile:e.userDetails.img})})}},{key:"onFileChange",value:function(t){if(new FileReader,t.target.files&&t.target.files.length){var r=e(t.target.files,1)[0],i=new Blob([r],{type:t.target.files[0].type});this.newLogo=i,this.newLogoType=t.target.files[0].type}}},{key:"onFileChangeProfile",value:function(t){if(new FileReader,t.target.files&&t.target.files.length){var r=e(t.target.files,1)[0],i=new Blob([r],{type:t.target.files[0].type});this.accountsForm.patchValue({profile:i,profile_type:t.target.files[0].type})}}},{key:"updateClientLogo",value:function(){var e=this;if(this.newLogo){var t=new FormData;t.append("newLogo",this.newLogo),t.append("newLogoType",this.newLogoType),this.authService.updateClientLogo(t).subscribe(function(t){e.authService.currentUserSubject.next(!0),e.toastrService.success("Updated Successfully!!!")})}}},{key:"updateUserCredentials",value:function(){var e=this;this.securityForm.value.password==this.securityForm.value.current_password?this.authService.updateUserCredentials(this.securityForm.value).subscribe(function(t){"Success"==t.status?(e.authService.currentUserSubject.next(!0),e.toastrService.success("Updated Successfully!!!")):e.toastrService.error("User Name Already Exists!!")}):this.toastrService.error("Current Password is not Correct!!")}},{key:"updateAccountDetails",value:function(){var e=this,t=new FormData;t.append("accountData",JSON.stringify(this.accountsForm.value)),t.append("profile",this.accountsForm.value.profile),this.authService.updateAccountDetails(t).subscribe(function(t){e.authService.currentUserSubject.next(!0),e.toastrService.success("Updated Successfully!!!"),e.authService.checkUserLoggedIn().subscribe(function(t){e.userDetails=t.data,e.securityForm.patchValue({user_name:e.userDetails.user_name,new_username:e.userDetails.user_name,password:e.userDetails.password}),e.accountsForm.patchValue({name:e.userDetails.name,mobile_no:e.userDetails.mobile_no,email_id:e.userDetails.email_id,profile:e.userDetails.img})})})}}])&&i(a.prototype,n),u&&i(a,u),t}(),_.\u0275fac=function(e){return new(e||_)(s.Y36(l.qu),s.Y36(c.e),s.Y36(Z._W))},_.\u0275cmp=s.Xpm({type:_,selectors:[["app-profile"]],decls:122,vars:13,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-lg-4","col-md-12"],[1,"card"],[1,"m-b-20"],[1,"contact-grid"],[1,"profile-header","bg-dark"],[1,"user-name"],[1,"name-center"],["alt","",1,"user-img",2,"width","100%","height","100px",3,"src"],[1,"phone"],[1,"material-icons"],[1,"col-lg-8","col-md-12"],["mat-tab-label",""],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"project_widget"],[1,"header"],[1,"body"],[1,"col-md-3","col-6","b-r"],[1,"text-muted"],["class","header",4,"ngIf"],["class","body",4,"ngIf"],[3,"formGroup"],[1,"example-container"],["appearance","fill",1,"example-full-width"],["matInput","","formControlName","new_username"],["matInput","","type","password","formControlName","current_password"],["matInput","","type","password","formControlName","new_password"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"col-md-12"],[1,"form-group"],["matInput","","formControlName","name"],[1,"col-lg-6","col-md-12"],["matInput","","formControlName","mobile_no"],["matInput","","formControlName","email_id"],[1,"example-full-width"],["placeholder","Profile",3,"change"],["matSuffix",""],["mat-raised-button","","color","primary",3,"click"],[1,"example-tab-icon","msr-2"],["placeholder","Company Logo",3,"change"]],template:function(e,t){1&e&&(s.TgZ(0,"section",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"ul",5),s.TgZ(6,"li",6),s.TgZ(7,"h4",7),s._uU(8,"Profile"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"div",8),s.TgZ(10,"div",9),s.TgZ(11,"div",10),s.TgZ(12,"div",11),s.TgZ(13,"div",12),s.TgZ(14,"div",13),s.TgZ(15,"div",14),s._uU(16),s.qZA(),s.TgZ(17,"div",15),s._uU(18),s.qZA(),s.qZA(),s._UZ(19,"img",16),s.TgZ(20,"div"),s.TgZ(21,"span",17),s.TgZ(22,"i",18),s._uU(23,"phone"),s.qZA(),s._uU(24),s.qZA(),s.qZA(),s.TgZ(25,"div"),s.TgZ(26,"span",17),s.TgZ(27,"i",18),s._uU(28,"email"),s.qZA(),s._uU(29),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(30,"div",19),s.TgZ(31,"div",10),s.TgZ(32,"mat-tab-group"),s.TgZ(33,"mat-tab"),s.YNc(34,q,3,0,"ng-template",20),s.TgZ(35,"div",21),s.TgZ(36,"div",22),s.TgZ(37,"div",23),s.TgZ(38,"h2"),s.TgZ(39,"strong"),s._uU(40,"About"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(41,"div",24),s.TgZ(42,"div",3),s.TgZ(43,"div",25),s.TgZ(44,"strong"),s._uU(45,"Full Name"),s.qZA(),s._UZ(46,"br"),s.TgZ(47,"p",26),s._uU(48),s.qZA(),s.qZA(),s.TgZ(49,"div",25),s.TgZ(50,"strong"),s._uU(51,"Mobile"),s.qZA(),s._UZ(52,"br"),s.TgZ(53,"p",26),s._uU(54),s.qZA(),s.qZA(),s.TgZ(55,"div",25),s.TgZ(56,"strong"),s._uU(57,"Email"),s.qZA(),s._UZ(58,"br"),s.TgZ(59,"p",26),s._uU(60),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(61,v,4,0,"div",27),s.YNc(62,T,8,0,"div",28),s.qZA(),s.qZA(),s.qZA(),s.TgZ(63,"mat-tab"),s.YNc(64,h,3,0,"ng-template",20),s.TgZ(65,"div",23),s.TgZ(66,"h2"),s.TgZ(67,"strong"),s._uU(68,"Security"),s.qZA(),s._uU(69," Settings"),s.qZA(),s.qZA(),s.TgZ(70,"div",24),s.TgZ(71,"form",29),s.TgZ(72,"div",30),s.TgZ(73,"mat-form-field",31),s.TgZ(74,"mat-label"),s._uU(75,"Username"),s.qZA(),s._UZ(76,"input",32),s.qZA(),s.TgZ(77,"mat-form-field",31),s.TgZ(78,"mat-label"),s._uU(79,"Current Password"),s.qZA(),s._UZ(80,"input",33),s.qZA(),s.TgZ(81,"mat-form-field",31),s.TgZ(82,"mat-label"),s._uU(83,"New Password"),s.qZA(),s._UZ(84,"input",34),s.qZA(),s.qZA(),s.TgZ(85,"button",35),s.NdJ("click",function(){return t.updateUserCredentials()}),s._uU(86,"Save"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(87,"div",23),s.TgZ(88,"h2"),s.TgZ(89,"strong"),s._uU(90,"Account"),s.qZA(),s._uU(91," Settings"),s.qZA(),s.qZA(),s.TgZ(92,"div",24),s.TgZ(93,"form",29),s.TgZ(94,"div",8),s.TgZ(95,"div",36),s.TgZ(96,"div",37),s.TgZ(97,"mat-form-field",31),s.TgZ(98,"mat-label"),s._uU(99,"Name"),s.qZA(),s._UZ(100,"input",38),s.qZA(),s.qZA(),s.qZA(),s.TgZ(101,"div",39),s.TgZ(102,"div",37),s.TgZ(103,"mat-form-field",31),s.TgZ(104,"mat-label"),s._uU(105,"Mobile No"),s.qZA(),s._UZ(106,"input",40),s.qZA(),s.qZA(),s.qZA(),s.TgZ(107,"div",39),s.TgZ(108,"div",37),s.TgZ(109,"mat-form-field",31),s.TgZ(110,"mat-label"),s._uU(111,"Email Id"),s.qZA(),s._UZ(112,"input",41),s.qZA(),s.qZA(),s.qZA(),s.TgZ(113,"div",36),s.TgZ(114,"div",37),s.TgZ(115,"mat-form-field",42),s.TgZ(116,"ngx-mat-file-input",43),s.NdJ("change",function(e){return t.onFileChangeProfile(e)}),s.qZA(),s.TgZ(117,"mat-icon",44),s._uU(118,"cloud_upload"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(119,"div",36),s.TgZ(120,"button",45),s.NdJ("click",function(){return t.updateAccountDetails()}),s._uU(121,"Save Changes"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(16),s.Oqu(null==t.userDetails?null:t.userDetails.name),s.xp6(2),s.Oqu(null==t.userDetails?null:t.userDetails.role),s.xp6(1),s.s9C("src",t.userImg?t.userImg:"assets/images/nouser.png",s.LSH),s.xp6(5),s.Oqu(null==t.userDetails?null:t.userDetails.mobile_no),s.xp6(5),s.Oqu(null==t.userDetails?null:t.userDetails.email_id),s.xp6(19),s.Oqu(null==t.userDetails?null:t.userDetails.name),s.xp6(6),s.Oqu(null==t.userDetails?null:t.userDetails.mobile_no),s.xp6(6),s.Oqu(null==t.userDetails?null:t.userDetails.email_id),s.xp6(1),s.Q6J("ngIf","Admin"==(null==t.userDetails?null:t.userDetails.role)),s.xp6(1),s.Q6J("ngIf","Admin"==(null==t.userDetails?null:t.userDetails.role)),s.xp6(9),s.Q6J("formGroup",t.securityForm),s.xp6(14),s.Q6J("disabled",!t.securityForm.valid),s.xp6(8),s.Q6J("formGroup",t.accountsForm))},directives:[g.SP,g.uX,g.uD,u.O5,l._Y,l.JL,l.sg,m.KE,m.hX,d.Nt,l.Fj,l.JJ,l.u,p.lW,f.Yh,A.Hw,m.R9],styles:[""]}),_)}],U=function(){var e=function e(){r(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.Bz.forChild(y)],o.Bz]}),e}(),w=n(63589),D=n(13841),S=n(97070),x=n(40994),C=((b=function e(){r(this,e)}).\u0275fac=function(e){return new(e||b)},b.\u0275mod=s.oAB({type:b}),b.\u0275inj=s.cJS({imports:[[u.ez,U,S.Tx,p.ot,A.Ps,f.Ad,l.u5,l.UX,D.LD,w.ZX,d.c,m.lN,x.p9,g.Nh]]}),b)}}])}();