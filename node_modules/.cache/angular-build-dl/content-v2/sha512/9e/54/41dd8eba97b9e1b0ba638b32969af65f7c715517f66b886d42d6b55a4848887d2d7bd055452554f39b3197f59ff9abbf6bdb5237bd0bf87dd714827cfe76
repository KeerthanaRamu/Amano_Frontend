!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}(self.webpackChunksmart=self.webpackChunksmart||[]).push([[5198],{25198:function(e,n,r){"use strict";r.r(n),r.d(n,{ReportsModule:function(){return J}});var i=r(61116),o=r(31041),l=r(39199),s=r(5609),c=r(13070),u=r(9550),d=r(84369),p=r(77307),m=r(92935),g=r(59241),f=r(69024),h=r(40994),Z=r(97070),T=r(87672),A=r(60649),b=r(79961),v=r(17647),S=r(31269),w=r(22797),y=r(7436),q=r(91681),x=r(529),L=r(35366),R=r(42693),C=function(){var e=function(){function e(a){t(this,e),this.http=a}return a(e,[{key:"getCurrentDaySalesReport",value:function(){return this.http.get("".concat(x.N.apiUrl,"/report/getCurrentDaySalesReport")).pipe((0,q.U)(function(t){return t}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(L.LFG(R.eN))},e.\u0275prov=L.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),E=r(35729),_=r(64762),D=r(59365),N=r(29609),k=r(50518);function P(t,e){if(1&t&&(L.TgZ(0,"td",37),L._UZ(1,"img",38),L.qZA()),2&t){var a=e.value;L.xp6(1),L.s9C("src",a||"assets/images/nologo.png",L.LSH)}}var U,O,I=[{path:"sales-report",component:(U=function(){function e(a,n,r,i,o){t(this,e),this.reportService=a,this.toastrService=n,this.fb=r,this.router=i,this.spinner=o,this.columns=[{name:"Name"},{name:"NRIC Number"},{name:"Passport Number"},{name:"Gender"},{name:"Mobile"},{name:"Email"},{name:"Status"}],this.data=[],this.filteredData=[],this.translateVal="ml"==localStorage.lang?"malay":"english",this.today=new Date,this.fileName="Sales-report-"+this.today+".xlsx"}return a(e,[{key:"ngOnInit",value:function(){this.getCurrentDaySalesReport()}},{key:"refresh",value:function(){this.getCurrentDaySalesReport()}},{key:"getCurrentDaySalesReport",value:function(){var t=this;this.spinner.show(),this.reportService.getCurrentDaySalesReport().subscribe(function(e){t.spinner.hide();for(var a=0;a<e.data.length;a++)e.data[a].package_english=e.data[a]["package_"+t.translateVal],e.data[a].english=e.data[a][t.translateVal];t.data=e.data,t.filteredData=e.data})}},{key:"filterDatatable",value:function(t){var e=t.target.value.toLowerCase(),a=this.columns.length,n=Object.keys(this.filteredData[0]);this.data=this.filteredData.filter(function(t){for(var r=0;r<a;r++)if(-1!==t[n[r]].toString().toLowerCase().indexOf(e)||!e)return!0}),this.table.offset=0}},{key:"export",value:function(){if(this.filteredData.length>0){var t={fieldSeparator:",",quoteStrings:'"',decimalseparator:".",showLabels:!0,showTitle:!0,title:"Sales Report - "+N(new Date).format("YYYY-MM-DD"),useBom:!0,noDownload:!1,headers:["Student Name","NRIC Number","Passport Number","Transaction Number","Package","Payment Phase","Amount Paid"]},e="Sales_Report_"+N(new Date).format("YYYY-MM-DD");console.log("this.filteredData========",this.filteredData,e);var a=this.filteredData.map(function(t){var e=(0,_._T)(t,["malay","package_malay","profile_img"]);return Object.assign({},e)});new D.J0(a,e,t)}}}]),e}(),U.\u0275fac=function(t){return new(t||U)(L.Y36(C),L.Y36(k._W),L.Y36(o.qu),L.Y36(E.F0),L.Y36(S.t2))},U.\u0275cmp=L.Xpm({type:U,selectors:[["app-sales-report"]],viewQuery:function(t,e){var a;1&t&&L.Gf(v.nE,5),2&t&&L.iGM(a=L.CRH())&&(e.table=a.first)},decls:53,vars:43,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12"],[1,"mt-5"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"materialTableHeader"],[1,"col-8"],[1,"col-2",2,"padding","10px"],["mat-raised-button","",1,"btn","btn-success",3,"click"],[1,"fas","fa-file-excel"],[1,"col-2"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],[1,"material",3,"rows","columns","sortType","columnMode","headerHeight","footerHeight","rowHeight","limit"],["table",""],["name","Image","sortable","false","prop","profile_img",3,"width"],["ngx-datatable-cell-template",""],["prop","name",3,"name","width"],["prop","nric_number",3,"name","width"],["prop","passport_number",3,"name","width"],["prop","enrollment_no",3,"name","width"],["prop","package_english",3,"name","width"],["prop","english",3,"name","width"],["prop","payment_amount",3,"name","width"],[1,"table-img","padding-0"],["width","40",3,"src"]],template:function(t,e){1&t&&(L.TgZ(0,"ngx-spinner",0),L.TgZ(1,"p",1),L._uU(2,"Loading..."),L.qZA(),L.qZA(),L.TgZ(3,"section",2),L.TgZ(4,"div",3),L.TgZ(5,"div",4),L.TgZ(6,"div",5),L.TgZ(7,"div",6),L.TgZ(8,"ul",7),L.TgZ(9,"li",8),L.TgZ(10,"h4",9),L._uU(11),L.ALo(12,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(13,"div",5),L.TgZ(14,"div",10),L.TgZ(15,"div",11),L.TgZ(16,"div",12),L.TgZ(17,"div",13),L.TgZ(18,"div",14),L.TgZ(19,"div",15),L.TgZ(20,"div",16),L.TgZ(21,"div",5),L._UZ(22,"div",17),L.TgZ(23,"div",18),L.TgZ(24,"button",19),L.NdJ("click",function(){return e.export()}),L._uU(25),L.ALo(26,"translate"),L._UZ(27,"i",20),L.qZA(),L.qZA(),L.TgZ(28,"div",21),L.TgZ(29,"ul",22),L.TgZ(30,"li"),L.TgZ(31,"div",23),L.TgZ(32,"button",24),L.NdJ("click",function(){return e.refresh()}),L.TgZ(33,"mat-icon",25),L._uU(34,"refresh "),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(35,"ngx-datatable",26,27),L.TgZ(37,"ngx-datatable-column",28),L.YNc(38,P,2,1,"ng-template",29),L.qZA(),L._UZ(39,"ngx-datatable-column",30),L.ALo(40,"translate"),L._UZ(41,"ngx-datatable-column",31),L.ALo(42,"translate"),L._UZ(43,"ngx-datatable-column",32),L.ALo(44,"translate"),L._UZ(45,"ngx-datatable-column",33),L.ALo(46,"translate"),L._UZ(47,"ngx-datatable-column",34),L.ALo(48,"translate"),L._UZ(49,"ngx-datatable-column",35),L.ALo(50,"translate"),L._UZ(51,"ngx-datatable-column",36),L.ALo(52,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA()),2&t&&(L.xp6(11),L.Oqu(L.lcZ(12,25,"SALES-REPORT.TITLE")),L.xp6(14),L.hij("",L.lcZ(26,27,"BUTTON.EXCEL-BTN")," "),L.xp6(10),L.Q6J("rows",e.data)("columns",e.columns)("sortType","multi")("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","60")("limit",10),L.xp6(2),L.Q6J("width",100),L.xp6(2),L.s9C("name",L.lcZ(40,29,"SALES-REPORT.LIST.STUDENT-NAME")),L.Q6J("width",130),L.xp6(2),L.s9C("name",L.lcZ(42,31,"SALES-REPORT.LIST.NRIC")),L.Q6J("width",130),L.xp6(2),L.s9C("name",L.lcZ(44,33,"SALES-REPORT.LIST.PASSPORT")),L.Q6J("width",200),L.xp6(2),L.s9C("name",L.lcZ(46,35,"SALES-REPORT.LIST.TRAN-NO")),L.Q6J("width",200),L.xp6(2),L.s9C("name",L.lcZ(48,37,"SALES-REPORT.LIST.PACKAGE")),L.Q6J("width",200),L.xp6(2),L.s9C("name",L.lcZ(50,39,"SALES-REPORT.LIST.PAYMENT-PHASE")),L.Q6J("width",200),L.xp6(2),L.s9C("name",L.lcZ(52,41,"SALES-REPORT.LIST.AMOUNT-PAID")),L.Q6J("width",200))},directives:[S.Ro,d.lW,p.Hw,v.nE,v.UC,v.vq],pipes:[A.X$],styles:[""]}),U)}],Y=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=L.oAB({type:e}),e.\u0275inj=L.cJS({imports:[[E.Bz.forChild(I)],E.Bz]}),e}(),J=((O=function e(){t(this,e)}).\u0275fac=function(t){return new(t||O)},O.\u0275mod=L.oAB({type:O}),O.\u0275inj=L.cJS({providers:[C],imports:[[S.ef,w.QW,y.Fk,v.xD,i.ez,o.u5,o.UX,l.p0,s.TU,c.lN,u.c,d.ot,p.Ps,m.Is,g.JX,f.FA,h.p9,Z.Tx,T.Cq,A.aw,b.Bb,Y]]}),O)}}])}();