(self.webpackChunksmart=self.webpackChunksmart||[]).push([[258],{50258:function(t,e,i){"use strict";i.r(e),i.d(e,{RetestPaymentModule:function(){return I}});var s=i(61116),a=i(33919),o=i(17647),r=i(12031),n=i(16184),l=i(77307),c=i(84369),u=i(97070),d=i(13070),Z=i(9550),m=i(63589),T=i(13841),p=i(31041),g=i(1325),A=i(35729),h=i(35366),q=i(91681),f=i(529),b=i(42693);let E=(()=>{class t{constructor(t){this.http=t}getRetestList(){return this.http.get(`${f.N.apiUrl}/webRoutes/getRetestList`).pipe((0,q.U)(t=>t))}getRetestDetails(){return this.http.get(`${f.N.apiUrl}/webRoutes/getRetestDetails`).pipe((0,q.U)(t=>t))}checkRetestExists(t){return this.http.post(`${f.N.apiUrl}/webRoutes/checkRetestExists`,{retest_status:t}).pipe((0,q.U)(t=>t))}setRetestPayment(t){return this.http.post(`${f.N.apiUrl}/webRoutes/setRetestPayment`,{retestData:t}).pipe((0,q.U)(t=>t))}updateRetestPayment(t){return this.http.post(`${f.N.apiUrl}/webRoutes/updateRetestPayment`,{retestData:t}).pipe((0,q.U)(t=>t))}deleteRetestPayment(t){return this.http.post(`${f.N.apiUrl}/webRoutes/deleteRetestPayment`,{retestData:t}).pipe((0,q.U)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(h.LFG(b.eN))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var R=i(24486),y=i(50518),v=i(87064),N=i(60649);function S(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"span"),h.TgZ(1,"button",32),h.NdJ("click",function(){const e=h.CHM(t),i=e.row,s=e.rowIndex,a=h.oxw(),o=h.MAs(45);return a.editRow(i,s,o)}),h.TgZ(2,"mat-icon",33),h._uU(3,"edit "),h.qZA(),h.qZA(),h.TgZ(4,"button",34),h.NdJ("click",function(){const e=h.CHM(t),i=e.row,s=e.rowIndex,a=h.oxw(),o=h.MAs(47);return a.deleteRow(i,s,o)}),h.TgZ(5,"mat-icon",35),h._uU(6,"delete "),h.qZA(),h.qZA(),h.qZA()}}function x(t,e){if(1&t&&(h.TgZ(0,"mat-option",56),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.Q6J("value",t.id),h.xp6(1),h.hij(" ",t.status," ")}}function U(t,e){1&t&&(h.TgZ(0,"mat-error"),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&t&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"RETEST-PAYMENT.LIST.RETEST-AMOUNT")," is required "))}function w(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"div",36),h.TgZ(1,"h4",37),h.TgZ(2,"div",38),h.TgZ(3,"div",39),h.TgZ(4,"div",40),h._uU(5),h.ALo(6,"translate"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(7,"button",41),h.NdJ("click",function(){return h.CHM(t).$implicit.dismiss()}),h.TgZ(8,"span",42),h.TgZ(9,"i",43),h._uU(10,"close"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(11,"div",44),h.TgZ(12,"form",45),h.NdJ("ngSubmit",function(){return h.CHM(t),h.oxw().setRetestPayment()}),h.TgZ(13,"div",3),h.TgZ(14,"div",46),h.TgZ(15,"mat-form-field",47),h.TgZ(16,"mat-label"),h._uU(17),h.ALo(18,"translate"),h.qZA(),h.TgZ(19,"mat-select",48),h.NdJ("selectionChange",function(){return h.CHM(t),h.oxw().checkRetestExists()}),h.YNc(20,x,2,2,"mat-option",49),h.qZA(),h.qZA(),h.qZA(),h.TgZ(21,"div",46),h.TgZ(22,"mat-form-field",47),h.TgZ(23,"mat-label"),h._uU(24),h.ALo(25,"translate"),h.qZA(),h._UZ(26,"input",50),h.TgZ(27,"mat-icon",51),h._uU(28,"face"),h.qZA(),h.YNc(29,U,3,3,"mat-error",52),h.qZA(),h.qZA(),h.qZA(),h.TgZ(30,"div",3),h.TgZ(31,"div",53),h.TgZ(32,"button",54),h._uU(33),h.ALo(34,"translate"),h.qZA(),h.TgZ(35,"button",55),h.NdJ("click",function(){return h.CHM(t).$implicit.close()}),h._uU(36),h.ALo(37,"translate"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=h.oxw();h.xp6(5),h.hij(" ",h.lcZ(6,9,"RETEST-PAYMENT.TITLE"),""),h.xp6(7),h.Q6J("formGroup",t.addRetestPaymentForm),h.xp6(5),h.Oqu(h.lcZ(18,11,"RETEST-PAYMENT.LIST.RETEST-TYPE")),h.xp6(3),h.Q6J("ngForOf",t.retestList),h.xp6(4),h.Oqu(h.lcZ(25,13,"RETEST-PAYMENT.LIST.RETEST-AMOUNT")),h.xp6(5),h.Q6J("ngIf",t.addRetestPaymentForm.get("retest_payment_amount").hasError("required")),h.xp6(3),h.Q6J("disabled",!t.addRetestPaymentForm.valid),h.xp6(1),h.Oqu(h.lcZ(34,15,"BUTTON.ADD-BTN")),h.xp6(3),h.Oqu(h.lcZ(37,17,"BUTTON.CANCEL-BTN"))}}function _(t,e){if(1&t&&(h.TgZ(0,"mat-option",56),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.Q6J("value",t.id),h.xp6(1),h.hij(" ",t.status," ")}}function L(t,e){1&t&&(h.TgZ(0,"mat-error"),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&t&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"RETEST-PAYMENT.LIST.RETEST-AMOUNT")," is required "))}function P(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"div",36),h.TgZ(1,"h4",37),h.TgZ(2,"div",38),h.TgZ(3,"div",39),h.TgZ(4,"div",40),h._uU(5),h.ALo(6,"translate"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(7,"button",41),h.NdJ("click",function(){return h.CHM(t).$implicit.dismiss("Cross click")}),h.TgZ(8,"span",42),h.TgZ(9,"i",43),h._uU(10,"close"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(11,"div",44),h.TgZ(12,"form",57),h.NdJ("ngSubmit",function(){return h.CHM(t),h.oxw().updateRetestPayment()}),h.TgZ(13,"div",58),h._UZ(14,"input",59),h.qZA(),h.TgZ(15,"div",3),h.TgZ(16,"div",46),h.TgZ(17,"mat-form-field",47),h.TgZ(18,"mat-label"),h._uU(19),h.ALo(20,"translate"),h.qZA(),h.TgZ(21,"mat-select",60),h.YNc(22,_,2,2,"mat-option",49),h.qZA(),h.qZA(),h.qZA(),h.TgZ(23,"div",46),h.TgZ(24,"mat-form-field",47),h.TgZ(25,"mat-label"),h._uU(26),h.ALo(27,"translate"),h.qZA(),h._UZ(28,"input",50),h.TgZ(29,"mat-icon",51),h._uU(30,"face"),h.qZA(),h.YNc(31,L,3,3,"mat-error",52),h.qZA(),h.qZA(),h.qZA(),h.TgZ(32,"div",61),h.TgZ(33,"div",62),h.TgZ(34,"button",63),h._uU(35),h.ALo(36,"translate"),h.qZA(),h.TgZ(37,"button",64),h.NdJ("click",function(){return h.CHM(t).$implicit.close()}),h._uU(38),h.ALo(39,"translate"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=h.oxw();h.xp6(5),h.hij(" ",h.lcZ(6,8,"RETEST-PAYMENT.EDITTITLE"),""),h.xp6(7),h.Q6J("formGroup",t.editRetestPaymentForm),h.xp6(7),h.Oqu(h.lcZ(20,10,"RETEST-PAYMENT.LIST.RETEST-TYPE")),h.xp6(3),h.Q6J("ngForOf",t.retestList),h.xp6(4),h.Oqu(h.lcZ(27,12,"RETEST-PAYMENT.LIST.RETEST-AMOUNT")),h.xp6(5),h.Q6J("ngIf",t.editRetestPaymentForm.get("retest_payment_amount").hasError("required")),h.xp6(4),h.Oqu(h.lcZ(36,14,"BUTTON.EDIT-BTN")),h.xp6(3),h.Oqu(h.lcZ(39,16,"BUTTON.CANCEL-BTN"))}}function M(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"div",65),h.TgZ(1,"h4",37),h.TgZ(2,"div",38),h.TgZ(3,"div",39),h.TgZ(4,"div",40),h._uU(5),h.ALo(6,"translate"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(7,"button",41),h.NdJ("click",function(){return h.CHM(t).$implicit.dismiss("Cross click")}),h.TgZ(8,"span",42),h.TgZ(9,"i",43),h._uU(10,"close"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(11,"div",44),h.TgZ(12,"p"),h._uU(13),h.ALo(14,"translate"),h.qZA(),h.TgZ(15,"div",61),h.TgZ(16,"div",62),h.TgZ(17,"button",66),h.NdJ("click",function(){return h.CHM(t),h.oxw().deleteRetestPayment()}),h._uU(18),h.ALo(19,"translate"),h.qZA(),h.TgZ(20,"button",64),h.NdJ("click",function(){return h.CHM(t).$implicit.close()}),h._uU(21),h.ALo(22,"translate"),h.qZA(),h.qZA(),h.qZA(),h.qZA()}2&t&&(h.xp6(5),h.hij(" ",h.lcZ(6,4,"RETEST-PAYMENT.DELETETITLE"),""),h.xp6(8),h.Oqu(h.lcZ(14,6,"BUTTON.CONFIRMATION")),h.xp6(5),h.Oqu(h.lcZ(19,8,"BUTTON.DEL-BTN")),h.xp6(3),h.Oqu(h.lcZ(22,10,"BUTTON.CANCEL-BTN")))}const C=[{path:"retest-payment-list",component:(()=>{class t{constructor(t,e,i,s){this.fb=t,this.retestPaymentService=e,this.modalService=i,this.toastrService=s,this.data=[],this.filteredData=[],this.hide=!0,this.columns=[{name:"Retest Type"},{name:"Retest Amount"}]}ngOnInit(){this.getRetestList(),this.getRetestDetails(),this.addRetestPaymentForm=this.fb.group({retest_type:["",p.kI.required],retest_payment_amount:["",p.kI.required]}),this.editRetestPaymentForm=this.fb.group({id:[""],retest_type:["",p.kI.required],retest_payment_amount:["",p.kI.required]})}getRetestList(){this.retestPaymentService.getRetestList().subscribe(t=>{console.log("client--------",t),this.retestList=t.data})}getRetestDetails(){this.retestPaymentService.getRetestDetails().subscribe(t=>{console.log("getRetestDetails--------",t),this.data=t.data,this.filteredData=t.data})}addRow(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg"})}checkRetestExists(){this.retestPaymentService.checkRetestExists(this.addRetestPaymentForm.value.retest_type).subscribe(t=>{"Exists"==t.status&&(this.toastrService.error("Already Exists!!!"),this.addRetestPaymentForm.patchValue({retest_type:""}))})}setRetestPayment(){this.retestPaymentService.setRetestPayment(this.addRetestPaymentForm.value).subscribe(t=>{"Success"==t.status?(this.toastrService.success("Created Successfully!!"),this.getRetestDetails(),this.modalService.dismissAll()):this.toastrService.error(t.status)})}editRow(t,e,i){this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",size:"lg"}),console.log("row====",t),this.editRetestPaymentForm.patchValue({id:t.id,retest_type:t.status_id,retest_payment_amount:t.retest_amount})}updateRetestPayment(){this.retestPaymentService.updateRetestPayment(this.editRetestPaymentForm.value).subscribe(t=>{"Success"==t.status?(this.toastrService.success("Updated Successfully!!"),this.getRetestDetails(),this.modalService.dismissAll()):this.toastrService.error(t.status)})}deleteRow(t,e,i){this.modalService.open(i,{ariaLabelledBy:"modal-basic-title"}),this.rowToDelete=t}deleteRetestPayment(){this.retestPaymentService.deleteRetestPayment(this.rowToDelete).subscribe(t=>{"Success"==t.status?(this.toastrService.success("Deleted Successfully!!"),this.getRetestDetails(),this.modalService.dismissAll()):this.toastrService.error(t.status)})}filterDatatable(t){const e=t.target.value.toLowerCase(),i=this.columns.length,s=Object.keys(this.filteredData[0]);this.data=this.filteredData.filter(function(t){for(let a=0;a<i;a++)if(-1!==t[s[a]].toString().toLowerCase().indexOf(e)||!e)return!0}),this.table.offset=0}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.qu),h.Y36(E),h.Y36(R.FF),h.Y36(y._W))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-retest-payment-list"]],viewQuery:function(t,e){if(1&t&&h.Gf(o.nE,5),2&t){let t;h.iGM(t=h.CRH())&&(e.table=t.first)}},decls:48,vars:26,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"col-sm-12"],[1,"ngxTableHeader"],[1,"header-buttons-left","ms-0","mb-0"],[1,"dropdown"],[1,"dropdown","m-l-20"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"header-buttons"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],[1,"material",3,"rows","columns","sortType","columnMode","headerHeight","footerHeight","rowHeight","limit"],["table",""],["prop","status",3,"name","width"],["prop","retest_amount",3,"name","width"],["sortable","false",3,"name","width"],["ngx-datatable-cell-template",""],["addRecord",""],["editRecord",""],["deleteRecord",""],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"click"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"],[1,"modal-header","editRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"register-form",3,"formGroup","ngSubmit"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],[1,"example-full-width"],["formControlName","retest_type","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","retest_payment_amount","required",""],["matSuffix",""],[4,"ngIf"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled"],["type","button","mat-button","",3,"click"],[3,"value"],[3,"formGroup","ngSubmit"],[1,"input-field","col","s12","d-none"],["formControlName","id","type","hidden",1,"form-control"],["formControlName","retest_type","readonly",""],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary"],["mat-button","","type","button",3,"click"],[1,"modal-header","deleteRowModal"],["mat-raised-button","","type","submit","color","primary",3,"click"]],template:function(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"section",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"div",4),h.TgZ(5,"ul",5),h.TgZ(6,"li",6),h.TgZ(7,"h4",7),h._uU(8),h.ALo(9,"translate"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(10,"div",8),h.TgZ(11,"div",9),h.TgZ(12,"div",10),h.TgZ(13,"div",11),h.TgZ(14,"div",3),h.TgZ(15,"div",12),h.TgZ(16,"div",13),h.TgZ(17,"ul",14),h.TgZ(18,"li",15),h.TgZ(19,"h2"),h.TgZ(20,"strong"),h._uU(21),h.ALo(22,"translate"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(23,"li",16),h.TgZ(24,"label",17),h.TgZ(25,"i",18),h._uU(26,"search"),h.qZA(),h.qZA(),h.TgZ(27,"input",19),h.NdJ("keyup",function(t){return e.filterDatatable(t)}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(28,"ul",20),h.TgZ(29,"li"),h.TgZ(30,"button",21),h.NdJ("click",function(){h.CHM(t);const i=h.MAs(43);return e.addRow(i)}),h.TgZ(31,"mat-icon",22),h._uU(32,"add"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(33,"ngx-datatable",23,24),h._UZ(35,"ngx-datatable-column",25),h.ALo(36,"translate"),h._UZ(37,"ngx-datatable-column",26),h.ALo(38,"translate"),h.TgZ(39,"ngx-datatable-column",27),h.ALo(40,"translate"),h.YNc(41,S,7,0,"ng-template",28),h.qZA(),h.qZA(),h.YNc(42,w,38,19,"ng-template",null,29,h.W1O),h.YNc(44,P,40,18,"ng-template",null,30,h.W1O),h.YNc(46,M,23,12,"ng-template",null,31,h.W1O),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()}2&t&&(h.xp6(8),h.Oqu(h.lcZ(9,16,"RETEST-PAYMENT.LISTTITLE")),h.xp6(13),h.Oqu(h.lcZ(22,18,"RETEST-PAYMENT.LISTTITLE")),h.xp6(12),h.Q6J("rows",e.data)("columns",e.columns)("sortType","multi")("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","60")("limit",10),h.xp6(2),h.s9C("name",h.lcZ(36,20,"RETEST-PAYMENT.LIST.RETEST-TYPE")),h.Q6J("width",130),h.xp6(2),h.s9C("name",h.lcZ(38,22,"RETEST-PAYMENT.LIST.RETEST-AMOUNT")),h.Q6J("width",200),h.xp6(2),h.s9C("name",h.lcZ(40,24,"RETEST-PAYMENT.ACTION")),h.Q6J("width",120))},directives:[c.lW,l.Hw,o.nE,o.UC,o.vq,p._Y,p.JL,p.sg,d.KE,d.hX,T.gD,p.JJ,p.u,p.Q7,s.sg,Z.Nt,p.Fj,d.R9,s.O5,v.ey,d.TO],pipes:[N.X$],styles:[""]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[A.Bz.forChild(C)],A.Bz]}),t})();var k=i(79961);let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:[E],imports:[[s.ez,k.Bb,o.xD,d.lN,Z.c,m.ZX,T.LD,p.u5,p.UX,g.Ad,O,N.aw,r.Ns.forRoot({echarts:()=>i.e(4981).then(i.t.bind(i,74981,23))}),a.Xd,l.Ps,n.X,c.ot,u.Tx]]}),t})()}}]);