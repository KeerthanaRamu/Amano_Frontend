!function(){function e(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,i=new Array(a);t<a;t++)i[t]=e[t];return i}function t(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function i(e,a){for(var t=0;t<a.length;t++){var i=a[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,a,t){return a&&i(e.prototype,a),t&&i(e,t),e}(self.webpackChunksmart=self.webpackChunksmart||[]).push([[3424],{93424:function(a,i,r){"use strict";r.r(i),r.d(i,{PackageModule:function(){return ga}});var n=r(61116),o=r(31041),l=r(39199),c=r(5609),u=r(13070),p=r(9550),g=r(63589),d=r(84369),h=r(77307),m=r(13841),A=r(92935),Z=r(59241),f=r(37112),_=r(69024),v=r(40994),T=r(1325),P=r(57173),k=r(97070),q=r(87672),y=r(44716),L=r(51601),E=r(35729),b=r(17647),C=r(35366),x=r(42693),S=r(91681),I=r(529),N=function(){var e=function(){function e(a){t(this,e),this.http=a}return s(e,[{key:"setLicenseDetails",value:function(e){return this.http.post("".concat(I.N.apiUrl,"/webRoutes/setLicenseDetails"),{licenseData:e}).pipe((0,S.U)(function(e){return e}))}},{key:"getLicenseListPerClient",value:function(){return this.http.get("".concat(I.N.apiUrl,"/webRoutes/getLicenseListPerClient")).pipe((0,S.U)(function(e){return e}))}},{key:"getLicenseClassList",value:function(){return this.http.get("".concat(I.N.apiUrl,"/webRoutes/getLicenseClassList")).pipe((0,S.U)(function(e){return e}))}},{key:"getPakageTypeList",value:function(){return this.http.get("".concat(I.N.apiUrl,"/webRoutes/getPakageTypeList")).pipe((0,S.U)(function(e){return e}))}},{key:"getPaymentPhases",value:function(){return this.http.get("".concat(I.N.apiUrl,"/webRoutes/getPaymentPhases")).pipe((0,S.U)(function(e){return e}))}},{key:"setPackageDetails",value:function(e,a,t,i){return this.http.post("".concat(I.N.apiUrl,"/webRoutes/setPackageDetails"),{PackageFormData:e,package_type:a,license_type:t,payment_phase:i}).pipe((0,S.U)(function(e){return e}))}},{key:"getPackageListPerClient",value:function(){return this.http.get("".concat(I.N.apiUrl,"/webRoutes/getPackageListPerClient")).pipe((0,S.U)(function(e){return e}))}},{key:"getPackageToEdit",value:function(e){return this.http.post("".concat(I.N.apiUrl,"/webRoutes/getPackageToEdit"),{packageId:e}).pipe((0,S.U)(function(e){return e}))}},{key:"updatePackageDetails",value:function(e,a,t,i){return this.http.post("".concat(I.N.apiUrl,"/webRoutes/updatePackageDetails"),{PackageFormData:e,package_type:a,license_type:t,payment_phase:i}).pipe((0,S.U)(function(e){return e}))}},{key:"deletePackageDetails",value:function(e){return this.http.post("".concat(I.N.apiUrl,"/webRoutes/deletePackageDetails"),{rowToDelete:e}).pipe((0,S.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(a){return new(a||e)(C.LFG(x.eN))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),w=r(24486),F=r(50518),U=r(94784),G=r(31269),J=r(60649);function K(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"span"),C.TgZ(1,"button",40),C.NdJ("click",function(){var e=C.CHM(t),a=e.row,i=e.rowIndex;return C.oxw().editPackage(a,i)}),C.TgZ(2,"mat-icon",41),C._uU(3,"edit "),C.qZA(),C.qZA(),C.TgZ(4,"button",42),C.NdJ("click",function(){var e=C.CHM(t),a=e.row,i=e.rowIndex,s=C.oxw(),r=C.MAs(65);return s.deletePackage(a,i,r)}),C.TgZ(5,"mat-icon",43),C._uU(6,"delete "),C.qZA(),C.qZA(),C.qZA()}}function M(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"div",44),C.TgZ(1,"h4",45),C.TgZ(2,"div",46),C.TgZ(3,"div",47),C.TgZ(4,"div",48),C._uU(5),C.ALo(6,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(7,"button",49),C.NdJ("click",function(){return C.CHM(t).$implicit.dismiss("Cross click")}),C.TgZ(8,"span",50),C.TgZ(9,"i",51),C._uU(10,"close"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(11,"div",52),C.TgZ(12,"p"),C._uU(13),C.ALo(14,"translate"),C.qZA(),C.TgZ(15,"div",53),C.TgZ(16,"div",54),C.TgZ(17,"button",55),C.NdJ("click",function(){return C.CHM(t),C.oxw().deletePackageDetails()}),C._uU(18),C.ALo(19,"translate"),C.qZA(),C.TgZ(20,"button",56),C.NdJ("click",function(){return C.CHM(t).$implicit.close()}),C._uU(21),C.ALo(22,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA()}2&e&&(C.xp6(5),C.hij(" ",C.lcZ(6,4,"PACKAGE.DELETETITLE"),""),C.xp6(8),C.Oqu(C.lcZ(14,6,"BUTTON.CONFIRMATION")),C.xp6(5),C.Oqu(C.lcZ(19,8,"BUTTON.DEL-BTN")),C.xp6(3),C.Oqu(C.lcZ(22,10,"BUTTON.CANCEL-BTN")))}var O=function(){var e=function(){function e(a,i,s,r,n,o,l,c,u){t(this,e),this.httpClient=a,this.dialog=i,this.packageService=s,this.snackBar=r,this.router=n,this.modalService=o,this.toastrService=l,this.languageService=c,this.spinner=u,this.columns=[{name:"License Type"},{name:"Package Type"},{name:"Final Package Price"},{name:"Payment Phase"},{name:"Global View"}],this.data=[],this.filteredData=[],this.translateVal="ml"==localStorage.lang?"malay":"english"}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.loadData(),this.languageService.languageChanged.subscribe(function(a){e.translateVal="ml"==localStorage.lang?"malay":"english",e.loadData()})}},{key:"refresh",value:function(){this.loadData()}},{key:"addNewPackage",value:function(){this.router.navigate(["/admin/package/add-package"])}},{key:"loadData",value:function(){var e=this;this.spinner.show(),this.packageService.getPackageListPerClient().subscribe(function(a){e.spinner.hide(),console.log("Pack data!!!!!!!!",a.data);for(var t=0;t<a.data.length;t++)a.data[t].global_view=1==a.data[t].global_view,a.data[t].package_type=a.data[t][e.translateVal],a.data[t].payment_phase=a.data[t]["phase_"+e.translateVal];e.data=a.data,e.filteredData=a.data})}},{key:"filterDatatable",value:function(e){var a=e.target.value.toLowerCase(),t=this.columns.length,i=Object.keys(this.filteredData[0]);this.data=this.filteredData.filter(function(e){for(var s=0;s<t;s++)if(-1!==e[i[s]].toString().toLowerCase().indexOf(a)||!a)return!0}),this.table.offset=0}},{key:"editPackage",value:function(e,a){console.log("rowww===",e),this.router.navigate(["/admin/package/edit-package",e.id])}},{key:"deletePackage",value:function(e,a,t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}),this.rowToDelete=e}},{key:"deletePackageDetails",value:function(){var e=this;this.spinner.show(),this.packageService.deletePackageDetails(this.rowToDelete).subscribe(function(a){e.spinner.hide(),"Success"==a.status&&(e.toastrService.success("Deleted Successfully!!!"),e.modalService.dismissAll(),e.loadData()),"Session Expired"==a.status&&(e.toastrService.error("Session Expired!!!"),e.router.navigate(["/authentication/signin"]))})}}]),e}();return e.\u0275fac=function(a){return new(a||e)(C.Y36(x.eN),C.Y36(A.uw),C.Y36(N),C.Y36(g.ux),C.Y36(E.F0),C.Y36(w.FF),C.Y36(F._W),C.Y36(U.T),C.Y36(G.t2))},e.\u0275cmp=C.Xpm({type:e,selectors:[["app-package-list"]],viewQuery:function(e,a){var t;(1&e&&C.Gf(b.nE,5),2&e)&&(C.iGM(t=C.CRH())&&(a.table=t.first))},decls:66,vars:42,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12"],[1,"mt-5"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ml-0"],[1,"dropdown"],[1,"dropdown","m-l-20"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"col-4"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],[1,"material",3,"rows","columns","sortType","columnMode","headerHeight","footerHeight","rowHeight","limit"],["table",""],["prop","license_data",3,"name","width"],["prop","package_type",3,"name","width"],["prop","package_offers",3,"name","width"],["prop","final_package_price",3,"name","width"],["prop","payment_phase",3,"name","width"],["prop","global_view",3,"name","width"],["sortable","false",3,"name","width"],["ngx-datatable-cell-template",""],["deleteRecord",""],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"click"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-button","","type","button",3,"click"]],template:function(e,a){1&e&&(C.TgZ(0,"ngx-spinner",0),C.TgZ(1,"p",1),C._uU(2,"Loading..."),C.qZA(),C.qZA(),C.TgZ(3,"section",2),C.TgZ(4,"div",3),C.TgZ(5,"div",4),C.TgZ(6,"div",5),C.TgZ(7,"div",6),C.TgZ(8,"ul",7),C.TgZ(9,"li",8),C.TgZ(10,"h4",9),C._uU(11),C.ALo(12,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(13,"div",5),C.TgZ(14,"div",10),C.TgZ(15,"div",11),C.TgZ(16,"div",12),C.TgZ(17,"div",13),C.TgZ(18,"div",14),C.TgZ(19,"div",15),C.TgZ(20,"div",16),C.TgZ(21,"div",5),C.TgZ(22,"div",17),C.TgZ(23,"ul",18),C.TgZ(24,"li",19),C.TgZ(25,"h2"),C.TgZ(26,"strong"),C._uU(27),C.ALo(28,"translate"),C.qZA(),C.qZA(),C.qZA(),C.TgZ(29,"li",20),C.TgZ(30,"label",21),C.TgZ(31,"i",22),C._uU(32,"search"),C.qZA(),C.qZA(),C.TgZ(33,"input",23),C.NdJ("keyup",function(e){return a.filterDatatable(e)}),C.qZA(),C.qZA(),C._UZ(34,"li"),C.qZA(),C.qZA(),C.TgZ(35,"div",24),C.TgZ(36,"ul",25),C.TgZ(37,"li"),C.TgZ(38,"div",26),C.TgZ(39,"button",27),C.NdJ("click",function(){return a.addNewPackage()}),C.TgZ(40,"mat-icon",28),C._uU(41,"add"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(42,"li"),C.TgZ(43,"div",26),C.TgZ(44,"button",27),C.NdJ("click",function(){return a.refresh()}),C.TgZ(45,"mat-icon",28),C._uU(46,"refresh "),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(47,"ngx-datatable",29,30),C._UZ(49,"ngx-datatable-column",31),C.ALo(50,"translate"),C._UZ(51,"ngx-datatable-column",32),C.ALo(52,"translate"),C._UZ(53,"ngx-datatable-column",33),C.ALo(54,"translate"),C._UZ(55,"ngx-datatable-column",34),C.ALo(56,"translate"),C._UZ(57,"ngx-datatable-column",35),C.ALo(58,"translate"),C._UZ(59,"ngx-datatable-column",36),C.ALo(60,"translate"),C.TgZ(61,"ngx-datatable-column",37),C.ALo(62,"translate"),C.YNc(63,K,7,0,"ng-template",38),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.YNc(64,M,23,12,"ng-template",null,39,C.W1O)),2&e&&(C.xp6(11),C.Oqu(C.lcZ(12,24,"PACKAGE.LISTTITLE")),C.xp6(16),C.Oqu(C.lcZ(28,26,"PACKAGE.LISTTITLE")),C.xp6(20),C.Q6J("rows",a.data)("columns",a.columns)("sortType","multi")("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","60")("limit",10),C.xp6(2),C.s9C("name",C.lcZ(50,28,"PACKAGE.LIST.LICENSE-TYPE")),C.Q6J("width",130),C.xp6(2),C.s9C("name",C.lcZ(52,30,"PACKAGE.LIST.PACKAGE-TYPE")),C.Q6J("width",130),C.xp6(2),C.s9C("name",C.lcZ(54,32,"PACKAGE.LIST.PACKAGE-OFFERS")),C.Q6J("width",130),C.xp6(2),C.s9C("name",C.lcZ(56,34,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")),C.Q6J("width",200),C.xp6(2),C.s9C("name",C.lcZ(58,36,"PACKAGE.LIST.PAYMENT-PHASE")),C.Q6J("width",200),C.xp6(2),C.s9C("name",C.lcZ(60,38,"PACKAGE.LIST.GLOBAL-VIEW")),C.Q6J("width",200),C.xp6(2),C.s9C("name",C.lcZ(62,40,"PACKAGE.ACTION")),C.Q6J("width",120))},directives:[G.Ro,d.lW,h.Hw,b.nE,b.UC,b.vq],pipes:[J.X$],styles:[""]}),e}(),Y=r(99235),Q=r(81258),j=r(22567),D=r(95522),H=r(79961),V=r(87064),R=r(46739),B=["autocompleteTrigger"],$=["licenceInput"];function W(e,a){1&e&&(C.TgZ(0,"mat-icon",59),C._uU(1,"cancel"),C.qZA())}function z(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"mat-chip",57),C.NdJ("removed",function(){var e=C.CHM(t).$implicit;return C.oxw().remove(e)}),C._uU(1),C.YNc(2,W,2,0,"mat-icon",58),C.qZA()}if(2&e){var i=a.$implicit,s=C.oxw();C.Q6J("selectable",s.selectable)("removable",s.removable),C.xp6(1),C.hij(" ",i," "),C.xp6(1),C.Q6J("ngIf",s.removable)}}function X(e,a){if(1&e&&(C.TgZ(0,"mat-option",60),C._UZ(1,"mat-checkbox",61),C._uU(2),C.qZA()),2&e){var t=a.$implicit,i=C.oxw();C.Q6J("value",t),C.xp6(1),C.Q6J("checked",i.license_display.indexOf(t.license_class)>=0),C.xp6(1),C.hij(" ",t.license_class," ")}}function ee(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.LICENSE-TYPE")," is required "))}function ae(e,a){if(1&e&&(C.TgZ(0,"mat-option",60),C._uU(1),C.qZA()),2&e){var t=a.$implicit,i=C.oxw();C.Q6J("value",t),C.xp6(1),C.hij(" ",t[i.translateVal]," ")}}function te(e,a){if(1&e&&(C.TgZ(0,"div"),C._uU(1),C.qZA()),2&e){var t=C.oxw().$implicit;C.xp6(1),C.hij(" ",t.message," ")}}function ie(e,a){if(1&e&&(C.TgZ(0,"mat-error"),C.YNc(1,te,2,1,"div",28),C.qZA()),2&e){var t=a.$implicit,i=C.oxw();C.xp6(1),C.Q6J("ngIf",i.package_type.hasError(t.type))}}function se(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-OFFERS")," is required "))}function re(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-ENG")," is required "))}function ne(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-MALAY")," is required "))}function oe(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PRICE")," is required "))}function le(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PROMO-DIS")," is required "))}function ce(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")," is required "))}function ue(e,a){if(1&e&&(C.TgZ(0,"mat-option",60),C._uU(1),C.qZA()),2&e){var t=a.$implicit,i=C.oxw();C.Q6J("value",t),C.xp6(1),C.hij(" ",t[i.translateVal]," ")}}function pe(e,a){if(1&e&&(C.TgZ(0,"div"),C._uU(1),C.qZA()),2&e){var t=C.oxw().$implicit;C.xp6(1),C.hij(" ",t.message," ")}}function ge(e,a){if(1&e&&(C.TgZ(0,"mat-error"),C.YNc(1,pe,2,1,"div",28),C.qZA()),2&e){var t=a.$implicit,i=C.oxw();C.xp6(1),C.Q6J("ngIf",i.payment_phase.hasError(t.type))}}function de(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1")," is required "))}function he(e,a){if(1&e&&(C.TgZ(0,"div",39),C.TgZ(1,"mat-form-field",17),C.TgZ(2,"mat-label"),C._uU(3),C.ALo(4,"translate"),C.qZA(),C._UZ(5,"input",62),C.YNc(6,de,3,3,"mat-error",28),C.qZA(),C.qZA()),2&e){var t=C.oxw();C.xp6(3),C.hij("",C.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),C.xp6(3),C.Q6J("ngIf",t.addPackageForm.get("first_phase_amount").hasError("required"))}}function me(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2")," is required "))}function Ae(e,a){if(1&e&&(C.TgZ(0,"div",39),C.TgZ(1,"mat-form-field",17),C.TgZ(2,"mat-label"),C._uU(3),C.ALo(4,"translate"),C.qZA(),C._UZ(5,"input",63),C.YNc(6,me,3,3,"mat-error",28),C.qZA(),C.qZA()),2&e){var t=C.oxw();C.xp6(3),C.hij("",C.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),C.xp6(3),C.Q6J("ngIf",t.addPackageForm.get("second_phase_amount").hasError("required"))}}function Ze(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3")," is required "))}function fe(e,a){if(1&e&&(C.TgZ(0,"div",39),C.TgZ(1,"mat-form-field",17),C.TgZ(2,"mat-label"),C._uU(3),C.ALo(4,"translate"),C.qZA(),C._UZ(5,"input",64),C.YNc(6,Ze,3,3,"mat-error",28),C.qZA(),C.qZA()),2&e){var t=C.oxw();C.xp6(3),C.hij("",C.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),C.xp6(3),C.Q6J("ngIf",t.addPackageForm.get("third_phase_amount").hasError("required"))}}function _e(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-ENG")," is required "))}function ve(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-MALAY")," is required "))}function Te(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG")," is required "))}function Pe(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY")," is required "))}function ke(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"mat-form-field",17),C.TgZ(1,"mat-label"),C._uU(2),C.ALo(3,"translate"),C.qZA(),C.TgZ(4,"input",80),C.NdJ("ngModelChange",function(e){return C.CHM(t),C.oxw().$implicit.first_phase=e}),C.qZA(),C.qZA()}if(2&e){var i=C.oxw().$implicit;C.xp6(2),C.hij("",C.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),C.xp6(2),C.Q6J("ngModel",i.first_phase)}}function qe(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"mat-form-field",17),C.TgZ(1,"mat-label"),C._uU(2),C.ALo(3,"translate"),C.qZA(),C.TgZ(4,"input",80),C.NdJ("ngModelChange",function(e){return C.CHM(t),C.oxw().$implicit.second_phase=e}),C.qZA(),C.qZA()}if(2&e){var i=C.oxw().$implicit;C.xp6(2),C.hij("",C.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),C.xp6(2),C.Q6J("ngModel",i.second_phase)}}function ye(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"mat-form-field",17),C.TgZ(1,"mat-label"),C._uU(2),C.ALo(3,"translate"),C.qZA(),C.TgZ(4,"input",80),C.NdJ("ngModelChange",function(e){return C.CHM(t),C.oxw().$implicit.third_phase=e}),C.qZA(),C.qZA()}if(2&e){var i=C.oxw().$implicit;C.xp6(2),C.hij("",C.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),C.xp6(2),C.Q6J("ngModel",i.third_phase)}}function Le(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"div"),C.TgZ(1,"div",79),C.TgZ(2,"div",74),C.TgZ(3,"h5"),C._uU(4),C.qZA(),C.qZA(),C.qZA(),C.TgZ(5,"div",5),C.TgZ(6,"div",39),C.TgZ(7,"mat-form-field",17),C.TgZ(8,"mat-label"),C._uU(9),C.ALo(10,"translate"),C.qZA(),C.TgZ(11,"input",80),C.NdJ("ngModelChange",function(e){return C.CHM(t).$implicit.license_price=e}),C.qZA(),C.qZA(),C.qZA(),C.TgZ(12,"div",39),C.YNc(13,ke,5,4,"mat-form-field",81),C.qZA(),C.TgZ(14,"div",39),C.YNc(15,qe,5,4,"mat-form-field",81),C.qZA(),C.TgZ(16,"div",39),C.YNc(17,ye,5,4,"mat-form-field",81),C.qZA(),C.qZA(),C.qZA()}if(2&e){var i=a.$implicit,s=C.oxw(2);C.xp6(4),C.hij("License Class : ",i.license_class,""),C.xp6(5),C.hij("",C.lcZ(10,6,"PACKAGE.LIST.LICENSE-PRICE"),"*"),C.xp6(2),C.Q6J("ngModel",i.license_price),C.xp6(2),C.Q6J("ngIf",s.showLi2Phase),C.xp6(2),C.Q6J("ngIf",s.showLi2Phase),C.xp6(2),C.Q6J("ngIf",s.showLi3Phase)}}function Ee(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"div",65),C.TgZ(1,"h4",66),C.TgZ(2,"div",67),C.TgZ(3,"div",68),C.TgZ(4,"div",69),C._uU(5),C.ALo(6,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(7,"button",70),C.NdJ("click",function(){return C.CHM(t).$implicit.dismiss("Cross click")}),C.TgZ(8,"span",71),C.TgZ(9,"i",72),C._uU(10,"close"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(11,"div",73),C.TgZ(12,"div",5),C.TgZ(13,"div",74),C.TgZ(14,"h5"),C._uU(15),C.qZA(),C.qZA(),C.qZA(),C.YNc(16,Le,18,8,"div",32),C.TgZ(17,"div",75),C.TgZ(18,"div",76),C.TgZ(19,"button",77),C.NdJ("click",function(){return C.CHM(t),C.oxw().setLicensePrice()}),C._uU(20),C.ALo(21,"translate"),C.qZA(),C.TgZ(22,"button",78),C.NdJ("click",function(){return C.CHM(t).$implicit.close()}),C._uU(23),C.ALo(24,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA()}if(2&e){var i=C.oxw();C.xp6(5),C.hij(" ",C.lcZ(6,5,"PACKAGE.LIST.LICENSE-PRICE-TITLE"),""),C.xp6(10),C.hij("Final Package Price : ",i.finalPackageValue,""),C.xp6(1),C.Q6J("ngForOf",i.license_selected),C.xp6(4),C.Oqu(C.lcZ(21,7,"BUTTON.CONFIRM-BTN")),C.xp6(3),C.Oqu(C.lcZ(24,9,"BUTTON.CANCEL-BTN"))}}var be=["autocompleteTrigger"],Ce=["licenceInput"];function xe(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"mat-chip",55),C.NdJ("removed",function(){var e=C.CHM(t).$implicit;return C.oxw().remove(e)}),C._uU(1),C.qZA()}if(2&e){var i=a.$implicit,s=C.oxw();C.Q6J("selectable",s.selectable)("removable",s.removable),C.xp6(1),C.hij(" ",i," ")}}function Se(e,a){if(1&e&&(C.TgZ(0,"mat-option",56),C._UZ(1,"mat-checkbox",57),C._uU(2),C.qZA()),2&e){var t=a.$implicit,i=C.oxw();C.Q6J("value",t.license_class),C.xp6(1),C.Q6J("checked",i.license_display.indexOf(t.license_class)>=0),C.xp6(1),C.hij(" ",t.license_class," ")}}function Ie(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.LICENSE-TYPE")," is required "))}function Ne(e,a){if(1&e&&(C.TgZ(0,"mat-option",56),C._uU(1),C.qZA()),2&e){var t=a.$implicit,i=C.oxw();C.Q6J("value",t),C.xp6(1),C.hij(" ",t[i.translateVal]," ")}}function we(e,a){if(1&e&&(C.TgZ(0,"div"),C._uU(1),C.qZA()),2&e){var t=C.oxw().$implicit;C.xp6(1),C.hij(" ",t.message," ")}}function Fe(e,a){if(1&e&&(C.TgZ(0,"mat-error"),C.YNc(1,we,2,1,"div",26),C.qZA()),2&e){var t=a.$implicit,i=C.oxw();C.xp6(1),C.Q6J("ngIf",i.package_type.hasError(t.type))}}function Ue(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-OFFERS")," is required "))}function Ge(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-ENG")," is required "))}function Je(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-MALAY")," is required "))}function Ke(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PRICE")," is required "))}function Me(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PROMO-DIS")," is required "))}function Oe(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")," is required "))}function Ye(e,a){if(1&e&&(C.TgZ(0,"mat-option",56),C._uU(1),C.qZA()),2&e){var t=a.$implicit,i=C.oxw();C.Q6J("value",t),C.xp6(1),C.hij(" ",t[i.translateVal]," ")}}function Qe(e,a){if(1&e&&(C.TgZ(0,"div"),C._uU(1),C.qZA()),2&e){var t=C.oxw().$implicit;C.xp6(1),C.hij(" ",t.message," ")}}function je(e,a){if(1&e&&(C.TgZ(0,"mat-error"),C.YNc(1,Qe,2,1,"div",26),C.qZA()),2&e){var t=a.$implicit,i=C.oxw();C.xp6(1),C.Q6J("ngIf",i.payment_phase.hasError(t.type))}}function De(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1")," is required "))}function He(e,a){if(1&e&&(C.TgZ(0,"div",37),C.TgZ(1,"mat-form-field",17),C.TgZ(2,"mat-label"),C._uU(3),C.ALo(4,"translate"),C.qZA(),C._UZ(5,"input",58),C.YNc(6,De,3,3,"mat-error",26),C.qZA(),C.qZA()),2&e){var t=C.oxw();C.xp6(3),C.hij("",C.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),C.xp6(3),C.Q6J("ngIf",t.editPackageForm.get("first_phase_amount").hasError("required"))}}function Ve(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2")," is required "))}function Re(e,a){if(1&e&&(C.TgZ(0,"div",37),C.TgZ(1,"mat-form-field",17),C.TgZ(2,"mat-label"),C._uU(3),C.ALo(4,"translate"),C.qZA(),C._UZ(5,"input",59),C.YNc(6,Ve,3,3,"mat-error",26),C.qZA(),C.qZA()),2&e){var t=C.oxw();C.xp6(3),C.hij("",C.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),C.xp6(3),C.Q6J("ngIf",t.editPackageForm.get("second_phase_amount").hasError("required"))}}function Be(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3")," is required "))}function $e(e,a){if(1&e&&(C.TgZ(0,"div",37),C.TgZ(1,"mat-form-field",17),C.TgZ(2,"mat-label"),C._uU(3),C.ALo(4,"translate"),C.qZA(),C._UZ(5,"input",60),C.YNc(6,Be,3,3,"mat-error",26),C.qZA(),C.qZA()),2&e){var t=C.oxw();C.xp6(3),C.hij("",C.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),C.xp6(3),C.Q6J("ngIf",t.editPackageForm.get("third_phase_amount").hasError("required"))}}function We(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"div",37),C.TgZ(1,"button",61),C.NdJ("click",function(){C.CHM(t);var e=C.oxw(),a=C.MAs(155);return e.viewPrice(a)}),C._uU(2),C.ALo(3,"translate"),C.qZA(),C.qZA()}2&e&&(C.xp6(2),C.Oqu(C.lcZ(3,1,"BUTTON.VIEW-PRICE-BTN")))}function ze(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-ENG")," is required "))}function Xe(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-MALAY")," is required "))}function ea(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG")," is required "))}function aa(e,a){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY")," is required "))}function ta(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"mat-form-field",17),C.TgZ(1,"mat-label"),C._uU(2),C.ALo(3,"translate"),C.qZA(),C.TgZ(4,"input",77),C.NdJ("ngModelChange",function(e){return C.CHM(t),C.oxw().$implicit.first_phase_amount=e}),C.qZA(),C.qZA()}if(2&e){var i=C.oxw().$implicit;C.xp6(2),C.hij("",C.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),C.xp6(2),C.Q6J("ngModel",i.first_phase_amount)}}function ia(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"mat-form-field",17),C.TgZ(1,"mat-label"),C._uU(2),C.ALo(3,"translate"),C.qZA(),C.TgZ(4,"input",77),C.NdJ("ngModelChange",function(e){return C.CHM(t),C.oxw().$implicit.second_phase_amount=e}),C.qZA(),C.qZA()}if(2&e){var i=C.oxw().$implicit;C.xp6(2),C.hij("",C.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),C.xp6(2),C.Q6J("ngModel",i.second_phase_amount)}}function sa(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"mat-form-field",17),C.TgZ(1,"mat-label"),C._uU(2),C.ALo(3,"translate"),C.qZA(),C.TgZ(4,"input",77),C.NdJ("ngModelChange",function(e){return C.CHM(t),C.oxw().$implicit.third_phase_amount=e}),C.qZA(),C.qZA()}if(2&e){var i=C.oxw().$implicit;C.xp6(2),C.hij("",C.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),C.xp6(2),C.Q6J("ngModel",i.third_phase_amount)}}function ra(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"div"),C.TgZ(1,"div",76),C.TgZ(2,"div",71),C.TgZ(3,"h5"),C._uU(4),C.qZA(),C.qZA(),C.qZA(),C.TgZ(5,"div",5),C.TgZ(6,"div",37),C.TgZ(7,"mat-form-field",17),C.TgZ(8,"mat-label"),C._uU(9),C.ALo(10,"translate"),C.qZA(),C.TgZ(11,"input",77),C.NdJ("ngModelChange",function(e){return C.CHM(t).$implicit.license_price=e}),C.qZA(),C.qZA(),C.qZA(),C.TgZ(12,"div",37),C.YNc(13,ta,5,4,"mat-form-field",78),C.qZA(),C.TgZ(14,"div",37),C.YNc(15,ia,5,4,"mat-form-field",78),C.qZA(),C.TgZ(16,"div",37),C.YNc(17,sa,5,4,"mat-form-field",78),C.qZA(),C.qZA(),C.qZA()}if(2&e){var i=a.$implicit,s=C.oxw(2);C.xp6(4),C.hij("License Class : ",i.license_class,""),C.xp6(5),C.hij("",C.lcZ(10,6,"PACKAGE.LIST.LICENSE-PRICE"),"*"),C.xp6(2),C.Q6J("ngModel",i.license_price),C.xp6(2),C.Q6J("ngIf",s.showLi2Phase),C.xp6(2),C.Q6J("ngIf",s.showLi2Phase),C.xp6(2),C.Q6J("ngIf",s.showLi3Phase)}}function na(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"div",62),C.TgZ(1,"h4",63),C.TgZ(2,"div",64),C.TgZ(3,"div",65),C.TgZ(4,"div",66),C._uU(5),C.ALo(6,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(7,"button",67),C.NdJ("click",function(){return C.CHM(t).$implicit.dismiss("Cross click")}),C.TgZ(8,"span",68),C.TgZ(9,"i",69),C._uU(10,"close"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(11,"div",70),C.TgZ(12,"div",5),C.TgZ(13,"div",71),C.TgZ(14,"h5"),C._uU(15),C.qZA(),C.qZA(),C.qZA(),C.YNc(16,ra,18,8,"div",30),C.TgZ(17,"div",72),C.TgZ(18,"div",73),C.TgZ(19,"button",74),C.NdJ("click",function(){return C.CHM(t),C.oxw().setLicensePrice()}),C._uU(20),C.ALo(21,"translate"),C.qZA(),C.TgZ(22,"button",75),C.NdJ("click",function(){return C.CHM(t).$implicit.close()}),C._uU(23),C.ALo(24,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA()}if(2&e){var i=C.oxw();C.xp6(5),C.hij(" ",C.lcZ(6,5,"PACKAGE.LIST.LICENSE-PRICE-TITLE"),""),C.xp6(10),C.hij("Final Package Price : ",i.finalPackageValue,""),C.xp6(1),C.Q6J("ngForOf",i.license_selected),C.xp6(4),C.Oqu(C.lcZ(21,7,"BUTTON.CONFIRM-BTN")),C.xp6(3),C.Oqu(C.lcZ(24,9,"BUTTON.CANCEL-BTN"))}}var oa,la,ca,ua=[{path:"package-list",component:O},{path:"add-package",component:(la=function(){function a(e,i,s,r,n,l,c,u){t(this,a),this.cdRef=e,this.fb=i,this.languageService=s,this.toastrService=r,this.packageService=n,this.router=l,this.spinner=c,this.modalService=u,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[Y.K5,Y.OC],this.license_selected=[],this.license_display=[],this.show2Phase=!1,this.show3Phase=!1,this.showLi2Phase=!1,this.showLi3Phase=!1,this.translateVal="ml"==localStorage.lang?"malay":"english",this.license_type=new o.NI("",{validators:[function(e){return"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null},o.kI.required]}),this.package_type=new o.NI("",{validators:[function(e){return"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null},o.kI.required]}),this.payment_phase=new o.NI("",{validators:[function(e){return"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null},o.kI.required]}),this.license_price=new o.NI("",{validators:[o.kI.required]}),this.Editor=j,this.validation_msgs={license_type:[{type:"invalidAutocompleteObject",message:"License Type not recognized. Click one of the options."},{type:"required",message:"License Type is required."}],package_type:[{type:"invalidAutocompleteObject",message:"Package Type not recognized. Click one of the options."},{type:"required",message:"Package Type is required."}],payment_phase:[{type:"invalidAutocompleteObject",message:"Payment Phase not recognized. Click one of the options."},{type:"required",message:"Payment Phase is required."}]}}return s(a,[{key:"ngOnInit",value:function(){var e=this;this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases(),this.addPackageForm=this.fb.group({package_price:["",o.kI.required],package_offers:["",o.kI.required],package_english:["",o.kI.required],package_malay:["",o.kI.required],promo_discount:["",o.kI.required],package_desc_english:["",o.kI.required],package_desc_malay:["",o.kI.required],final_package_price:["",o.kI.required],first_phase_amount:[""],second_phase_amount:[""],third_phase_amount:[""],package_phase_desc_english:["",o.kI.required],package_phase_desc_malay:["",o.kI.required],package_image:[""],package_image_name:[""],global_view:[""]}),this.languageService.languageChanged.subscribe(function(a){e.translateVal="ml"==localStorage.lang?"malay":"english",e.getPackageTypeList(),e.getLicenseClassList(),e.getPaymentPhases()})}},{key:"getPackageTypeList",value:function(){var e=this;this.packageService.getPakageTypeList().subscribe(function(a){e.packageTypeData=a.data,e.packageTypeList=e.package_type.valueChanges.pipe((0,Q.O)(""),(0,S.U)(function(a){return"string"==typeof a?a:a[e.translateVal]}),(0,S.U)(function(a){return a?e._filterPackageType(a):e.packageTypeData.slice()}))})}},{key:"getLicenseClassList",value:function(){var e=this;this.packageService.getLicenseClassList().subscribe(function(a){e.licenseTypeData=a.data,console.log("this.this.license_type=========",e.license_type),e.licenseTypeList=e.license_type.valueChanges.pipe((0,Q.O)(""),(0,S.U)(function(a){return a?e._filterLicenseType(a):e.licenseTypeData.slice()}))})}},{key:"getPaymentPhases",value:function(){var e=this;this.packageService.getPaymentPhases().subscribe(function(a){console.log("res['data']===0",a.data),e.paymentPhaseData=a.data,e.paymentPhaseList=e.payment_phase.valueChanges.pipe((0,Q.O)(""),(0,S.U)(function(a){return"string"==typeof a?a:a[e.translateVal]}),(0,S.U)(function(a){return a?e._filterpaymentPhase(a):e.paymentPhaseData.slice()}))})}},{key:"displayFn",value:function(e){return e&&e.license_class?e.license_class:""}},{key:"displayFnPackageType",value:function(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}},{key:"displayFnPaymentPhase",value:function(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}},{key:"_filterLicenseType",value:function(e){console.log("name=====",e);var a=e.toLowerCase();return this.licenseTypeData.filter(function(e){return e.license_class.toLowerCase().includes(a)})}},{key:"_filterPackageType",value:function(e){var a=this,t=e.toLowerCase();return this.packageTypeData.filter(function(e){return e[a.translateVal].toLowerCase().includes(t)})}},{key:"_filterpaymentPhase",value:function(e){var a=this,t=e.toLowerCase();return this.paymentPhaseData.filter(function(e){return e[a.translateVal].toLowerCase().includes(t)})}},{key:"add",value:function(e){alert("hii");var a=e.input,t=e.value;console.log("------------",t),(t||"").trim()&&this.license_selected.push(t),a&&(a.value=""),this.license_type.setValue(null)}},{key:"remove",value:function(e){console.log("license====",e);var a=this.license_display.indexOf(e);if(a>=0&&this.license_display.splice(a,1),this.license_selected=this.license_selected.filter(function(a){return a.license_class!=e}),console.log("license_selected====",this.license_selected),this.payment_phase.patchValue(""),this.addPackageForm.patchValue({first_phase_amount:0,second_phase_amount:0,third_phase_amount:0}),this.show2Phase=!1,this.show3Phase=!1,this.license_selected.length>1){var t=this.packageTypeData.filter(function(e){return 1==e.id});this.package_type.setValue(t[0])}else t=this.packageTypeData.filter(function(e){return 2==e.id}),this.package_type.setValue(t[0])}},{key:"selectedListType",value:function(a){var t=this,i=a.option.value.license_class;if(console.log("newValue=======",a.option,this.license_selected.length),this.license_display.includes(i)?(this.license_display=e(this.license_display.filter(function(e){return e!==i})),this.license_selected=e(this.license_selected.filter(function(e){return e.id!==a.option.value.id}))):this.license_selected.length<=1?(this.license_display.push(i),this.license_selected.push({id:a.option.value.id,license_class:a.option.value.license_class,license_price:0,first_phase:0,second_phase:0,third_phase:0})):this.toastrService.warning("Only two is Allowed!!"),this.payment_phase.patchValue(""),this.addPackageForm.patchValue({first_phase_amount:0,second_phase_amount:0,third_phase_amount:0}),this.show2Phase=!1,this.show3Phase=!1,this.licenceInput.nativeElement.value="",this.license_type.setValue(null),this.license_selected.length>1){var s=this.packageTypeData.filter(function(e){return 1==e.id});this.package_type.setValue(s[0])}else s=this.packageTypeData.filter(function(e){return 2==e.id}),this.package_type.setValue(s[0]);requestAnimationFrame(function(){t.openAuto(t.matACTrigger)}),console.log("---final----",this.license_selected)}},{key:"setLicensePrice",value:function(){for(var e=0,a=0,t=0;t<this.license_selected.length;t++){var i=0;e+=Number(this.license_selected[t].license_price),i+=Number(Number(this.license_selected[t].first_phase)+Number(this.license_selected[t].second_phase)+Number(this.license_selected[t].third_phase)),console.log("subPhaseAmt------",this.license_selected[t].license_price,i),this.license_selected[t].license_price!=i&&a++}console.log("TotalLicensePrice---",e,this.finalPackageValue),e==this.finalPackageValue?this.payment_phase.value.id>1&&a>0?this.toastrService.warning("Please check the sum of Phase amount equals the license price!!"):this.modalService.dismissAll():this.toastrService.warning("Sum of license price does not equals Final package price!!!!"),console.log("this.license_selected----",this.license_selected)}},{key:"selectedPaymentPhase",value:function(e){""!=this.addPackageForm.value.final_package_price?(this.finalPackageValue=this.addPackageForm.value.final_package_price,1==this.package_type.value.id?(this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"lg"}),2==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!1):3==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!0):(this.showLi2Phase=!1,this.showLi3Phase=!1)):2==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!1):3==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!0):(this.show2Phase=!1,this.show3Phase=!1)):(this.toastrService.warning("Please fill the Final package price!!"),this.payment_phase.patchValue(""))}},{key:"openAuto",value:function(e){e.openPanel(),this.licenceInput.nativeElement.focus(),console.log(e)}},{key:"setPackageDetails",value:function(){var e=this;if(console.log("this.addPackageForm.value====",this.addPackageForm.value,this.package_type,this.license_selected),2==this.package_type.value.id)if(2==this.payment_phase.value.id)if(""!=this.addPackageForm.value.first_phase_amount&&""!=this.addPackageForm.value.second_phase_amount){var a=Number(this.addPackageForm.value.first_phase_amount)+Number(this.addPackageForm.value.second_phase_amount);Number(this.addPackageForm.value.final_package_price)==a?(this.spinner.show(),this.packageService.setPackageDetails(this.addPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(function(a){e.spinner.hide(),"Success"==a.status?(e.toastrService.success("Registered Successfully!!"),e.addPackageForm.reset(),e.router.navigate(["/admin/package/package-list"])):"Session Expired"==a.status?(e.toastrService.error("Session Expired!!!"),e.router.navigate(["/authentication/signin"])):e.toastrService.error(a.status)})):this.toastrService.error("Sum Of Phase amount does not equal Final Package price!!")}else this.toastrService.error("Please provide Phase Amounts");else if(3==this.payment_phase.value.id)if(""!=this.addPackageForm.value.first_phase_amount&&""!=this.addPackageForm.value.second_phase_amount&&""!=this.addPackageForm.value.third_phase_amount){var t=Number(this.addPackageForm.value.first_phase_amount)+Number(this.addPackageForm.value.second_phase_amount)+Number(this.addPackageForm.value.third_phase_amount);Number(this.addPackageForm.value.final_package_price)==t?(this.spinner.show(),this.packageService.setPackageDetails(this.addPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(function(a){e.spinner.hide(),"Success"==a.status?(e.toastrService.success("Registered Successfully!!"),e.addPackageForm.reset(),e.router.navigate(["/admin/package/package-list"])):"Session Expired"==a.status?(e.toastrService.error("Session Expired!!!"),e.router.navigate(["/authentication/signin"])):e.toastrService.error(a.status)})):this.toastrService.error("Sum Of Phase amount does not equal Final Package price!!")}else this.toastrService.error("Please provide Phase Amounts");else this.spinner.show(),this.packageService.setPackageDetails(this.addPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(function(a){e.spinner.hide(),"Success"==a.status?(e.toastrService.success("Registered Successfully!!"),e.addPackageForm.reset(),e.router.navigate(["/admin/package/package-list"])):"Session Expired"==a.status?(e.toastrService.error("Session Expired!!!"),e.router.navigate(["/authentication/signin"])):e.toastrService.error(a.status)});if(1==this.package_type.value.id){for(var i=0,s=0,r=0;r<this.license_selected.length;r++){var n=0;i+=Number(this.license_selected[r].license_price),n+=Number(Number(this.license_selected[r].first_phase)+Number(this.license_selected[r].second_phase)+Number(this.license_selected[r].third_phase)),console.log("subPhaseAmt------",this.license_selected[r].license_price,n),this.license_selected[r].license_price!=n&&s++}console.log("TotalLicensePrice---",i,this.finalPackageValue),i==this.finalPackageValue?this.payment_phase.value.id>1&&s>0?this.toastrService.warning("Please check the sum of Phase amount equals the license price!!"):(this.spinner.show(),this.packageService.setPackageDetails(this.addPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(function(a){e.spinner.hide(),"Success"==a.status?(e.toastrService.success("Registered Successfully!!"),e.addPackageForm.reset(),e.router.navigate(["/admin/package/package-list"])):"Session Expired"==a.status?(e.toastrService.error("Session Expired!!!"),e.router.navigate(["/authentication/signin"])):e.toastrService.error(a.status)})):this.toastrService.warning("Sum of license price does not equals Final package price!!!!")}}},{key:"goBack",value:function(){this.router.navigate(["/admin/package/package-list"])}},{key:"changeFinalPackagePrice",value:function(){var e=Number(Number(this.addPackageForm.value.package_price*this.addPackageForm.value.promo_discount)/100).toFixed(),a=Number(this.addPackageForm.value.package_price)-Number(e);this.addPackageForm.patchValue({final_package_price:a}),console.log(this.addPackageForm.value)}}]),a}(),la.\u0275fac=function(e){return new(e||la)(C.Y36(C.sBO),C.Y36(o.qu),C.Y36(U.T),C.Y36(F._W),C.Y36(N),C.Y36(E.F0),C.Y36(G.t2),C.Y36(w.FF))},la.\u0275cmp=C.Xpm({type:la,selectors:[["app-add-package"]],viewQuery:function(e,a){var t;1&e&&(C.Gf(B,5),C.Gf($,5)),2&e&&(C.iGM(t=C.CRH())&&(a.matACTrigger=t.first),C.iGM(t=C.CRH())&&(a.licenceInput=t.first))},decls:158,vars:102,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-4"],["appearance","outline",1,"example-full-width","mb-3"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","text","matInput","",3,"matChipInputFor","matChipInputSeparatorKeyCodes","formControl","matAutocomplete","matChipInputTokenEnd"],["licenceInput","","autocompleteTrigger","matAutocompleteTrigger"],["autoActiveFirstOption","",3,"optionSelected"],["autoLicense","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix","",2,"width","34px","height","34px",3,"click"],[2,"width","34px"],[4,"ngIf"],["type","text","matInput","","readonly","",3,"formControl","matAutocomplete"],["readonly","",3,"displayWith"],["autoPackage","matAutocomplete"],[4,"ngFor","ngForOf"],["formControlName","package_offers","required",""],["value","Affordable"],["value","Premium"],[1,"col-6"],["matInput","","formControlName","package_english"],["matInput","","formControlName","package_malay"],[1,"col-3"],["matInput","","formControlName","package_price","type","tel","pattern","[0-9]*",3,"blur"],["matInput","","formControlName","promo_discount",3,"blur"],["matInput","","type","tel","pattern","[0-9]*","formControlName","final_package_price"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["autoPaymentPhase","matAutocomplete"],["class","col-3",4,"ngIf"],["formControlName","global_view",1,"example-margin"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","package_desc_english",3,"editor"],["formControlName","package_desc_malay",3,"editor"],["formControlName","package_phase_desc_english",3,"editor"],["formControlName","package_phase_desc_malay",3,"editor"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"],["LicensePrice",""],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],["color","primary",2,"padding","0 12px",3,"checked"],["matInput","","type","tel","pattern","[0-9]*","formControlName","first_phase_amount"],["matInput","","type","tel","pattern","[0-9]*","formControlName","second_phase_amount"],["matInput","","type","tel","pattern","[0-9]*","formControlName","third_phase_amount"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"col-12"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-button","","type","button",3,"click"],[1,"row",2,"text-align","center"],["matInput","","type","tel","pattern","[0-9]*",3,"ngModel","ngModelChange"],["class","example-full-width mb-3","appearance","outline",4,"ngIf"]],template:function(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"ngx-spinner",0),C.TgZ(1,"p",1),C._uU(2,"Loading..."),C.qZA(),C.qZA(),C.TgZ(3,"section",2),C.TgZ(4,"div",3),C.TgZ(5,"div",4),C.TgZ(6,"div",5),C.TgZ(7,"div",6),C.TgZ(8,"ul",7),C.TgZ(9,"li",8),C.TgZ(10,"h4",9),C._uU(11),C.ALo(12,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(13,"div",10),C.TgZ(14,"div",11),C.TgZ(15,"div",12),C.TgZ(16,"div",13),C.TgZ(17,"h2"),C._uU(18),C.ALo(19,"translate"),C.qZA(),C.qZA(),C.TgZ(20,"div",14),C.TgZ(21,"form",15),C.TgZ(22,"div",5),C.TgZ(23,"div",16),C.TgZ(24,"mat-form-field",17),C.TgZ(25,"mat-chip-list",18,19),C.YNc(27,z,3,4,"mat-chip",20),C.TgZ(28,"mat-label"),C._uU(29),C.ALo(30,"translate"),C.qZA(),C.TgZ(31,"input",21,22),C.NdJ("matChipInputTokenEnd",function(e){return a.add(e)}),C.qZA(),C.qZA(),C.TgZ(34,"mat-autocomplete",23,24),C.NdJ("optionSelected",function(e){return a.selectedListType(e)}),C.YNc(36,X,3,3,"mat-option",25),C.ALo(37,"async"),C.qZA(),C.TgZ(38,"button",26),C.NdJ("click",function(){C.CHM(t);var e=C.MAs(33);return a.openAuto(e)}),C.TgZ(39,"mat-icon",27),C._uU(40,"expand_more"),C.qZA(),C.qZA(),C.YNc(41,ee,3,3,"mat-error",28),C.qZA(),C.qZA(),C.TgZ(42,"div",16),C.TgZ(43,"mat-form-field",17),C.TgZ(44,"mat-label"),C._uU(45),C.ALo(46,"translate"),C.qZA(),C._UZ(47,"input",29),C.TgZ(48,"mat-autocomplete",30,31),C.YNc(50,ae,2,2,"mat-option",25),C.ALo(51,"async"),C.qZA(),C.YNc(52,ie,2,1,"mat-error",32),C.qZA(),C.qZA(),C.TgZ(53,"div",16),C.TgZ(54,"mat-form-field",17),C.TgZ(55,"mat-label"),C._uU(56),C.ALo(57,"translate"),C.qZA(),C.TgZ(58,"mat-select",33),C.TgZ(59,"mat-option",34),C._uU(60),C.ALo(61,"translate"),C.qZA(),C.TgZ(62,"mat-option",35),C._uU(63),C.ALo(64,"translate"),C.qZA(),C.qZA(),C.YNc(65,se,3,3,"mat-error",28),C.qZA(),C.qZA(),C.qZA(),C.TgZ(66,"div",5),C.TgZ(67,"div",36),C.TgZ(68,"mat-form-field",17),C.TgZ(69,"mat-label"),C._uU(70),C.ALo(71,"translate"),C.qZA(),C._UZ(72,"input",37),C.YNc(73,re,3,3,"mat-error",28),C.qZA(),C.qZA(),C.TgZ(74,"div",36),C.TgZ(75,"mat-form-field",17),C.TgZ(76,"mat-label"),C._uU(77),C.ALo(78,"translate"),C.qZA(),C._UZ(79,"input",38),C.YNc(80,ne,3,3,"mat-error",28),C.qZA(),C.qZA(),C.qZA(),C.TgZ(81,"div",5),C.TgZ(82,"div",39),C.TgZ(83,"mat-form-field",17),C.TgZ(84,"mat-label"),C._uU(85),C.ALo(86,"translate"),C.qZA(),C.TgZ(87,"input",40),C.NdJ("blur",function(){return a.changeFinalPackagePrice()}),C.qZA(),C.YNc(88,oe,3,3,"mat-error",28),C.qZA(),C.qZA(),C.TgZ(89,"div",39),C.TgZ(90,"mat-form-field",17),C.TgZ(91,"mat-label"),C._uU(92),C.ALo(93,"translate"),C.qZA(),C.TgZ(94,"input",41),C.NdJ("blur",function(){return a.changeFinalPackagePrice()}),C.qZA(),C.YNc(95,le,3,3,"mat-error",28),C.qZA(),C.qZA(),C.TgZ(96,"div",39),C.TgZ(97,"mat-form-field",17),C.TgZ(98,"mat-label"),C._uU(99),C.ALo(100,"translate"),C.qZA(),C._UZ(101,"input",42),C.YNc(102,ce,3,3,"mat-error",28),C.qZA(),C.qZA(),C.TgZ(103,"div",39),C.TgZ(104,"mat-form-field",17),C.TgZ(105,"mat-label"),C._uU(106),C.ALo(107,"translate"),C.qZA(),C._UZ(108,"input",43),C.TgZ(109,"mat-autocomplete",44,45),C.NdJ("optionSelected",function(){C.CHM(t);var e=C.MAs(157);return a.selectedPaymentPhase(e)}),C.YNc(111,ue,2,2,"mat-option",25),C.ALo(112,"async"),C.qZA(),C.YNc(113,ge,2,1,"mat-error",32),C.qZA(),C.qZA(),C.qZA(),C.TgZ(114,"div",5),C.YNc(115,he,7,4,"div",46),C.YNc(116,Ae,7,4,"div",46),C.YNc(117,fe,7,4,"div",46),C.TgZ(118,"div",39),C.TgZ(119,"mat-checkbox",47),C._uU(120),C.ALo(121,"translate"),C.qZA(),C.qZA(),C.qZA(),C.TgZ(122,"div",5),C.TgZ(123,"div",48),C.TgZ(124,"mat-label"),C._uU(125),C.ALo(126,"translate"),C.qZA(),C._UZ(127,"ckeditor",49),C.YNc(128,_e,3,3,"mat-error",28),C.qZA(),C.TgZ(129,"div",48),C.TgZ(130,"mat-label"),C._uU(131),C.ALo(132,"translate"),C.qZA(),C._UZ(133,"ckeditor",50),C.YNc(134,ve,3,3,"mat-error",28),C.qZA(),C.qZA(),C.TgZ(135,"div",5),C.TgZ(136,"div",48),C.TgZ(137,"mat-label"),C._uU(138),C.ALo(139,"translate"),C.qZA(),C._UZ(140,"ckeditor",51),C.YNc(141,Te,3,3,"mat-error",28),C.qZA(),C.TgZ(142,"div",48),C.TgZ(143,"mat-label"),C._uU(144),C.ALo(145,"translate"),C.qZA(),C._UZ(146,"ckeditor",52),C.YNc(147,Pe,3,3,"mat-error",28),C.qZA(),C.qZA(),C.TgZ(148,"div",5),C.TgZ(149,"div",53),C.TgZ(150,"button",54),C.NdJ("click",function(){return a.setPackageDetails()}),C._uU(151),C.ALo(152,"translate"),C.qZA(),C.TgZ(153,"button",55),C.NdJ("click",function(){return a.goBack()}),C._uU(154),C.ALo(155,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.YNc(156,Ee,25,11,"ng-template",null,56,C.W1O)}if(2&e){var i=C.MAs(26),s=C.MAs(35),r=C.MAs(49),n=C.MAs(110);C.xp6(11),C.Oqu(C.lcZ(12,56,"PACKAGE.TITLE")),C.xp6(7),C.Oqu(C.lcZ(19,58,"PACKAGE.TITLE")),C.xp6(3),C.Q6J("formGroup",a.addPackageForm),C.xp6(6),C.Q6J("ngForOf",a.license_display),C.xp6(2),C.hij("",C.lcZ(30,60,"PACKAGE.LIST.LICENSE-TYPE"),"*"),C.xp6(2),C.Q6J("matChipInputFor",i)("matChipInputSeparatorKeyCodes",a.separatorKeysCodes)("formControl",a.license_type)("matAutocomplete",s),C.xp6(5),C.Q6J("ngForOf",C.lcZ(37,62,a.licenseTypeList)),C.xp6(5),C.Q6J("ngIf",0==a.license_selected.length),C.xp6(4),C.hij("",C.lcZ(46,64,"PACKAGE.LIST.PACKAGE-TYPE"),"*"),C.xp6(2),C.Q6J("formControl",a.package_type)("matAutocomplete",r),C.xp6(1),C.Q6J("displayWith",a.displayFnPackageType),C.xp6(2),C.Q6J("ngForOf",C.lcZ(51,66,a.packageTypeList)),C.xp6(2),C.Q6J("ngForOf",a.validation_msgs.package_type),C.xp6(4),C.Oqu(C.lcZ(57,68,"PACKAGE.LIST.PACKAGE-OFFERS")),C.xp6(4),C.Oqu(C.lcZ(61,70,"PACKAGE.LIST.AFFORDABLE")),C.xp6(3),C.Oqu(C.lcZ(64,72,"PACKAGE.LIST.PREMIUM")),C.xp6(2),C.Q6J("ngIf",a.addPackageForm.get("package_offers").hasError("required")),C.xp6(5),C.hij("",C.lcZ(71,74,"PACKAGE.LIST.PACKAGE-ENG"),"*"),C.xp6(3),C.Q6J("ngIf",a.addPackageForm.get("package_english").hasError("required")),C.xp6(4),C.hij("",C.lcZ(78,76,"PACKAGE.LIST.PACKAGE-MALAY"),"*"),C.xp6(3),C.Q6J("ngIf",a.addPackageForm.get("package_malay").hasError("required")),C.xp6(5),C.hij("",C.lcZ(86,78,"PACKAGE.LIST.PACKAGE-PRICE"),"*"),C.xp6(3),C.Q6J("ngIf",a.addPackageForm.get("package_price").hasError("required")),C.xp6(4),C.hij("",C.lcZ(93,80,"PACKAGE.LIST.PROMO-DIS"),"*"),C.xp6(3),C.Q6J("ngIf",a.addPackageForm.get("promo_discount").hasError("required")),C.xp6(4),C.hij("",C.lcZ(100,82,"PACKAGE.LIST.FIANL-PACKAGE-PRICE"),"*"),C.xp6(3),C.Q6J("ngIf",a.addPackageForm.get("final_package_price").hasError("required")),C.xp6(4),C.hij("",C.lcZ(107,84,"PACKAGE.LIST.PAYMENT-PHASE"),"*"),C.xp6(2),C.Q6J("formControl",a.payment_phase)("matAutocomplete",n),C.xp6(1),C.Q6J("displayWith",a.displayFnPaymentPhase),C.xp6(2),C.Q6J("ngForOf",C.lcZ(112,86,a.paymentPhaseList)),C.xp6(2),C.Q6J("ngForOf",a.validation_msgs.payment_phase),C.xp6(2),C.Q6J("ngIf",a.show2Phase),C.xp6(1),C.Q6J("ngIf",a.show2Phase),C.xp6(1),C.Q6J("ngIf",a.show3Phase),C.xp6(3),C.Oqu(C.lcZ(121,88,"PACKAGE.LIST.GLOBAL-VIEW")),C.xp6(5),C.hij("",C.lcZ(126,90,"PACKAGE.LIST.PACKAGE-DESC-ENG"),"*"),C.xp6(2),C.Q6J("editor",a.Editor),C.xp6(1),C.Q6J("ngIf",a.addPackageForm.get("package_desc_english").hasError("required")),C.xp6(3),C.hij("",C.lcZ(132,92,"PACKAGE.LIST.PACKAGE-DESC-MALAY"),"*"),C.xp6(2),C.Q6J("editor",a.Editor),C.xp6(1),C.Q6J("ngIf",a.addPackageForm.get("package_desc_malay").hasError("required")),C.xp6(4),C.hij("",C.lcZ(139,94,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG"),"*"),C.xp6(2),C.Q6J("editor",a.Editor),C.xp6(1),C.Q6J("ngIf",a.addPackageForm.get("package_phase_desc_english").hasError("required")),C.xp6(3),C.hij("",C.lcZ(145,96,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY"),"*"),C.xp6(2),C.Q6J("editor",a.Editor),C.xp6(1),C.Q6J("ngIf",a.addPackageForm.get("package_phase_desc_malay").hasError("required")),C.xp6(3),C.Q6J("disabled",!a.addPackageForm.valid||0==a.license_selected.length),C.xp6(1),C.hij(" ",C.lcZ(152,98,"BUTTON.ADD-BTN"),""),C.xp6(3),C.Oqu(C.lcZ(155,100,"BUTTON.CANCEL-BTN"))}},directives:[G.Ro,o._Y,o.JL,o.sg,u.KE,D.qn,n.sg,u.hX,p.Nt,D.oH,o.Fj,H.ZL,o.JJ,o.oH,H.XC,d.lW,u.R9,h.Hw,n.O5,m.gD,o.u,o.Q7,V.ey,o.c5,v.oG,R.u,D.HS,D.qH,u.TO,o.On],pipes:[J.X$,n.Ov],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),la)},{path:"edit-package/:id",component:(oa=function(){function a(e,i,s,r,n,l,c,u,p){t(this,a),this.cdRef=e,this.fb=i,this.languageService=s,this.toastrService=r,this.router=n,this.route=l,this.packageService=c,this.spinner=u,this.modalService=p,this.Editor=j,this.selectable=!1,this.removable=!1,this.separatorKeysCodes=[Y.K5,Y.OC],this.license_selected=[],this.show2Phase=!1,this.show3Phase=!1,this.apiURL=I.N.apiUrl,this.translateVal="ml"==localStorage.lang?"malay":"english",this.license_type=new o.NI("",{validators:[function(e){return"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null}]}),this.package_type=new o.NI("",{validators:[function(e){return"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null},o.kI.required]}),this.payment_phase=new o.NI("",{validators:[function(e){return"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null},o.kI.required]}),this.viewLicensePrice=!1,this.showLi2Phase=!1,this.showLi3Phase=!1,this.validation_msgs={license_type:[{type:"invalidAutocompleteObject",message:"License Type not recognized. Click one of the options."},{type:"required",message:"License Type is required."}],package_type:[{type:"invalidAutocompleteObject",message:"Package Type not recognized. Click one of the options."},{type:"required",message:"Package is required."}],payment_phase:[{type:"invalidAutocompleteObject",message:"Payment Phase not recognized. Click one of the options."},{type:"required",message:"Payment Phase is required."}]},this.packageId=this.route.snapshot.paramMap.get("id"),this.editPackageForm=this.fb.group({id:[""],package_offers:["",o.kI.required],package_price:["",o.kI.required],prev_package_english:["",o.kI.required],prev_package_malay:["",o.kI.required],package_english:["",o.kI.required],package_malay:["",o.kI.required],promo_discount:["",o.kI.required],package_desc_english:["",o.kI.required],package_desc_malay:["",o.kI.required],final_package_price:["",o.kI.required],first_phase_amount:[""],second_phase_amount:[""],third_phase_amount:[""],package_phase_desc_english:["",o.kI.required],package_phase_desc_malay:["",o.kI.required],package_image:[""],package_image_name:[""],global_view:[""]})}return s(a,[{key:"ngOnInit",value:function(){var e=this;this.spinner.show(),this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases(),this.languageService.languageChanged.subscribe(function(a){e.translateVal="ml"==localStorage.lang?"malay":"english",e.getPackageTypeList(),e.getLicenseClassList(),e.getPaymentPhases()}),this.packageService.getPackageToEdit(this.packageId).subscribe(function(a){if(e.spinner.hide(),a.data.length>0){var t=a.data[0];console.log("resObj--------",t),e.editPackageForm.patchValue({id:t.id,package_price:t.package_price,prev_package_english:t.package_english,prev_package_malay:t.package_malay,package_english:t.package_english,package_malay:t.package_malay,promo_discount:t.promo_discount,package_desc_english:t.package_desc_english,package_desc_malay:t.package_desc_malay,package_offers:t.package_offers,final_package_price:t.final_package_price,package_phase_desc_english:t.package_phase_desc_english,package_phase_desc_malay:t.package_phase_desc_malay,global_view:1==t.global_view});var i=e.packageTypeData.filter(function(e){return e.id==t.package_type_id}),s=e.paymentPhaseData.filter(function(e){return e.id==t.payment_phase});if(e.license_selected=t.license_data,e.license_display=t.license_list,e.package_type.setValue(i[0]),e.payment_phase.setValue(s[0]),2==t.package_type_id){e.viewLicensePrice=!1,2==e.payment_phase.value.id?(e.show2Phase=!0,e.show3Phase=!1):3==e.payment_phase.value.id?(e.show2Phase=!0,e.show3Phase=!0):(e.show2Phase=!1,e.show3Phase=!1);for(var r=0;r<t.license_data.length;r++)e.editPackageForm.patchValue({first_phase_amount:t.license_data[r].first_phase_amount,second_phase_amount:t.license_data[r].second_phase_amount,third_phase_amount:t.license_data[r].third_phase_amount})}else 2==e.payment_phase.value.id?(e.showLi2Phase=!0,e.showLi3Phase=!1):3==e.payment_phase.value.id?(e.showLi2Phase=!0,e.showLi3Phase=!0):(e.showLi2Phase=!1,e.showLi3Phase=!1),e.viewLicensePrice=!0}else e.toastrService.error("No Data Found!!")})}},{key:"getPackageTypeList",value:function(){var e=this;this.packageService.getPakageTypeList().subscribe(function(a){e.packageTypeData=a.data,e.packageTypeList=e.package_type.valueChanges.pipe((0,Q.O)(""),(0,S.U)(function(a){return"string"==typeof a?a:a[e.translateVal]}),(0,S.U)(function(a){return a?e._filterPackageType(a):e.packageTypeData.slice()}))})}},{key:"getPaymentPhases",value:function(){var e=this;this.packageService.getPaymentPhases().subscribe(function(a){console.log("res['data']===0",a.data),e.paymentPhaseData=a.data,e.paymentPhaseList=e.payment_phase.valueChanges.pipe((0,Q.O)(""),(0,S.U)(function(a){return"string"==typeof a?a:a[e.translateVal]}),(0,S.U)(function(a){return a?e._filterpaymentPhase(a):e.paymentPhaseData.slice()}))})}},{key:"getLicenseClassList",value:function(){var e=this;this.packageService.getLicenseClassList().subscribe(function(a){e.licenseTypeData=a.data,console.log("this.this.license_type=========",e.license_type),e.licenseTypeList=e.license_type.valueChanges.pipe((0,Q.O)(""),(0,S.U)(function(a){return a?e._filterLicenseType(a):e.licenseTypeData.slice()}))})}},{key:"viewPrice",value:function(e){this.finalPackageValue=this.editPackageForm.value.final_package_price,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"lg"})}},{key:"setLicensePrice",value:function(){for(var e=0,a=0,t=0;t<this.license_selected.length;t++){var i=0;e+=Number(this.license_selected[t].license_price),i+=Number(Number(this.license_selected[t].first_phase_amount)+Number(this.license_selected[t].second_phase_amount)+Number(this.license_selected[t].third_phase_amount)),console.log("subPhaseAmt------",this.license_selected[t].license_price,i),this.license_selected[t].license_price!=i&&a++}console.log("TotalLicensePrice---",e,this.finalPackageValue),e==this.finalPackageValue?this.payment_phase.value.id>1&&a>0?this.toastrService.warning("Please check the sum of Phase amount equals the license price!!"):this.modalService.dismissAll():this.toastrService.warning("Sum of license price does not equals Final package price!!!!"),console.log("this.license_selected----",this.license_selected)}},{key:"displayFn",value:function(e){return e&&e.license_class?e.license_class:""}},{key:"displayFnPackageType",value:function(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}},{key:"displayFnPaymentPhase",value:function(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}},{key:"_filterLicenseType",value:function(e){console.log("name=====",e);var a=e.toLowerCase();return this.licenseTypeData.filter(function(e){return e.license_class.toLowerCase().includes(a)})}},{key:"_filterPackageType",value:function(e){var a=this,t=e.toLowerCase();return this.packageTypeData.filter(function(e){return e[a.translateVal].toLowerCase().includes(t)})}},{key:"_filterpaymentPhase",value:function(e){var a=this,t=e.toLowerCase();return this.paymentPhaseData.filter(function(e){return e[a.translateVal].toLowerCase().includes(t)})}},{key:"add",value:function(e){var a=e.input,t=e.value;console.log("------------",t),(t||"").trim()&&this.license_selected.push(t),a&&(a.value=""),this.license_type.setValue(null)}},{key:"remove",value:function(e){var a=this.license_selected.indexOf(e);a>=0&&this.license_selected.splice(a,1)}},{key:"selectedListType",value:function(a){var t=this,i=a.option.viewValue;if(console.log("newValue=======",a.option.viewValue),this.license_selected.includes(i)?this.license_selected=e(this.license_selected.filter(function(e){return e!==i})):this.license_selected.push(a.option.viewValue),this.licenceInput.nativeElement.value="",this.license_type.setValue(null),this.license_selected.length>1){var s=this.packageTypeData.filter(function(e){return 1==e.id});this.package_type.setValue(s[0])}else s=this.packageTypeData.filter(function(e){return 2==e.id}),this.package_type.setValue(s[0]);requestAnimationFrame(function(){t.openAuto(t.matACTrigger)})}},{key:"selectedPaymentPhase",value:function(e){""!=this.editPackageForm.value.final_package_price?(this.finalPackageValue=this.editPackageForm.value.final_package_price,1==this.package_type.value.id?(this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"lg"}),2==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!1):3==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!0):(this.showLi2Phase=!1,this.showLi3Phase=!1)):2==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!1):3==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!0):(this.show2Phase=!1,this.show3Phase=!1)):(this.toastrService.warning("Please fill the Final package price!!"),this.payment_phase.patchValue(""))}},{key:"openAuto",value:function(e){e.openPanel(),this.licenceInput.nativeElement.focus(),console.log(e)}},{key:"goBack",value:function(){this.router.navigate(["/admin/package/package-list"])}},{key:"changeFinalPackagePrice",value:function(){var e=Number(Number(this.editPackageForm.value.package_price*this.editPackageForm.value.promo_discount)/100).toFixed(),a=Number(this.editPackageForm.value.package_price)-Number(e);this.editPackageForm.patchValue({final_package_price:a}),console.log(this.editPackageForm.value)}},{key:"updatePackageDetails",value:function(){var e=this;if(this.finalPackageValue=this.editPackageForm.value.final_package_price,2==this.package_type.value.id)if(2==this.payment_phase.value.id)if(""!=this.editPackageForm.value.first_phase_amount&&""!=this.editPackageForm.value.second_phase_amount){var a=Number(this.editPackageForm.value.first_phase_amount)+Number(this.editPackageForm.value.second_phase_amount);Number(this.editPackageForm.value.final_package_price)==a?(this.spinner.show(),this.packageService.updatePackageDetails(this.editPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(function(a){e.spinner.hide(),"Success"==a.status&&(e.toastrService.success("Updated Successfully!!"),e.router.navigate(["/admin/package/package-list"])),"Session Expired"==a.status&&(e.toastrService.error("Session Expired!!!"),e.router.navigate(["/authentication/signin"]))})):this.toastrService.error("Sum Of Phase amount does not equal Final Package price!!")}else this.toastrService.error("Please provide Phase Amounts");else if(3==this.payment_phase.value.id)if(""!=this.editPackageForm.value.first_phase_amount&&""!=this.editPackageForm.value.second_phase_amount&&""!=this.editPackageForm.value.third_phase_amount){var t=Number(this.editPackageForm.value.first_phase_amount)+Number(this.editPackageForm.value.second_phase_amount)+Number(this.editPackageForm.value.third_phase_amount);Number(this.editPackageForm.value.final_package_price)==t?(this.spinner.show(),this.packageService.updatePackageDetails(this.editPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(function(a){e.spinner.hide(),"Success"==a.status&&(e.toastrService.success("Updated Successfully!!"),e.router.navigate(["/admin/package/package-list"])),"Session Expired"==a.status&&(e.toastrService.error("Session Expired!!!"),e.router.navigate(["/authentication/signin"]))})):this.toastrService.error("Sum Of Phase amount does not equal Final Package price!!")}else this.toastrService.error("Please provide Phase Amounts");else this.spinner.show(),this.packageService.updatePackageDetails(this.editPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(function(a){e.spinner.hide(),"Success"==a.status&&(e.toastrService.success("Updated Successfully!!"),e.router.navigate(["/admin/package/package-list"])),"Session Expired"==a.status&&(e.toastrService.error("Session Expired!!!"),e.router.navigate(["/authentication/signin"]))});if(1==this.package_type.value.id){for(var i=0,s=0,r=0;r<this.license_selected.length;r++){var n=0;i+=Number(this.license_selected[r].license_price),n+=Number(Number(this.license_selected[r].first_phase_amount)+Number(this.license_selected[r].second_phase_amount)+Number(this.license_selected[r].third_phase_amount)),console.log("subPhaseAmt------",this.license_selected[r].license_price,n),this.license_selected[r].license_price!=n&&s++}console.log("TotalLicensePrice---",i,this.finalPackageValue),i==this.finalPackageValue?this.payment_phase.value.id>1&&s>0?this.toastrService.warning("Please check the sum of Phase amount equals the license price!!"):(this.spinner.show(),this.packageService.updatePackageDetails(this.editPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(function(a){e.spinner.hide(),"Success"==a.status&&(e.toastrService.success("Updated Successfully!!"),e.router.navigate(["/admin/package/package-list"])),"Session Expired"==a.status&&(e.toastrService.error("Session Expired!!!"),e.router.navigate(["/authentication/signin"]))})):this.toastrService.warning("Sum of license price does not equals Final package price!!!!")}}}]),a}(),oa.\u0275fac=function(e){return new(e||oa)(C.Y36(C.sBO),C.Y36(o.qu),C.Y36(U.T),C.Y36(F._W),C.Y36(E.F0),C.Y36(E.gz),C.Y36(N),C.Y36(G.t2),C.Y36(w.FF))},oa.\u0275cmp=C.Xpm({type:oa,selectors:[["app-edit-package"]],viewQuery:function(e,a){var t;1&e&&(C.Gf(be,5),C.Gf(Ce,5)),2&e&&(C.iGM(t=C.CRH())&&(a.matACTrigger=t.first),C.iGM(t=C.CRH())&&(a.licenceInput=t.first))},decls:156,vars:103,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-4"],["appearance","outline",1,"example-full-width","mb-3"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","text","matInput","","readonly","",3,"matChipInputFor","matChipInputSeparatorKeyCodes","formControl","matAutocomplete","matChipInputTokenEnd"],["licenceInput","","autocompleteTrigger","matAutocompleteTrigger"],["autoActiveFirstOption","","readonly","",3,"optionSelected"],["autoLicense","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","matInput","","readonly","",3,"formControl","matAutocomplete"],["readonly","",3,"displayWith"],["autoPackage","matAutocomplete"],[4,"ngFor","ngForOf"],["formControlName","package_offers","required",""],["value","Affordable"],["value","Premium"],[1,"col-6"],["matInput","","formControlName","package_english","readonly",""],["matInput","","formControlName","package_malay","readonly",""],[1,"col-3"],["matInput","","type","tel","pattern","[0-9]*","formControlName","package_price",3,"blur"],["matInput","","type","tel","pattern","[0-9]*","formControlName","promo_discount",3,"blur"],["matInput","","type","tel","pattern","[0-9]*","formControlName","final_package_price"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["autoPaymentPhase","matAutocomplete"],["class","col-3",4,"ngIf"],["formControlName","global_view",1,"example-margin"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","package_desc_english",3,"editor"],["formControlName","package_desc_malay",3,"editor"],["formControlName","package_phase_desc_english",3,"editor"],["formControlName","package_phase_desc_malay",3,"editor"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"],["LicensePrice",""],[3,"selectable","removable","removed"],[3,"value"],["color","primary",2,"padding","0 12px",3,"checked"],["matInput","","type","tel","pattern","[0-9]*","formControlName","first_phase_amount"],["matInput","","type","tel","pattern","[0-9]*","formControlName","second_phase_amount"],["matInput","","type","tel","pattern","[0-9]*","formControlName","third_phase_amount"],["mat-raised-button","","color","primary",1,"btn-space",3,"click"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"col-12"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-button","","type","button",3,"click"],[1,"row",2,"text-align","center"],["matInput","","type","tel","pattern","[0-9]*",3,"ngModel","ngModelChange"],["class","example-full-width mb-3","appearance","outline",4,"ngIf"]],template:function(e,a){if(1&e){var t=C.EpF();C.TgZ(0,"ngx-spinner",0),C.TgZ(1,"p",1),C._uU(2,"Loading..."),C.qZA(),C.qZA(),C.TgZ(3,"section",2),C.TgZ(4,"div",3),C.TgZ(5,"div",4),C.TgZ(6,"div",5),C.TgZ(7,"div",6),C.TgZ(8,"ul",7),C.TgZ(9,"li",8),C.TgZ(10,"h4",9),C._uU(11),C.ALo(12,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(13,"div",10),C.TgZ(14,"div",11),C.TgZ(15,"div",12),C.TgZ(16,"div",13),C.TgZ(17,"h2"),C._uU(18),C.ALo(19,"translate"),C.qZA(),C.qZA(),C.TgZ(20,"div",14),C.TgZ(21,"form",15),C.TgZ(22,"div",5),C.TgZ(23,"div",16),C.TgZ(24,"mat-form-field",17),C.TgZ(25,"mat-chip-list",18,19),C.YNc(27,xe,2,3,"mat-chip",20),C.TgZ(28,"mat-label"),C._uU(29),C.ALo(30,"translate"),C.qZA(),C.TgZ(31,"input",21,22),C.NdJ("matChipInputTokenEnd",function(e){return a.add(e)}),C.qZA(),C.qZA(),C.TgZ(34,"mat-autocomplete",23,24),C.NdJ("optionSelected",function(e){return a.selectedListType(e)}),C.YNc(36,Se,3,3,"mat-option",25),C.ALo(37,"async"),C.qZA(),C.YNc(38,Ie,3,3,"mat-error",26),C.qZA(),C.qZA(),C.TgZ(39,"div",16),C.TgZ(40,"mat-form-field",17),C.TgZ(41,"mat-label"),C._uU(42),C.ALo(43,"translate"),C.qZA(),C._UZ(44,"input",27),C.TgZ(45,"mat-autocomplete",28,29),C.YNc(47,Ne,2,2,"mat-option",25),C.ALo(48,"async"),C.qZA(),C.YNc(49,Fe,2,1,"mat-error",30),C.qZA(),C.qZA(),C.TgZ(50,"div",16),C.TgZ(51,"mat-form-field",17),C.TgZ(52,"mat-label"),C._uU(53),C.ALo(54,"translate"),C.qZA(),C.TgZ(55,"mat-select",31),C.TgZ(56,"mat-option",32),C._uU(57),C.ALo(58,"translate"),C.qZA(),C.TgZ(59,"mat-option",33),C._uU(60),C.ALo(61,"translate"),C.qZA(),C.qZA(),C.YNc(62,Ue,3,3,"mat-error",26),C.qZA(),C.qZA(),C.qZA(),C.TgZ(63,"div",5),C.TgZ(64,"div",34),C.TgZ(65,"mat-form-field",17),C.TgZ(66,"mat-label"),C._uU(67),C.ALo(68,"translate"),C.qZA(),C._UZ(69,"input",35),C.YNc(70,Ge,3,3,"mat-error",26),C.qZA(),C.qZA(),C.TgZ(71,"div",34),C.TgZ(72,"mat-form-field",17),C.TgZ(73,"mat-label"),C._uU(74),C.ALo(75,"translate"),C.qZA(),C._UZ(76,"input",36),C.YNc(77,Je,3,3,"mat-error",26),C.qZA(),C.qZA(),C.qZA(),C.TgZ(78,"div",5),C.TgZ(79,"div",37),C.TgZ(80,"mat-form-field",17),C.TgZ(81,"mat-label"),C._uU(82),C.ALo(83,"translate"),C.qZA(),C.TgZ(84,"input",38),C.NdJ("blur",function(){return a.changeFinalPackagePrice()}),C.qZA(),C.YNc(85,Ke,3,3,"mat-error",26),C.qZA(),C.qZA(),C.TgZ(86,"div",37),C.TgZ(87,"mat-form-field",17),C.TgZ(88,"mat-label"),C._uU(89),C.ALo(90,"translate"),C.qZA(),C.TgZ(91,"input",39),C.NdJ("blur",function(){return a.changeFinalPackagePrice()}),C.qZA(),C.YNc(92,Me,3,3,"mat-error",26),C.qZA(),C.qZA(),C.TgZ(93,"div",37),C.TgZ(94,"mat-form-field",17),C.TgZ(95,"mat-label"),C._uU(96),C.ALo(97,"translate"),C.qZA(),C._UZ(98,"input",40),C.YNc(99,Oe,3,3,"mat-error",26),C.qZA(),C.qZA(),C.TgZ(100,"div",37),C.TgZ(101,"mat-form-field",17),C.TgZ(102,"mat-label"),C._uU(103),C.ALo(104,"translate"),C.qZA(),C._UZ(105,"input",41),C.TgZ(106,"mat-autocomplete",42,43),C.NdJ("optionSelected",function(){C.CHM(t);var e=C.MAs(155);return a.selectedPaymentPhase(e)}),C.YNc(108,Ye,2,2,"mat-option",25),C.ALo(109,"async"),C.qZA(),C.YNc(110,je,2,1,"mat-error",30),C.qZA(),C.qZA(),C.qZA(),C.TgZ(111,"div",5),C.YNc(112,He,7,4,"div",44),C.YNc(113,Re,7,4,"div",44),C.YNc(114,$e,7,4,"div",44),C.TgZ(115,"div",37),C.TgZ(116,"mat-checkbox",45),C._uU(117),C.ALo(118,"translate"),C.qZA(),C.qZA(),C.YNc(119,We,4,3,"div",44),C.qZA(),C.TgZ(120,"div",5),C.TgZ(121,"div",46),C.TgZ(122,"mat-label"),C._uU(123),C.ALo(124,"translate"),C.qZA(),C._UZ(125,"ckeditor",47),C.YNc(126,ze,3,3,"mat-error",26),C.qZA(),C.TgZ(127,"div",46),C.TgZ(128,"mat-label"),C._uU(129),C.ALo(130,"translate"),C.qZA(),C._UZ(131,"ckeditor",48),C.YNc(132,Xe,3,3,"mat-error",26),C.qZA(),C.qZA(),C.TgZ(133,"div",5),C.TgZ(134,"div",46),C.TgZ(135,"mat-label"),C._uU(136),C.ALo(137,"translate"),C.qZA(),C._UZ(138,"ckeditor",49),C.YNc(139,ea,3,3,"mat-error",26),C.qZA(),C.TgZ(140,"div",46),C.TgZ(141,"mat-label"),C._uU(142),C.ALo(143,"translate"),C.qZA(),C._UZ(144,"ckeditor",50),C.YNc(145,aa,3,3,"mat-error",26),C.qZA(),C.qZA(),C.TgZ(146,"div",5),C.TgZ(147,"div",51),C.TgZ(148,"button",52),C.NdJ("click",function(){return a.updatePackageDetails()}),C._uU(149),C.ALo(150,"translate"),C.qZA(),C.TgZ(151,"button",53),C.NdJ("click",function(){return a.goBack()}),C._uU(152),C.ALo(153,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.YNc(154,na,25,11,"ng-template",null,54,C.W1O)}if(2&e){var i=C.MAs(26),s=C.MAs(35),r=C.MAs(46),n=C.MAs(107);C.xp6(11),C.Oqu(C.lcZ(12,57,"PACKAGE.EDITTITLE")),C.xp6(7),C.Oqu(C.lcZ(19,59,"PACKAGE.EDITTITLE")),C.xp6(3),C.Q6J("formGroup",a.editPackageForm),C.xp6(6),C.Q6J("ngForOf",a.license_display),C.xp6(2),C.hij("",C.lcZ(30,61,"PACKAGE.LIST.LICENSE-TYPE"),"*"),C.xp6(2),C.Q6J("matChipInputFor",i)("matChipInputSeparatorKeyCodes",a.separatorKeysCodes)("formControl",a.license_type)("matAutocomplete",s),C.xp6(5),C.Q6J("ngForOf",C.lcZ(37,63,a.licenseTypeList)),C.xp6(2),C.Q6J("ngIf",0==a.license_selected.length),C.xp6(4),C.hij("",C.lcZ(43,65,"PACKAGE.LIST.PACKAGE-TYPE"),"*"),C.xp6(2),C.Q6J("formControl",a.package_type)("matAutocomplete",r),C.xp6(1),C.Q6J("displayWith",a.displayFnPackageType),C.xp6(2),C.Q6J("ngForOf",C.lcZ(48,67,a.packageTypeList)),C.xp6(2),C.Q6J("ngForOf",a.validation_msgs.package_type),C.xp6(4),C.Oqu(C.lcZ(54,69,"PACKAGE.LIST.PACKAGE-OFFERS")),C.xp6(4),C.Oqu(C.lcZ(58,71,"PACKAGE.LIST.AFFORDABLE")),C.xp6(3),C.Oqu(C.lcZ(61,73,"PACKAGE.LIST.PREMIUM")),C.xp6(2),C.Q6J("ngIf",a.editPackageForm.get("package_offers").hasError("required")),C.xp6(5),C.hij("",C.lcZ(68,75,"PACKAGE.LIST.PACKAGE-ENG"),"*"),C.xp6(3),C.Q6J("ngIf",a.editPackageForm.get("package_english").hasError("required")),C.xp6(4),C.hij("",C.lcZ(75,77,"PACKAGE.LIST.PACKAGE-MALAY"),"*"),C.xp6(3),C.Q6J("ngIf",a.editPackageForm.get("package_malay").hasError("required")),C.xp6(5),C.hij("",C.lcZ(83,79,"PACKAGE.LIST.PACKAGE-PRICE"),"*"),C.xp6(3),C.Q6J("ngIf",a.editPackageForm.get("package_price").hasError("required")),C.xp6(4),C.hij("",C.lcZ(90,81,"PACKAGE.LIST.PROMO-DIS"),"*"),C.xp6(3),C.Q6J("ngIf",a.editPackageForm.get("promo_discount").hasError("required")),C.xp6(4),C.hij("",C.lcZ(97,83,"PACKAGE.LIST.FIANL-PACKAGE-PRICE"),"*"),C.xp6(3),C.Q6J("ngIf",a.editPackageForm.get("final_package_price").hasError("required")),C.xp6(4),C.hij("",C.lcZ(104,85,"PACKAGE.LIST.PAYMENT-PHASE"),"*"),C.xp6(2),C.Q6J("formControl",a.payment_phase)("matAutocomplete",n),C.xp6(1),C.Q6J("displayWith",a.displayFnPaymentPhase),C.xp6(2),C.Q6J("ngForOf",C.lcZ(109,87,a.paymentPhaseList)),C.xp6(2),C.Q6J("ngForOf",a.validation_msgs.payment_phase),C.xp6(2),C.Q6J("ngIf",a.show2Phase),C.xp6(1),C.Q6J("ngIf",a.show2Phase),C.xp6(1),C.Q6J("ngIf",a.show3Phase),C.xp6(3),C.Oqu(C.lcZ(118,89,"PACKAGE.LIST.GLOBAL-VIEW")),C.xp6(2),C.Q6J("ngIf",a.viewLicensePrice),C.xp6(4),C.hij("",C.lcZ(124,91,"PACKAGE.LIST.PACKAGE-DESC-ENG"),"*"),C.xp6(2),C.Q6J("editor",a.Editor),C.xp6(1),C.Q6J("ngIf",a.editPackageForm.get("package_desc_english").hasError("required")),C.xp6(3),C.hij("",C.lcZ(130,93,"PACKAGE.LIST.PACKAGE-DESC-MALAY"),"*"),C.xp6(2),C.Q6J("editor",a.Editor),C.xp6(1),C.Q6J("ngIf",a.editPackageForm.get("package_desc_malay").hasError("required")),C.xp6(4),C.hij("",C.lcZ(137,95,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG"),"*"),C.xp6(2),C.Q6J("editor",a.Editor),C.xp6(1),C.Q6J("ngIf",a.editPackageForm.get("package_phase_desc_english").hasError("required")),C.xp6(3),C.hij("",C.lcZ(143,97,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY"),"*"),C.xp6(2),C.Q6J("editor",a.Editor),C.xp6(1),C.Q6J("ngIf",a.editPackageForm.get("package_phase_desc_malay").hasError("required")),C.xp6(3),C.Q6J("disabled",!a.editPackageForm.valid||0==a.license_selected.length),C.xp6(1),C.Oqu(C.lcZ(150,99,"BUTTON.EDIT-BTN")),C.xp6(3),C.Oqu(C.lcZ(153,101,"BUTTON.CANCEL-BTN"))}},directives:[G.Ro,o._Y,o.JL,o.sg,u.KE,D.qn,n.sg,u.hX,p.Nt,D.oH,o.Fj,H.ZL,o.JJ,o.oH,H.XC,n.O5,m.gD,o.u,o.Q7,V.ey,o.c5,v.oG,R.u,d.lW,D.HS,u.TO,o.On],pipes:[J.X$,n.Ov],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),oa)}],pa=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[[E.Bz.forChild(ua)],E.Bz]}),e}(),ga=((ca=function e(){t(this,e)}).\u0275fac=function(e){return new(e||ca)},ca.\u0275mod=C.oAB({type:ca}),ca.\u0275inj=C.cJS({providers:[N],imports:[[b.xD,D.Hi,R.d,n.ez,o.u5,o.UX,l.p0,c.TU,u.lN,p.c,g.ZX,d.ot,h.Ps,A.Is,Z.JX,f.g0,m.LD,_.FA,v.p9,P.Nh,k.Tx,T.Ad,pa,q.Cq,y.T5,L.yI,J.aw,H.Bb,G.ef]]}),ca)}}])}();