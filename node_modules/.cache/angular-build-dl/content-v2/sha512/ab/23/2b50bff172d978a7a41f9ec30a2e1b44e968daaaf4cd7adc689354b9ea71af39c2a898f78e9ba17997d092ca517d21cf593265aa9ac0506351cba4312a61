(self.webpackChunksmart=self.webpackChunksmart||[]).push([[538],{2538:function(e,t,i){"use strict";i.r(t),i.d(t,{LicenseModule:function(){return ae}});var r=i(61116),a=i(31041),l=i(39199),s=i(5609),n=i(13070),o=i(9550),c=i(63589),d=i(84369),Z=i(77307),u=i(13841),g=i(92935),m=i(59241),T=i(37112),A=i(69024),L=i(40994),h=i(1325),q=i(57173),p=i(97070),f=i(87672),_=i(44716),I=i(51601),E=i(35729),S=i(17647),N=i(35366),b=i(42693),v=i(97425),C=i(91681),x=i(529);let U=(()=>{class e{constructor(e){this.http=e,this.isTblLoading=!0,this.dataChange=new v.X([])}get data(){return this.dataChange.value}setLicenseDetails(e,t,i){return this.http.post(`${x.N.apiUrl}/webRoutes/setLicenseDetails`,{licenseData:e,authToken:t,client:i}).pipe((0,C.U)(e=>e))}getLicenseListPerClient(e){return this.http.post(`${x.N.apiUrl}/webRoutes/getLicenseListPerClient`,{client:e}).pipe((0,C.U)(e=>(this.isTblLoading=!1,this.dataChange.next(e),e)))}deleteLicenseDetails(e,t,i){return this.http.post(`${x.N.apiUrl}/webRoutes/deleteLicenseDetails`,{rowToDelete:e,authToken:t,client:i}).pipe((0,C.U)(e=>e))}getLicenseToEdit(e,t){return this.http.post(`${x.N.apiUrl}/webRoutes/getLicenseToEdit`,{licenseId:e,client:t}).pipe((0,C.U)(e=>e))}updateLicenseDetails(e,t,i){return this.http.post(`${x.N.apiUrl}/webRoutes/updateLicenseDetails`,{licenseData:e,authToken:t,client:i}).pipe((0,C.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(N.LFG(b.eN))},e.\u0275prov=N.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var w=i(24486),k=i(50518),F=i(60649);function J(e,t){if(1&e&&(N.TgZ(0,"td",36),N._UZ(1,"img",37),N.qZA()),2&e){const e=t.value;N.xp6(1),N.s9C("src",e||"assets/images/nologo.png",N.LSH)}}function y(e,t){if(1&e&&(N.TgZ(0,"td",36),N._UZ(1,"img",37),N.qZA()),2&e){const e=t.value;N.xp6(1),N.s9C("src",e||"assets/images/nologo.png",N.LSH)}}function Y(e,t){if(1&e){const e=N.EpF();N.TgZ(0,"span"),N.TgZ(1,"button",38),N.NdJ("click",function(){const t=N.CHM(e),i=t.row,r=t.rowIndex;return N.oxw().editLicense(i,r)}),N.TgZ(2,"mat-icon",39),N._uU(3,"edit "),N.qZA(),N.qZA(),N.TgZ(4,"button",40),N.NdJ("click",function(){const t=N.CHM(e),i=t.row,r=t.rowIndex,a=N.oxw(),l=N.MAs(58);return a.deleteLicense(i,r,l)}),N.TgZ(5,"mat-icon",41),N._uU(6,"delete "),N.qZA(),N.qZA(),N.qZA()}}function O(e,t){if(1&e){const e=N.EpF();N.TgZ(0,"div",42),N.TgZ(1,"h4",43),N.TgZ(2,"div",44),N.TgZ(3,"div",45),N.TgZ(4,"div",46),N._uU(5),N.ALo(6,"translate"),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.TgZ(7,"button",47),N.NdJ("click",function(){return N.CHM(e).$implicit.dismiss("Cross click")}),N.TgZ(8,"span",48),N.TgZ(9,"i",49),N._uU(10,"close"),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.TgZ(11,"div",50),N.TgZ(12,"p"),N._uU(13),N.ALo(14,"translate"),N.qZA(),N.TgZ(15,"div",51),N.TgZ(16,"div",52),N.TgZ(17,"button",53),N.NdJ("click",function(){return N.CHM(e),N.oxw().deleteLicensDetails()}),N._uU(18),N.ALo(19,"translate"),N.qZA(),N.TgZ(20,"button",54),N.NdJ("click",function(){return N.CHM(e).$implicit.close()}),N._uU(21),N.ALo(22,"translate"),N.qZA(),N.qZA(),N.qZA(),N.qZA()}2&e&&(N.xp6(5),N.hij(" ",N.lcZ(6,4,"LICENSE.DELETETITLE"),""),N.xp6(8),N.Oqu(N.lcZ(14,6,"BUTTON.CONFIRMATION")),N.xp6(5),N.Oqu(N.lcZ(19,8,"BUTTON.DEL-BTN")),N.xp6(3),N.Oqu(N.lcZ(22,10,"BUTTON.CANCEL-BTN")))}let D=(()=>{class e{constructor(e,t,i,r,a,l,s){this.httpClient=e,this.dialog=t,this.licenseService=i,this.snackBar=r,this.router=a,this.modalService=l,this.toastrService=s,this.columns=[{name:"License Class"},{name:"Minimum Age"}],this.data=[],this.filteredData=[],this.translateVal="ml"==localStorage.lang?"malay":"english"}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNewLicense(){this.router.navigate(["/admin/license/add-license"])}loadData(){this.licenseService.getLicenseListPerClient(sessionStorage.client).subscribe(e=>{this.data=e.data,this.filteredData=e.data})}filterDatatable(e){const t=e.target.value.toLowerCase(),i=this.columns.length,r=Object.keys(this.filteredData[0]);this.data=this.filteredData.filter(function(e){for(let a=0;a<i;a++)if(-1!==e[r[a]].toString().toLowerCase().indexOf(t)||!t)return!0}),this.table.offset=0}editLicense(e,t){console.log("rowww===",e),this.router.navigate(["/admin/license/edit-license",e.id])}deleteLicense(e,t,i){this.modalService.open(i,{ariaLabelledBy:"modal-basic-title"}),this.rowToDelete=e}deleteLicensDetails(){this.licenseService.deleteLicenseDetails(this.rowToDelete,sessionStorage.currentUser,sessionStorage.client).subscribe(e=>{"Success"==e.status&&(this.toastrService.success("Deleted Successfully!!!"),this.modalService.dismissAll(),this.loadData())})}}return e.\u0275fac=function(t){return new(t||e)(N.Y36(b.eN),N.Y36(g.uw),N.Y36(U),N.Y36(c.ux),N.Y36(E.F0),N.Y36(w.FF),N.Y36(k._W))},e.\u0275cmp=N.Xpm({type:e,selectors:[["app-license-list"]],viewQuery:function(e,t){if(1&e&&N.Gf(S.nE,5),2&e){let e;N.iGM(e=N.CRH())&&(t.table=e.first)}},decls:59,vars:28,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12"],[1,"mt-5"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ml-0"],[1,"dropdown"],[1,"dropdown","m-l-20"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"col-4"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],[1,"material",3,"rows","columns","sortType","columnMode","headerHeight","footerHeight","rowHeight","limit"],["table",""],["name","License Image","sortable","false","prop","license_image",3,"width"],["ngx-datatable-cell-template",""],["name","License Flow","sortable","false","prop","license_flow",3,"width"],["prop","license_class",3,"name","width"],["prop","minimum_age",3,"name","width"],["sortable","false",3,"name","width"],["deleteRecord",""],[1,"table-img","padding-0"],["width","40",3,"src"],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"click"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-button","","type","button",3,"click"]],template:function(e,t){1&e&&(N.TgZ(0,"section",0),N.TgZ(1,"div",1),N.TgZ(2,"div",2),N.TgZ(3,"div",3),N.TgZ(4,"div",4),N.TgZ(5,"ul",5),N.TgZ(6,"li",6),N.TgZ(7,"h4",7),N._uU(8),N.ALo(9,"translate"),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.TgZ(10,"div",3),N.TgZ(11,"div",8),N.TgZ(12,"div",9),N.TgZ(13,"div",10),N.TgZ(14,"div",11),N.TgZ(15,"div",12),N.TgZ(16,"div",13),N.TgZ(17,"div",14),N.TgZ(18,"div",3),N.TgZ(19,"div",15),N.TgZ(20,"ul",16),N.TgZ(21,"li",17),N.TgZ(22,"h2"),N.TgZ(23,"strong"),N._uU(24),N.ALo(25,"translate"),N.qZA(),N.qZA(),N.qZA(),N.TgZ(26,"li",18),N.TgZ(27,"label",19),N.TgZ(28,"i",20),N._uU(29,"search"),N.qZA(),N.qZA(),N.TgZ(30,"input",21),N.NdJ("keyup",function(e){return t.filterDatatable(e)}),N.qZA(),N.qZA(),N._UZ(31,"li"),N.qZA(),N.qZA(),N.TgZ(32,"div",22),N.TgZ(33,"ul",23),N.TgZ(34,"li"),N.TgZ(35,"div",24),N.TgZ(36,"button",25),N.NdJ("click",function(){return t.addNewLicense()}),N.TgZ(37,"mat-icon",26),N._uU(38,"add"),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.TgZ(39,"li"),N.TgZ(40,"div",24),N.TgZ(41,"button",25),N.NdJ("click",function(){return t.refresh()}),N.TgZ(42,"mat-icon",26),N._uU(43,"refresh "),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.TgZ(44,"ngx-datatable",27,28),N.TgZ(46,"ngx-datatable-column",29),N.YNc(47,J,2,1,"ng-template",30),N.qZA(),N.TgZ(48,"ngx-datatable-column",31),N.YNc(49,y,2,1,"ng-template",30),N.qZA(),N._UZ(50,"ngx-datatable-column",32),N.ALo(51,"translate"),N._UZ(52,"ngx-datatable-column",33),N.ALo(53,"translate"),N.TgZ(54,"ngx-datatable-column",34),N.ALo(55,"translate"),N.YNc(56,Y,7,0,"ng-template",30),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.YNc(57,O,23,12,"ng-template",null,35,N.W1O)),2&e&&(N.xp6(8),N.Oqu(N.lcZ(9,18,"LICENSE.LISTTITLE")),N.xp6(16),N.Oqu(N.lcZ(25,20,"LICENSE.LISTTITLE")),N.xp6(20),N.Q6J("rows",t.data)("columns",t.columns)("sortType","multi")("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","60")("limit",10),N.xp6(2),N.Q6J("width",100),N.xp6(2),N.Q6J("width",100),N.xp6(2),N.s9C("name",N.lcZ(51,22,"LICENSE.LIST.LICENSE-CLASS")),N.Q6J("width",130),N.xp6(2),N.s9C("name",N.lcZ(53,24,"LICENSE.LIST.MIN-AGE")),N.Q6J("width",130),N.xp6(2),N.s9C("name",N.lcZ(55,26,"LICENSE.ACTIONS")),N.Q6J("width",120))},directives:[d.lW,Z.Hw,S.nE,S.UC,S.vq],pipes:[F.X$],styles:[""]}),e})();var R=i(22567),Q=i(94784),M=i(46739);function H(e,t){1&e&&(N.TgZ(0,"mat-error"),N._uU(1),N.ALo(2,"translate"),N.qZA()),2&e&&(N.xp6(1),N.hij(" ",N.lcZ(2,1,"LICENSE.LIST.LICENSE-CLASS")," is required "))}function j(e,t){1&e&&(N.TgZ(0,"mat-error"),N._uU(1),N.ALo(2,"translate"),N.qZA()),2&e&&(N.xp6(1),N.hij(" ",N.lcZ(2,1,"LICENSE.LIST.MIN-AGE")," is required "))}function B(e,t){1&e&&(N.TgZ(0,"mat-error"),N._uU(1),N.ALo(2,"translate"),N.qZA()),2&e&&(N.xp6(1),N.hij(" ",N.lcZ(2,1,"LICENSE.LIST.LICENSE-ENGLISH")," is required "))}function G(e,t){1&e&&(N.TgZ(0,"mat-error"),N._uU(1),N.ALo(2,"translate"),N.qZA()),2&e&&(N.xp6(1),N.hij(" ",N.lcZ(2,1,"LICENSE.LIST.LICENSE-MALAY")," is required "))}function X(e,t){1&e&&(N.TgZ(0,"mat-error"),N._uU(1),N.ALo(2,"translate"),N.qZA()),2&e&&(N.xp6(1),N.hij(" ",N.lcZ(2,1,"LICENSE.LIST.CRITERIA-ENGLISH")," is required "))}function $(e,t){1&e&&(N.TgZ(0,"mat-error"),N._uU(1),N.ALo(2,"translate"),N.qZA()),2&e&&(N.xp6(1),N.hij(" ",N.lcZ(2,1,"LICENSE.LIST.CRITERIA-MALAY")," is required "))}function W(e,t){1&e&&(N.TgZ(0,"mat-error"),N._uU(1),N.ALo(2,"translate"),N.qZA()),2&e&&(N.xp6(1),N.hij(" ",N.lcZ(2,1,"LICENSE.LIST.LICENSE-CLASS")," is required "))}function z(e,t){1&e&&(N.TgZ(0,"mat-error"),N._uU(1),N.ALo(2,"translate"),N.qZA()),2&e&&(N.xp6(1),N.hij(" ",N.lcZ(2,1,"LICENSE.LIST.MIN-AGE")," is required "))}function P(e,t){1&e&&(N.TgZ(0,"mat-error"),N._uU(1),N.ALo(2,"translate"),N.qZA()),2&e&&(N.xp6(1),N.hij(" ",N.lcZ(2,1,"LICENSE.LIST.LICENSE-ENGLISH")," is required "))}function V(e,t){1&e&&(N.TgZ(0,"mat-error"),N._uU(1),N.ALo(2,"translate"),N.qZA()),2&e&&(N.xp6(1),N.hij(" ",N.lcZ(2,1,"LICENSE.LIST.LICENSE-MALAY")," is required "))}function K(e,t){1&e&&(N.TgZ(0,"mat-error"),N._uU(1),N.ALo(2,"translate"),N.qZA()),2&e&&(N.xp6(1),N.hij(" ",N.lcZ(2,1,"LICENSE.LIST.CRITERIA-ENGLISH")," is required "))}function ee(e,t){1&e&&(N.TgZ(0,"mat-error"),N._uU(1),N.ALo(2,"translate"),N.qZA()),2&e&&(N.xp6(1),N.hij(" ",N.lcZ(2,1,"LICENSE.LIST.CRITERIA-MALAY")," is required "))}const te=[{path:"license-list",component:D},{path:"add-license",component:(()=>{class e{constructor(e,t,i,r,a,l,s){this.cdRef=e,this.fb=t,this.languageService=i,this.toastrService=r,this.licenseService=a,this.router=l,this.route=s,this.Editor=R}ngOnInit(){this.addLicenseForm=this.fb.group({license_class:["",a.kI.required],minimum_age:["",a.kI.required],license_desc_english:["",a.kI.required],license_desc_malay:["",a.kI.required],criteria_english:["",a.kI.required],criteria_malay:["",a.kI.required],license_flow:["",a.kI.required],license_flow_name:["",a.kI.required],license_image:["",a.kI.required],license_image_name:["",a.kI.required]})}onFileChangeLicenseFlow(e){const t=new FileReader;if(e.target.files&&e.target.files.length){const[i]=e.target.files;t.readAsDataURL(i),t.onload=()=>{this.addLicenseForm.patchValue({license_flow:t.result}),console.log("this.documentForm===",this.addLicenseForm)}}}onFileChangeLicenseImage(e){const t=new FileReader;if(e.target.files&&e.target.files.length){const[i]=e.target.files;t.readAsDataURL(i),t.onload=()=>{this.addLicenseForm.patchValue({license_image:t.result}),console.log("this.documentForm===",this.addLicenseForm)}}}setLicenseDetails(){console.log("Editor===",this.addLicenseForm.value),this.licenseService.setLicenseDetails(this.addLicenseForm.value,sessionStorage.currentUser,sessionStorage.client).subscribe(e=>{"Success"==e.status?(this.toastrService.success("Registered Successfully!!"),this.addLicenseForm.reset(),this.router.navigate(["/admin/license/license-list"])):this.toastrService.error(e.status)})}goBack(){this.router.navigate(["/admin/license/license-list"])}}return e.\u0275fac=function(t){return new(t||e)(N.Y36(N.sBO),N.Y36(a.qu),N.Y36(Q.T),N.Y36(k._W),N.Y36(U),N.Y36(E.F0),N.Y36(E.gz))},e.\u0275cmp=N.Xpm({type:e,selectors:[["app-add-license"]],decls:85,vars:48,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","license_class","required",""],[4,"ngIf"],["matInput","","formControlName","minimum_age","maxlength","2","required",""],["formControlName","license_desc_english",3,"editor"],["formControlName","license_desc_malay",3,"editor"],["formControlName","criteria_english",3,"editor"],["formControlName","criteria_malay",3,"editor"],["formControlName","license_image_name","required","",3,"change"],["matSuffix",""],["formControlName","license_flow_name","required","",3,"change"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"]],template:function(e,t){1&e&&(N.TgZ(0,"section",0),N.TgZ(1,"div",1),N.TgZ(2,"div",2),N.TgZ(3,"div",3),N.TgZ(4,"div",4),N.TgZ(5,"ul",5),N.TgZ(6,"li",6),N.TgZ(7,"h4",7),N._uU(8),N.ALo(9,"translate"),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.TgZ(10,"div",8),N.TgZ(11,"div",9),N.TgZ(12,"div",10),N.TgZ(13,"div",11),N.TgZ(14,"h2"),N._uU(15),N.ALo(16,"translate"),N.qZA(),N.qZA(),N.TgZ(17,"div",12),N.TgZ(18,"form",13),N.TgZ(19,"div",3),N.TgZ(20,"div",14),N.TgZ(21,"mat-form-field",15),N.TgZ(22,"mat-label"),N._uU(23),N.ALo(24,"translate"),N.qZA(),N._UZ(25,"input",16),N.YNc(26,H,3,3,"mat-error",17),N.qZA(),N.qZA(),N.TgZ(27,"div",14),N.TgZ(28,"mat-form-field",15),N.TgZ(29,"mat-label"),N._uU(30),N.ALo(31,"translate"),N.qZA(),N._UZ(32,"input",18),N.YNc(33,j,3,3,"mat-error",17),N.qZA(),N.qZA(),N.qZA(),N.TgZ(34,"div",3),N.TgZ(35,"div",14),N.TgZ(36,"mat-label"),N._uU(37),N.ALo(38,"translate"),N.qZA(),N._UZ(39,"ckeditor",19),N.YNc(40,B,3,3,"mat-error",17),N.qZA(),N.TgZ(41,"div",14),N.TgZ(42,"mat-label"),N._uU(43),N.ALo(44,"translate"),N.qZA(),N._UZ(45,"ckeditor",20),N.YNc(46,G,3,3,"mat-error",17),N.qZA(),N.qZA(),N.TgZ(47,"div",3),N.TgZ(48,"div",14),N.TgZ(49,"mat-label"),N._uU(50),N.ALo(51,"translate"),N.qZA(),N._UZ(52,"ckeditor",21),N.YNc(53,X,3,3,"mat-error",17),N.qZA(),N.TgZ(54,"div",14),N.TgZ(55,"mat-label"),N._uU(56),N.ALo(57,"translate"),N.qZA(),N._UZ(58,"ckeditor",22),N.YNc(59,$,3,3,"mat-error",17),N.qZA(),N.qZA(),N.TgZ(60,"div",3),N.TgZ(61,"div",14),N.TgZ(62,"mat-form-field",15),N.TgZ(63,"mat-label"),N._uU(64),N.ALo(65,"translate"),N.qZA(),N.TgZ(66,"ngx-mat-file-input",23),N.NdJ("change",function(e){return t.onFileChangeLicenseImage(e)}),N.qZA(),N.TgZ(67,"mat-icon",24),N._uU(68,"cloud_upload"),N.qZA(),N.qZA(),N.qZA(),N.TgZ(69,"div",14),N.TgZ(70,"mat-form-field",15),N.TgZ(71,"mat-label"),N._uU(72),N.ALo(73,"translate"),N.qZA(),N.TgZ(74,"ngx-mat-file-input",25),N.NdJ("change",function(e){return t.onFileChangeLicenseFlow(e)}),N.qZA(),N.TgZ(75,"mat-icon",24),N._uU(76,"cloud_upload"),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.TgZ(77,"div",3),N.TgZ(78,"div",26),N.TgZ(79,"button",27),N.NdJ("click",function(){return t.setLicenseDetails()}),N._uU(80),N.ALo(81,"translate"),N.qZA(),N.TgZ(82,"button",28),N.NdJ("click",function(){return t.goBack()}),N._uU(83),N.ALo(84,"translate"),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA()),2&e&&(N.xp6(8),N.Oqu(N.lcZ(9,24,"LICENSE.TITLE")),N.xp6(7),N.Oqu(N.lcZ(16,26,"LICENSE.TITLE")),N.xp6(3),N.Q6J("formGroup",t.addLicenseForm),N.xp6(5),N.Oqu(N.lcZ(24,28,"LICENSE.LIST.LICENSE-CLASS")),N.xp6(3),N.Q6J("ngIf",t.addLicenseForm.get("license_class").hasError("required")),N.xp6(4),N.Oqu(N.lcZ(31,30,"LICENSE.LIST.MIN-AGE")),N.xp6(3),N.Q6J("ngIf",t.addLicenseForm.get("minimum_age").hasError("required")),N.xp6(4),N.hij("",N.lcZ(38,32,"LICENSE.LIST.LICENSE-ENGLISH"),"*"),N.xp6(2),N.Q6J("editor",t.Editor),N.xp6(1),N.Q6J("ngIf",t.addLicenseForm.get("license_desc_english").hasError("required")),N.xp6(3),N.hij("",N.lcZ(44,34,"LICENSE.LIST.LICENSE-MALAY"),"*"),N.xp6(2),N.Q6J("editor",t.Editor),N.xp6(1),N.Q6J("ngIf",t.addLicenseForm.get("license_desc_malay").hasError("required")),N.xp6(4),N.hij("",N.lcZ(51,36,"LICENSE.LIST.CRITERIA-ENGLISH"),"*"),N.xp6(2),N.Q6J("editor",t.Editor),N.xp6(1),N.Q6J("ngIf",t.addLicenseForm.get("criteria_english").hasError("required")),N.xp6(3),N.hij("",N.lcZ(57,38,"LICENSE.LIST.CRITERIA-MALAY"),"*"),N.xp6(2),N.Q6J("editor",t.Editor),N.xp6(1),N.Q6J("ngIf",t.addLicenseForm.get("criteria_malay").hasError("required")),N.xp6(5),N.Oqu(N.lcZ(65,40,"LICENSE.LIST.LICENSE-IMAGE")),N.xp6(8),N.Oqu(N.lcZ(73,42,"LICENSE.LIST.LICENSE-FLOW")),N.xp6(7),N.Q6J("disabled",!t.addLicenseForm.valid),N.xp6(1),N.Oqu(N.lcZ(81,44,"BUTTON.ADD-BTN")),N.xp6(3),N.Oqu(N.lcZ(84,46,"BUTTON.CANCEL-BTN")))},directives:[a._Y,a.JL,a.sg,n.KE,n.hX,o.Nt,a.Fj,a.JJ,a.u,a.Q7,r.O5,a.nD,M.u,h.Yh,Z.Hw,n.R9,d.lW,n.TO],pipes:[F.X$],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),e})()},{path:"edit-license/:id",component:(()=>{class e{constructor(e,t,i,r,l,s,n){this.cdRef=e,this.fb=t,this.languageService=i,this.toastrService=r,this.licenseService=l,this.router=s,this.route=n,this.Editor=R,this.licenseId=this.route.snapshot.paramMap.get("id"),this.editLicenseForm=this.fb.group({id:[""],prev_license_class:["",a.kI.required],license_class:["",a.kI.required],minimum_age:["",a.kI.required],license_desc_english:["",a.kI.required],license_desc_malay:["",a.kI.required],criteria_english:["",a.kI.required],criteria_malay:["",a.kI.required],license_flow:["",a.kI.required],license_flow_name:["",a.kI.required],license_image:["",a.kI.required],license_image_name:["",a.kI.required]})}ngOnInit(){this.licenseService.getLicenseToEdit(this.licenseId,sessionStorage.client).subscribe(e=>{let t=e.data[0];this.editLicenseForm.patchValue({id:t.id,prev_license_class:t.license_class,license_class:t.license_class,minimum_age:t.minimum_age,license_desc_english:t.license_desc_english,license_desc_malay:t.license_desc_malay,criteria_english:t.criteria_english,criteria_malay:t.criteria_malay,license_flow:t.license_flow,license_flow_name:t.license_flow,license_image:t.license_image,license_image_name:t.license_image})})}onFileChangeLicenseFlow(e){const t=new FileReader;if(e.target.files&&e.target.files.length){const[i]=e.target.files;t.readAsDataURL(i),t.onload=()=>{this.editLicenseForm.patchValue({license_flow:t.result}),console.log("this.documentForm===",this.editLicenseForm)}}}onFileChangeLicenseImage(e){const t=new FileReader;if(e.target.files&&e.target.files.length){const[i]=e.target.files;t.readAsDataURL(i),t.onload=()=>{this.editLicenseForm.patchValue({license_image:t.result}),console.log("this.documentForm===",this.editLicenseForm)}}}goBack(){this.router.navigate(["/admin/license/license-list"])}updateLicenseDetails(){console.log("Editor===",this.editLicenseForm.value),this.licenseService.updateLicenseDetails(this.editLicenseForm.value,sessionStorage.currentUser,sessionStorage.client).subscribe(e=>{"Success"==e.status?(this.toastrService.success("Updated Successfully!!"),this.editLicenseForm.reset(),this.router.navigate(["/admin/license/license-list"])):this.toastrService.error(e.status)})}}return e.\u0275fac=function(t){return new(t||e)(N.Y36(N.sBO),N.Y36(a.qu),N.Y36(Q.T),N.Y36(k._W),N.Y36(U),N.Y36(E.F0),N.Y36(E.gz))},e.\u0275cmp=N.Xpm({type:e,selectors:[["app-edit-license"]],decls:93,vars:50,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","license_class","required",""],[4,"ngIf"],["matInput","","formControlName","minimum_age","required",""],["formControlName","license_desc_english",3,"editor"],["formControlName","license_desc_malay",3,"editor"],["formControlName","criteria_english",3,"editor"],["formControlName","criteria_malay",3,"editor"],[2,"width","100%","height","50%",3,"src"],["formControlName","license_image_name","required","",3,"change"],["matSuffix",""],["formControlName","license_flow_name","required","",3,"change"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"]],template:function(e,t){1&e&&(N.TgZ(0,"section",0),N.TgZ(1,"div",1),N.TgZ(2,"div",2),N.TgZ(3,"div",3),N.TgZ(4,"div",4),N.TgZ(5,"ul",5),N.TgZ(6,"li",6),N.TgZ(7,"h4",7),N._uU(8),N.ALo(9,"translate"),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.TgZ(10,"div",8),N.TgZ(11,"div",9),N.TgZ(12,"div",10),N.TgZ(13,"div",11),N.TgZ(14,"h2"),N._uU(15),N.ALo(16,"translate"),N.qZA(),N.qZA(),N.TgZ(17,"div",12),N.TgZ(18,"form",13),N.TgZ(19,"div",3),N.TgZ(20,"div",14),N.TgZ(21,"mat-form-field",15),N.TgZ(22,"mat-label"),N._uU(23),N.ALo(24,"translate"),N.qZA(),N._UZ(25,"input",16),N.YNc(26,W,3,3,"mat-error",17),N.qZA(),N.qZA(),N.TgZ(27,"div",14),N.TgZ(28,"mat-form-field",15),N.TgZ(29,"mat-label"),N._uU(30),N.ALo(31,"translate"),N.qZA(),N._UZ(32,"input",18),N.YNc(33,z,3,3,"mat-error",17),N.qZA(),N.qZA(),N.qZA(),N.TgZ(34,"div",3),N.TgZ(35,"div",14),N.TgZ(36,"mat-label"),N._uU(37),N.ALo(38,"translate"),N.qZA(),N._UZ(39,"ckeditor",19),N.YNc(40,P,3,3,"mat-error",17),N.qZA(),N.TgZ(41,"div",14),N.TgZ(42,"mat-label"),N._uU(43),N.ALo(44,"translate"),N.qZA(),N._UZ(45,"ckeditor",20),N.YNc(46,V,3,3,"mat-error",17),N.qZA(),N.qZA(),N.TgZ(47,"div",3),N.TgZ(48,"div",14),N.TgZ(49,"mat-label"),N._uU(50),N.ALo(51,"translate"),N.qZA(),N._UZ(52,"ckeditor",21),N.YNc(53,K,3,3,"mat-error",17),N.qZA(),N.TgZ(54,"div",14),N.TgZ(55,"mat-label"),N._uU(56),N.ALo(57,"translate"),N.qZA(),N._UZ(58,"ckeditor",22),N.YNc(59,ee,3,3,"mat-error",17),N.qZA(),N.qZA(),N.TgZ(60,"div",3),N.TgZ(61,"div",14),N.TgZ(62,"div",3),N.TgZ(63,"div",14),N._UZ(64,"img",23),N.qZA(),N.TgZ(65,"div",14),N.TgZ(66,"mat-form-field",15),N.TgZ(67,"mat-label"),N._uU(68),N.ALo(69,"translate"),N.qZA(),N.TgZ(70,"ngx-mat-file-input",24),N.NdJ("change",function(e){return t.onFileChangeLicenseImage(e)}),N.qZA(),N.TgZ(71,"mat-icon",25),N._uU(72,"cloud_upload"),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.TgZ(73,"div",14),N.TgZ(74,"div",3),N.TgZ(75,"div",14),N._UZ(76,"img",23),N.qZA(),N.TgZ(77,"div",14),N.TgZ(78,"mat-form-field",15),N.TgZ(79,"mat-label"),N._uU(80),N.ALo(81,"translate"),N.qZA(),N.TgZ(82,"ngx-mat-file-input",26),N.NdJ("change",function(e){return t.onFileChangeLicenseFlow(e)}),N.qZA(),N.TgZ(83,"mat-icon",25),N._uU(84,"cloud_upload"),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.TgZ(85,"div",3),N.TgZ(86,"div",27),N.TgZ(87,"button",28),N.NdJ("click",function(){return t.updateLicenseDetails()}),N._uU(88),N.ALo(89,"translate"),N.qZA(),N.TgZ(90,"button",29),N.NdJ("click",function(){return t.goBack()}),N._uU(91),N.ALo(92,"translate"),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA(),N.qZA()),2&e&&(N.xp6(8),N.Oqu(N.lcZ(9,26,"LICENSE.EDITTITLE")),N.xp6(7),N.Oqu(N.lcZ(16,28,"LICENSE.EDITTITLE")),N.xp6(3),N.Q6J("formGroup",t.editLicenseForm),N.xp6(5),N.Oqu(N.lcZ(24,30,"LICENSE.LIST.LICENSE-CLASS")),N.xp6(3),N.Q6J("ngIf",t.editLicenseForm.get("license_class").hasError("required")),N.xp6(4),N.Oqu(N.lcZ(31,32,"LICENSE.LIST.MIN-AGE")),N.xp6(3),N.Q6J("ngIf",t.editLicenseForm.get("minimum_age").hasError("required")),N.xp6(4),N.hij("",N.lcZ(38,34,"LICENSE.LIST.LICENSE-ENGLISH"),"*"),N.xp6(2),N.Q6J("editor",t.Editor),N.xp6(1),N.Q6J("ngIf",t.editLicenseForm.get("license_desc_english").hasError("required")),N.xp6(3),N.hij("",N.lcZ(44,36,"LICENSE.LIST.LICENSE-MALAY"),"*"),N.xp6(2),N.Q6J("editor",t.Editor),N.xp6(1),N.Q6J("ngIf",t.editLicenseForm.get("license_desc_malay").hasError("required")),N.xp6(4),N.hij("",N.lcZ(51,38,"LICENSE.LIST.CRITERIA-ENGLISH"),"*"),N.xp6(2),N.Q6J("editor",t.Editor),N.xp6(1),N.Q6J("ngIf",t.editLicenseForm.get("criteria_english").hasError("required")),N.xp6(3),N.hij("",N.lcZ(57,40,"LICENSE.LIST.CRITERIA-MALAY"),"*"),N.xp6(2),N.Q6J("editor",t.Editor),N.xp6(1),N.Q6J("ngIf",t.editLicenseForm.get("criteria_malay").hasError("required")),N.xp6(5),N.s9C("src",t.editLicenseForm.value.license_image,N.LSH),N.xp6(4),N.Oqu(N.lcZ(69,42,"LICENSE.LIST.LICENSE-IMAGE")),N.xp6(8),N.s9C("src",t.editLicenseForm.value.license_flow,N.LSH),N.xp6(4),N.Oqu(N.lcZ(81,44,"LICENSE.LIST.LICENSE-FLOW")),N.xp6(7),N.Q6J("disabled",!t.editLicenseForm.valid),N.xp6(1),N.Oqu(N.lcZ(89,46,"BUTTON.EDIT-BTN")),N.xp6(3),N.Oqu(N.lcZ(92,48,"BUTTON.CANCEL-BTN")))},directives:[a._Y,a.JL,a.sg,n.KE,n.hX,o.Nt,a.Fj,a.JJ,a.u,a.Q7,r.O5,M.u,h.Yh,Z.Hw,n.R9,d.lW,n.TO],pipes:[F.X$],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),e})()}];let ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=N.oAB({type:e}),e.\u0275inj=N.cJS({imports:[[E.Bz.forChild(te)],E.Bz]}),e})();var re=i(79961);let ae=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=N.oAB({type:e}),e.\u0275inj=N.cJS({providers:[U],imports:[[S.xD,M.d,r.ez,a.u5,a.UX,l.p0,s.TU,n.lN,o.c,c.ZX,d.ot,Z.Ps,g.Is,m.JX,T.g0,u.LD,A.FA,L.p9,q.Nh,p.Tx,h.Ad,ie,f.Cq,_.T5,I.yI,F.aw,re.Bb]]}),e})()}}]);