(self.webpackChunksmart=self.webpackChunksmart||[]).push([[5773],{85773:function(e,t,i){"use strict";i.r(t),i.d(t,{StudentScheduleModule:function(){return ge}});var s=i(61116),r=i(31041),a=i(39199),n=i(5609),l=i(13070),o=i(9550),c=i(63589),d=i(84369),u=i(77307),h=i(13841),p=i(92935),m=i(59241),g=i(37112),f=i(69024),b=i(40994),v=i(1325),Z=i(57173),A=i(97070),S=i(87672),_=i(44716),N=i(51601),y=i(35729),T=i(81258),D=i(91681),x=i(99235),w=i(35366),q=i(97425),L=i(42693),I=i(89647),U=i(51816),C=i(529);let E=(()=>{class e{constructor(e){this.http=e,this.API_URL="assets/data/calendar.json",this.httpOptions={headers:new L.WM({"Content-Type":"application/json"})},this.dataChange=new q.X([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllCalendars(){return this.http.get(this.API_URL).pipe((0,U.K)(this.errorHandler))}deleteCalendar(e){this.dialogData=e}errorHandler(e){let t="";return t=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,console.log(t),(0,I._)(t)}getScheduleList(){return this.http.get(`${C.N.apiUrl}/webRoutes/getScheduleList`).pipe((0,D.U)(e=>e))}setScheduleDetails(e,t,i,s,r){return this.http.post(`${C.N.apiUrl}/webRoutes/setScheduleDetails`,{calendarData:e,timeSlot:t,viewAssign_selected:i,authToken:s,client:r}).pipe((0,D.U)(e=>e))}getScheduleDetailsForStudent(e,t,i){return this.http.post(`${C.N.apiUrl}/webRoutes/getScheduleDetailsForStudent`,{statusid:e,client:t,authToken:i}).pipe((0,D.U)(e=>e))}updateScheduleDetails(e,t,i,s){return this.http.post(`${C.N.apiUrl}/webRoutes/updateScheduleDetails`,{calendarData:e,viewAssign_selected:t,authToken:i,client:s}).pipe((0,D.U)(e=>e))}deleteScheduleDetails(e,t,i){return this.http.post(`${C.N.apiUrl}/webRoutes/deleteScheduleDetails`,{calendarData:e,authToken:t,client:i}).pipe((0,D.U)(e=>e))}getTimeDetails(e){return this.http.post(`${C.N.apiUrl}/webRoutes/getTimeDetails`,{client:e}).pipe((0,D.U)(e=>e))}getSelectedScheduleInfoStudent(e,t){return this.http.post(`${C.N.apiUrl}/webRoutes/getSelectedScheduleInfoStudent`,{enrollData:e,client:t}).pipe((0,D.U)(e=>e))}getNRICNumberForStudentSchedule(e){return this.http.post(`${C.N.apiUrl}/webRoutes/getNRICNumberForStudentSchedule`,{clientid:e}).pipe((0,D.U)(e=>e))}getPassportNumberForStudentSchedule(e){return this.http.post(`${C.N.apiUrl}/webRoutes/getPassportNumberForStudentSchedule`,{clientid:e}).pipe((0,D.U)(e=>e))}getEnrollmentNumberForSchedule(e,t){return this.http.post(`${C.N.apiUrl}/webRoutes/getEnrollmentNumberForSchedule`,{studentId:e,clientid:t}).pipe((0,D.U)(e=>e))}getStudentSchedulePerEnroll(e,t){return this.http.post(`${C.N.apiUrl}/webRoutes/getStudentSchedulePerEnroll`,{studentInfo:e,clientid:t}).pipe((0,D.U)(e=>e))}setStudentScheduleInfo(e,t,i){return this.http.post(`${C.N.apiUrl}/webRoutes/setStudentScheduleInfo`,{finalArray:e,enrollData:t,clientid:i}).pipe((0,D.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(w.LFG(L.eN))},e.\u0275prov=w.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var k=i(50518),F=i(7436),O=i(60649);function J(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"mat-radio-button",24),w.NdJ("change",function(t){w.CHM(e);const i=w.oxw(2).$implicit;return w.oxw().instructorChange(t,i)}),w._uU(1),w.qZA()}if(2&e){const e=t.$implicit;w.Q6J("value",e)("checked",e.checked),w.xp6(1),w.hij(" ",e.name," ")}}function R(e,t){if(1&e&&(w.TgZ(0,"mat-radio-group",22),w.YNc(1,J,2,3,"mat-radio-button",23),w.qZA()),2&e){const e=w.oxw().$implicit;w.xp6(1),w.Q6J("ngForOf",e.employeeList)}}function P(e,t){1&e&&(w.TgZ(0,"li"),w.TgZ(1,"span",25),w._uU(2," -- "),w.qZA(),w.qZA())}function Q(e,t){if(1&e&&(w.TgZ(0,"ul",19),w.TgZ(1,"li"),w._uU(2),w.qZA(),w.YNc(3,R,2,1,"mat-radio-group",20),w.YNc(4,P,3,0,"li",21),w.qZA()),2&e){const e=t.$implicit;w.xp6(2),w.Oqu(e.range),w.xp6(1),w.Q6J("ngIf",e.employeeList.length>0),w.xp6(1),w.Q6J("ngIf",0==e.employeeList.length)}}let $=(()=>{class e{constructor(e,t,i,s,r){this.dialogRef=e,this.data=t,this.calendarService=i,this.fb=s,this.toastrService=r,this.showDeleteBtn=!1,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[x.K5,x.OC],this.finalArray=[],this.getTimeDetails(),this.action=t.action,"edit"===this.action&&(this.dialogTitle=t.calendar.title,this.calendar=t.calendar,console.log("data.calendar============",t.calendar),this.enrollData={studentId:t.calendar.enrollData.student_id,enrollId:t.calendar.enrollData.id,statusId:t.calendar.statusid,scheduleDate:t.calendar.startDate},this.calendarService.getSelectedScheduleInfoStudent(this.enrollData,sessionStorage.client).subscribe(e=>{let t=e.scheduleList,i=e.existingSchedule;for(let r=0;r<t.length;r++)for(let e=0;e<this.timeArray.length;e++)1==this.zeroPad(t[r].TimeSlot,this.timeArray.length)[e]&&this.timeArray[e].employeeList.push({id:t[r].employee_id,name:t[r].employeeName,checked:!1});if(i.length>0){this.finalArray=[];for(let e=0;e<i.length;e++)for(let t=0;t<this.timeArray.length;t++)if(1==this.zeroPad(i[e].TimeSlot,this.timeArray.length)[t]&&this.timeArray[t].employeeList.length>0)for(let r=0;r<this.timeArray[t].employeeList.length;r++)if(this.timeArray[t].employeeList[r].id==i[e].employee_id){this.timeArray[t].employeeList[r].checked=!0;var s=this.timeArray[t];s.selected=this.timeArray[t].employeeList[r],this.finalArray.push(s)}else this.timeArray[t].employeeList[r].checked=!1}}),this.calendarForm=this.editContactForm()),this.getScheduleList()}zeroPad(e,t){return e.toString().padStart(Number(t),"0")}editContactForm(){return this.fb.group({id:[this.calendar.id],lead_time:[this.calendar.lead_time,[r.kI.required]],schedule_name:[this.calendar.schedule_name],schedule_view:[this.calendar.schedule_view],startDate:[this.calendar.startDate,[r.kI.required]],endDate:[this.calendar.endDate,[r.kI.required]]})}submit(){}onNoClick(){this.dialogRef.close()}setStudentScheduleInfo(){for(let e=0;e<this.finalArray.length;e++){this.finalArray[e].timeSlot="";for(let t=0;t<this.timeArray.length;t++)this.finalArray[e].timeSlot=this.finalArray[e].timeSlot+(this.finalArray[e].range==this.timeArray[t].range?1:0)}this.calendarService.setStudentScheduleInfo(this.finalArray,this.enrollData,sessionStorage.client).subscribe(e=>{"Success"==e.status&&(this.toastrService.success("Scheduled Successfully!!"),this.dialogRef.close("submit"))})}displayFn(e){return e&&e.name?e.name:""}instructorChange(e,t){var i=this.timeArray.filter(e=>e.range==t.range)[0];i.selected=e.value,this.finalArray.some(e=>e.range==t.range)||this.finalArray.push(i)}getScheduleList(){this.calendarService.getScheduleList().subscribe(e=>{this.scheduleList=e.data})}getTimeDetails(){this.calendarService.getTimeDetails(sessionStorage.client).subscribe(e=>{let t=e.data[0];this.makeTimeIntervals(t.working_hour_from.substr(0,5),t.working_hour_to.substr(0,5),60,t.rest_hour_from.substr(0,5),t.rest_hour_to.substr(0,5))})}makeTimeIntervals(e,t,i,s,r){e=e.toString().split(":"),t=t.toString().split(":"),i=parseInt(i,10);var a=function(e){return e<10?"0"+e.toString():e},n=parseInt(e[0],10),l=parseInt(e[1],10),o=parseInt(t[0],10),c=(parseInt(t[1],10),n),d=l,u=c+":"+a(d),h="",p=[];do{((d+=i)%60==0||d>60)&&(d=60===d?0:d-60,c+=1),h=c+":"+a(d),p.push({range:u+" - "+h,checkValue:0,employeeList:[]}),u=h}while(c!==o);var m=s+" - "+r;this.timeArray=p.filter(e=>e.range!=m)}}return e.\u0275fac=function(t){return new(t||e)(w.Y36(p.so),w.Y36(p.WI),w.Y36(E),w.Y36(r.qu),w.Y36(k._W))},e.\u0275cmp=w.Xpm({type:e,selectors:[["app-form-dialog"]],decls:34,vars:13,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],[1,"font-weight-bold","p-t-5","p-l-10","font-17"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"formGroup"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","schedule_name","readonly",""],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12"],["style","list-style: none;",4,"ngFor","ngForOf"],[1,"col-xl-10","col-lg-10","col-md-12","col-sm-12"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"type","click"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"],[2,"list-style","none"],["aria-labelledby","example-radio-group-label","class","example-radio-group","style","margin: 5px 0 !important;",4,"ngIf"],[4,"ngIf"],["aria-labelledby","example-radio-group-label",1,"example-radio-group",2,"margin","5px 0 !important"],["class","example-margin","style","padding: 5px;margin-left: 16px;","color","primary",3,"value","checked","change",4,"ngFor","ngForOf"],["color","primary",1,"example-margin",2,"padding","5px","margin-left","16px",3,"value","checked","change"],[2,"padding","5px","margin-left","16px"]],template:function(e,t){1&e&&(w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"div",2),w.TgZ(3,"div",3),w.TgZ(4,"div",4),w.TgZ(5,"div",5),w._uU(6),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(7,"button",6),w.NdJ("click",function(){return t.dialogRef.close()}),w.TgZ(8,"mat-icon"),w._uU(9,"close"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(10,"div",7),w.TgZ(11,"form",8),w.TgZ(12,"div",9),w.TgZ(13,"div",10),w.TgZ(14,"mat-form-field",11),w.TgZ(15,"mat-label"),w._uU(16),w.ALo(17,"translate"),w.qZA(),w._UZ(18,"input",12),w.qZA(),w.qZA(),w.qZA(),w.TgZ(19,"div",9),w.TgZ(20,"label"),w._uU(21,"Select Instructor"),w.qZA(),w.TgZ(22,"div",13),w.YNc(23,Q,5,3,"ul",14),w.qZA(),w.qZA(),w._UZ(24,"br"),w.TgZ(25,"div",9),w.TgZ(26,"div",15),w.TgZ(27,"div",16),w.TgZ(28,"button",17),w.NdJ("click",function(){return t.setStudentScheduleInfo()}),w._uU(29),w.ALo(30,"translate"),w.qZA(),w.TgZ(31,"button",18),w.NdJ("click",function(){return t.dialogRef.close()}),w._uU(32),w.ALo(33,"translate"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&e&&(w.xp6(6),w.hij(" Schedule ",t.dialogTitle,""),w.xp6(5),w.Q6J("formGroup",t.calendarForm),w.xp6(5),w.Oqu(w.lcZ(17,7,"SCHEDULE.LIST.SCHEDULE")),w.xp6(7),w.Q6J("ngForOf",t.timeArray),w.xp6(5),w.Q6J("type",t.submit),w.xp6(1),w.Oqu(w.lcZ(30,9,"BUTTON.ADD-BTN")),w.xp6(3),w.Oqu(w.lcZ(33,11,"BUTTON.CANCEL-BTN")))},directives:[d.lW,u.Hw,p.xY,r._Y,r.JL,r.sg,l.KE,l.hX,o.Nt,r.Fj,r.JJ,r.u,s.sg,s.O5,F.VQ,F.U0],pipes:[O.X$],styles:[""]}),e})();class Y{constructor(e){this.id=e.id||this.getRandomID(),this.lead_time=e.lead_time||"",this.schedule_name=e.schedule_name||"",this.schedule_owner=e.schedule_owner||"",this.schedule_view=e.schedule_view||"",this.schedule_view_assignment=e.schedule_view_assignment||"",this.startDate=(0,s.p6)(new Date,"yyyy-MM-dd","en")||"",this.endDate=(0,s.p6)(new Date,"yyyy-MM-dd","en")||""}getRandomID(){const e=()=>(65536*(1+Math.random())|0).toString(16).substring(1);return e()+e()}}var j=i(60352),M=i(79961),z=i(87064),B=i(11757);const H=["calendar"];function X(e,t){if(1&e&&(w.TgZ(0,"mat-option",21),w._uU(1),w.qZA()),2&e){const e=t.$implicit;w.Q6J("value",e),w.xp6(1),w.hij(" ",e.nric_number," ")}}function W(e,t){if(1&e&&(w.TgZ(0,"div"),w._uU(1),w.qZA()),2&e){const e=w.oxw().$implicit;w.xp6(1),w.hij(" ",e.message," ")}}function G(e,t){if(1&e&&(w.TgZ(0,"mat-error"),w.YNc(1,W,2,1,"div",22),w.qZA()),2&e){const e=t.$implicit,i=w.oxw();w.xp6(1),w.Q6J("ngIf",i.nric_number.hasError(e.type))}}function K(e,t){if(1&e&&(w.TgZ(0,"mat-option",21),w._uU(1),w.qZA()),2&e){const e=t.$implicit;w.Q6J("value",e),w.xp6(1),w.hij(" ",e.passport_number," ")}}function V(e,t){if(1&e&&(w.TgZ(0,"div"),w._uU(1),w.qZA()),2&e){const e=w.oxw().$implicit;w.xp6(1),w.hij(" ",e.message," ")}}function ee(e,t){if(1&e&&(w.TgZ(0,"mat-error"),w.YNc(1,V,2,1,"div",22),w.qZA()),2&e){const e=t.$implicit,i=w.oxw();w.xp6(1),w.Q6J("ngIf",i.passport_number.hasError(e.type))}}function te(e,t){if(1&e&&(w.TgZ(0,"mat-option",21),w._uU(1),w.qZA()),2&e){const e=t.$implicit;w.Q6J("value",e),w.xp6(1),w.hij(" ",e.enrollment_no," ")}}function ie(e,t){if(1&e&&(w.TgZ(0,"div"),w._uU(1),w.qZA()),2&e){const e=w.oxw().$implicit;w.xp6(1),w.hij(" ",e.message," ")}}function se(e,t){if(1&e&&(w.TgZ(0,"mat-error"),w.YNc(1,ie,2,1,"div",22),w.qZA()),2&e){const e=t.$implicit,i=w.oxw();w.xp6(1),w.Q6J("ngIf",i.enrollment_no.hasError(e.type))}}function re(e,t){if(1&e&&(w.TgZ(0,"div",8),w.TgZ(1,"div",23),w._UZ(2,"full-calendar",24),w.qZA(),w.qZA()),2&e){const e=w.oxw();w.xp6(2),w.Q6J("options",e.calendarOptions)}}const ae=[{path:"schedule-list",component:(()=>{class e extends j.n{constructor(e,t,i,s){super(),this.fb=e,this.dialog=t,this.calendarService=i,this.snackBar=s,this.filterOptions="All",this.calendarData=[],this.filterItems=[],this.nric_number=new r.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null]}),this.passport_number=new r.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null]}),this.enrollment_no=new r.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null]}),this.validation_msgs={nric_number:[{type:"invalidAutocompleteObject",message:"NRIC Number not recognized. Click one of the options."}],passport_number:[{type:"invalidAutocompleteObject",message:"Passport Number not recognized. Click one of the options."}],enrollment_no:[{type:"invalidAutocompleteObject",message:"Transaction Number not recognized. Click one of the options."}]},this.calendarOptions={headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},initialView:"dayGridMonth",displayEventTime:!1,weekends:!0,editable:!0,selectMirror:!0,dayMaxEvents:!0,eventClick:this.handleEventClick.bind(this),eventsSet:this.handleEvents.bind(this)},this.dialogTitle="Add New Event",this.calendar=new Y({}),this.addCusForm=this.createCalendarForm(this.calendar),this.getScheduleList()}ngOnInit(){this.getNRICNumberForStudentSchedule(),this.getPassportNumberForStudentSchedule()}getNRICNumberForStudentSchedule(){this.calendarService.getNRICNumberForStudentSchedule(sessionStorage.client).subscribe(e=>{this.nricNumberData=e,this.nricNumberList=this.nric_number.valueChanges.pipe((0,T.O)(""),(0,D.U)(e=>"string"==typeof e?e:e.nric_number),(0,D.U)(e=>e?this._filterNricNumber(e):this.nricNumberData.slice()))})}getPassportNumberForStudentSchedule(){this.calendarService.getPassportNumberForStudentSchedule(sessionStorage.client).subscribe(e=>{this.passportNumberData=e,this.passportNumberList=this.passport_number.valueChanges.pipe((0,T.O)(""),(0,D.U)(e=>"string"==typeof e?e:e.passport_number),(0,D.U)(e=>e?this._filterPassportNumber(e):this.passportNumberData.slice()))})}getScheduleList(){this.calendarService.getScheduleList().subscribe(e=>{this.scheduleList=e.data;for(let t=0;t<this.scheduleList.length;t++)this.scheduleList[t].checked=!0,this.filterItems.push(this.scheduleList[t].status)})}displayFnNRICNUmber(e){return e&&e.nric_number?e.nric_number:""}displayFnPassportNumber(e){return e&&e.passport_number?e.passport_number:""}displayFnTransactionNumber(e){return console.log("user===",e),e&&e.enrollment_no?e.enrollment_no:""}_filterNricNumber(e){const t=e.toLowerCase();return this.nricNumberData.filter(e=>e.nric_number.toLowerCase().includes(t))}_filterPassportNumber(e){const t=e.toLowerCase();return this.passportNumberData.filter(e=>e.passport_number.toLowerCase().includes(t))}_filterTranNumber(e){const t=e.toLowerCase();return this.tranNumberData.filter(e=>e.enrollment_no.toLowerCase().includes(t))}changeCategory(e,t){e.checked?this.filterItems.push(t.status):this.filterItems.splice(this.filterItems.indexOf(t.status),1),this.filterEvent(this.filterItems)}filterEvent(e){const t=this.calendarEvents.filter(t=>e.map(e=>e).includes(t.title));this.calendarOptions.events=t}handleEventClick(e){this.eventClick(e)}eventClick(e){const t={id:e.event.id,title:e.event.title,lead_time:e.event._def.extendedProps.lead_time,statusid:e.event._def.extendedProps.statusid,schedule_name:e.event._def.extendedProps.schedule_name,schedule_view:e.event._def.extendedProps.schedule_view,schedule_view_assignment:e.event._def.extendedProps.employeeName,startDate:e.event.start,endDate:e.event.end,enrollData:this.enrollDetails};let i;i="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const s=this.dialog.open($,{data:{calendar:t,action:"edit"},direction:i});this.subs.sink=s.afterClosed().subscribe(e=>{"submit"===e&&this.addCusForm.reset()})}editEvent(e,t){const i=this.calendarEvents.slice(),s=Object.assign({},i[e]);s.id=t.id,s.title=t.title,s.start=t.startDate,s.end=t.endDate,s.className="",s.groupId=t.category,s.details=t.details,i[e]=s,this.calendarEvents=i,this.calendarOptions.events=i}handleEvents(e){}createCalendarForm(e){return this.fb.group({id:[e.id],lead_time:[e.lead_time,[r.kI.required,r.kI.pattern("[a-zA-Z]+([a-zA-Z ]+)*")]],schedule_name:[e.schedule_name],schedule_view:[e.schedule_view],startDate:[e.startDate,[r.kI.required]],endDate:[e.endDate,[r.kI.required]]})}showNotification(e,t,i,s){this.snackBar.open(t,"",{duration:2e3,verticalPosition:i,horizontalPosition:s,panelClass:e})}selectedNricNumber(e){this.enrollDetails=[],e.option.value.id&&(this.passport_number.setValue(""),this.calendarService.getEnrollmentNumberForSchedule(e.option.value.id,sessionStorage.client).subscribe(e=>{this.tranNumberData=e.enrollData,this.tranNumberList=this.enrollment_no.valueChanges.pipe((0,T.O)(""),(0,D.U)(e=>"string"==typeof e?e:e.enrollment_no),(0,D.U)(e=>e?this._filterTranNumber(e):this.tranNumberData.slice()))}))}selectedPassportNumber(e){this.enrollDetails=[],e.option.value.id&&(this.nric_number.setValue(""),this.calendarService.getEnrollmentNumberForSchedule(e.option.value.id,sessionStorage.client).subscribe(e=>{this.tranNumberData=e.enrollData,this.tranNumberList=this.enrollment_no.valueChanges.pipe((0,T.O)(""),(0,D.U)(e=>"string"==typeof e?e:e.enrollment_no),(0,D.U)(e=>e?this._filterTranNumber(e):this.tranNumberData.slice()))}))}getStudentSchedulePerEnroll(e){console.log("event.option.value---===========getStudentSchedule==========--",e.option.value),this.calendarService.getStudentSchedulePerEnroll(e.option.value,sessionStorage.client).subscribe(t=>{this.calendarData=[],this.enrollDetails=e.option.value;for(let e=0;e<t.scheduleList.length;e++)this.calendarData.push({title:t.scheduleList[e].status,start:new Date(t.scheduleList[e].startDate),end:new Date(t.scheduleList[e].endDate),className:t.scheduleList[e].schedule_color,id:t.scheduleList[e].id,statusid:t.scheduleList[e].status_id,schedule_name:t.scheduleList[e].status,schedule_view:t.scheduleList[e].schedule_view,assignment:t.scheduleList[e].AssignmentList,startDate:new Date(t.scheduleList[e].startDate),endDate:new Date(t.scheduleList[e].endDate),employeeName:t.scheduleList[e].employee_name});this.calendarEvents=this.calendarData,this.tempEvents=this.calendarEvents,this.calendarOptions.events=this.calendarEvents})}}return e.\u0275fac=function(t){return new(t||e)(w.Y36(r.qu),w.Y36(p.uw),w.Y36(E),w.Y36(c.ux))},e.\u0275cmp=w.Xpm({type:e,selectors:[["app-add-schedule"]],viewQuery:function(e,t){if(1&e&&w.Gf(H,5),2&e){let e;w.iGM(e=w.CRH())&&(t.calendar=e.first)}},features:[w.qOj],decls:49,vars:34,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12","col-sm-12"],[1,"card"],[1,"card-body"],[1,"col-xl-4","col-lg-4","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["autoNric","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["autoPassport","matAutocomplete"],["autoTran","matAutocomplete"],["class","col-md-12 col-sm-12",4,"ngIf"],[3,"value"],[4,"ngIf"],[1,"panel-body"],[3,"options"]],template:function(e,t){if(1&e&&(w.TgZ(0,"section",0),w.TgZ(1,"div",1),w.TgZ(2,"div",2),w.TgZ(3,"div",3),w.TgZ(4,"div",4),w.TgZ(5,"ul",5),w.TgZ(6,"li",6),w.TgZ(7,"h4",7),w._uU(8),w.ALo(9,"translate"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(10,"div",3),w.TgZ(11,"div",8),w.TgZ(12,"div",9),w.TgZ(13,"div",10),w.TgZ(14,"div",3),w.TgZ(15,"div",11),w.TgZ(16,"mat-form-field",12),w.TgZ(17,"mat-label"),w._uU(18),w.ALo(19,"translate"),w.qZA(),w._UZ(20,"input",13),w.TgZ(21,"mat-autocomplete",14,15),w.NdJ("optionSelected",function(e){return t.selectedNricNumber(e)}),w.YNc(23,X,2,2,"mat-option",16),w.ALo(24,"async"),w.qZA(),w.YNc(25,G,2,1,"mat-error",17),w.qZA(),w.qZA(),w.TgZ(26,"div",11),w.TgZ(27,"mat-form-field",12),w.TgZ(28,"mat-label"),w._uU(29),w.ALo(30,"translate"),w.qZA(),w._UZ(31,"input",13),w.TgZ(32,"mat-autocomplete",14,18),w.NdJ("optionSelected",function(e){return t.selectedPassportNumber(e)}),w.YNc(34,K,2,2,"mat-option",16),w.ALo(35,"async"),w.qZA(),w.YNc(36,ee,2,1,"mat-error",17),w.qZA(),w.qZA(),w.TgZ(37,"div",11),w.TgZ(38,"mat-form-field",12),w.TgZ(39,"mat-label"),w._uU(40),w.ALo(41,"translate"),w.qZA(),w._UZ(42,"input",13),w.TgZ(43,"mat-autocomplete",14,19),w.NdJ("optionSelected",function(e){return t.getStudentSchedulePerEnroll(e)}),w.YNc(45,te,2,2,"mat-option",16),w.ALo(46,"async"),w.qZA(),w.YNc(47,se,2,1,"mat-error",17),w.qZA(),w.qZA(),w.qZA(),w.YNc(48,re,3,1,"div",20),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&e){const e=w.MAs(22),i=w.MAs(33),s=w.MAs(44);w.xp6(8),w.Oqu(w.lcZ(9,20,"SCHEDULE.STUD-TITLE")),w.xp6(10),w.Oqu(w.lcZ(19,22,"SELECT-LICENSE.LIST.NRIC-NUMBER")),w.xp6(2),w.Q6J("formControl",t.nric_number)("matAutocomplete",e),w.xp6(1),w.Q6J("displayWith",t.displayFnNRICNUmber),w.xp6(2),w.Q6J("ngForOf",w.lcZ(24,24,t.nricNumberList)),w.xp6(2),w.Q6J("ngForOf",t.validation_msgs.nric_number),w.xp6(4),w.Oqu(w.lcZ(30,26,"SELECT-LICENSE.LIST.PASSPORT-NUMBER")),w.xp6(2),w.Q6J("formControl",t.passport_number)("matAutocomplete",i),w.xp6(1),w.Q6J("displayWith",t.displayFnPassportNumber),w.xp6(2),w.Q6J("ngForOf",w.lcZ(35,28,t.passportNumberList)),w.xp6(2),w.Q6J("ngForOf",t.validation_msgs.passport_number),w.xp6(4),w.Oqu(w.lcZ(41,30,"SCHEDULE.TRANSACTION-NUMBER")),w.xp6(2),w.Q6J("formControl",t.enrollment_no)("matAutocomplete",s),w.xp6(1),w.Q6J("displayWith",t.displayFnTransactionNumber),w.xp6(2),w.Q6J("ngForOf",w.lcZ(46,32,t.tranNumberList)),w.xp6(2),w.Q6J("ngForOf",t.validation_msgs.enrollment_no),w.xp6(1),w.Q6J("ngIf",t.calendarData.length>0)}},directives:[l.KE,l.hX,o.Nt,r.Fj,M.ZL,r.JJ,r.oH,M.XC,s.sg,s.O5,z.ey,l.TO,B.woE],pipes:[O.X$,s.Ov],styles:[""]}),e})()}];let ne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=w.oAB({type:e}),e.\u0275inj=w.cJS({imports:[[y.Bz.forChild(ae)],y.Bz]}),e})();var le=i(46739),oe=i(17647),ce=i(95522),de=i(37192),ue=i(279),he=i(9451),pe=i(85256),me=i(52352);B.z1U.registerPlugins([ue.ZP,he.ZP,pe.Z,me.ZP]);let ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=w.oAB({type:e}),e.\u0275inj=w.cJS({providers:[E],imports:[[oe.xD,ce.Hi,le.d,s.ez,r.u5,r.UX,a.p0,n.TU,l.lN,o.c,c.ZX,d.ot,u.Ps,p.Is,m.JX,g.g0,h.LD,f.FA,b.p9,Z.Nh,A.Tx,F.Fk,v.Ad,ne,S.Cq,_.T5,N.yI,O.aw,M.Bb,B.z1U,de.Ll,de.x]]}),e})()}}]);