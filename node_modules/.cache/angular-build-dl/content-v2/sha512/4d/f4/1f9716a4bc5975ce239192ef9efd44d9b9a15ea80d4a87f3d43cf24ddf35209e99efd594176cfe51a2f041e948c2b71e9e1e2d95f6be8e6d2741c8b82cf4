!function(){function e(t,i){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,i)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,s=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return n(e)}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}(self.webpackChunksmart=self.webpackChunksmart||[]).push([[344],{94344:function(i,a,r){"use strict";r.r(a),r.d(a,{ScheduleModule:function(){return me}});var o=r(61116),u=r(31041),d=r(39199),h=r(5609),v=r(13070),g=r(9550),f=r(63589),p=r(84369),m=r(77307),A=r(13841),w=r(92935),Z=r(59241),T=r(37112),_=r(69024),y=r(40994),b=r(1325),D=r(57173),S=r(97070),q=r(87672),k=r(44716),C=r(51601),x=r(35729),U=r(99235),I=r(81258),E=r(91681),L=function(){function e(t){l(this,e),this.id=t.id||this.getRandomID(),this.lead_time=t.lead_time||"",this.schedule_name=t.schedule_name||"",this.schedule_owner=t.schedule_owner||"",this.schedule_view=t.schedule_view||"",this.schedule_view_assignment=t.schedule_view_assignment||"",this.startDate=(0,o.p6)(new Date,"yyyy-MM-dd","en")||"",this.endDate=(0,o.p6)(new Date,"yyyy-MM-dd","en")||""}return c(e,[{key:"getRandomID",value:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()}}]),e}(),F=r(35366),N=r(97425),O=r(42693),J=r(89647),R=r(51816),M=r(529),H=function(){var e=function(){function e(t){l(this,e),this.http=t,this.API_URL="assets/data/calendar.json",this.httpOptions={headers:new O.WM({"Content-Type":"application/json"})},this.dataChange=new N.X([])}return c(e,[{key:"data",get:function(){return this.dataChange.value}},{key:"getDialogData",value:function(){return this.dialogData}},{key:"getAllCalendars",value:function(){return this.http.get(this.API_URL).pipe((0,R.K)(this.errorHandler))}},{key:"deleteCalendar",value:function(e){this.dialogData=e}},{key:"errorHandler",value:function(e){var t;return t=e.error instanceof ErrorEvent?e.error.message:"Error Code: ".concat(e.status,"\nMessage: ").concat(e.message),console.log(t),(0,J._)(t)}},{key:"getScheduleViewAssignList",value:function(e,t){return this.http.post("".concat(M.N.apiUrl,"/webRoutes/getScheduleViewAssignList"),{schedule_view:e,client:t}).pipe((0,E.U)(function(e){return e}))}},{key:"getScheduleList",value:function(){return this.http.get("".concat(M.N.apiUrl,"/webRoutes/getScheduleList")).pipe((0,E.U)(function(e){return e}))}},{key:"setScheduleDetails",value:function(e,t,i,n){return this.http.post("".concat(M.N.apiUrl,"/webRoutes/setScheduleDetails"),{calendarData:e,viewAssign_selected:t,authToken:i,client:n}).pipe((0,E.U)(function(e){return e}))}},{key:"getScheduleDetails",value:function(e){return this.http.post("".concat(M.N.apiUrl,"/webRoutes/getScheduleDetails"),{client:e}).pipe((0,E.U)(function(e){return e}))}},{key:"updateScheduleDetails",value:function(e,t,i,n){return this.http.post("".concat(M.N.apiUrl,"/webRoutes/updateScheduleDetails"),{calendarData:e,viewAssign_selected:t,authToken:i,client:n}).pipe((0,E.U)(function(e){return e}))}},{key:"deleteScheduleDetails",value:function(e,t,i){return this.http.post("".concat(M.N.apiUrl,"/webRoutes/deleteScheduleDetails"),{calendarData:e,authToken:t,client:i}).pipe((0,E.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(F.LFG(O.eN))},e.\u0275prov=F.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Q=r(50518),j=r(87064),P=r(37192),V=r(95522),Y=r(79961),B=r(60649),G=["autocompleteTrigger"],X=["licenceInput"];function z(e,t){if(1&e&&(F.TgZ(0,"mat-option",17),F._uU(1),F.qZA()),2&e){var i=t.$implicit;F.Q6J("value",i.id),F.xp6(1),F.hij(" ",i.status," ")}}function $(e,t){1&e&&(F.TgZ(0,"mat-icon",42),F._uU(1,"cancel"),F.qZA())}function K(e,t){if(1&e){var i=F.EpF();F.TgZ(0,"mat-chip",40),F.NdJ("removed",function(){var e=F.CHM(i).$implicit;return F.oxw(2).remove(e.id)}),F._uU(1),F.YNc(2,$,2,0,"mat-icon",41),F.qZA()}if(2&e){var n=t.$implicit,a=F.oxw(2);F.Q6J("selectable",a.selectable)("removable",a.removable),F.xp6(1),F.hij(" ",n.name," "),F.xp6(1),F.Q6J("ngIf",a.removable)}}function W(e,t){if(1&e&&(F.TgZ(0,"mat-option",17),F._UZ(1,"mat-checkbox",43),F._uU(2),F.qZA()),2&e){var i=t.$implicit;F.Q6J("value",i.id),F.xp6(1),F.Q6J("checked",i.checked),F.xp6(1),F.hij(" ",i.name," ")}}function ee(e,t){if(1&e){var i=F.EpF();F.TgZ(0,"div",9),F.TgZ(1,"div",10),F.TgZ(2,"mat-form-field",11),F.TgZ(3,"mat-chip-list",31,32),F.YNc(5,K,3,4,"mat-chip",33),F.TgZ(6,"mat-label"),F._uU(7),F.ALo(8,"translate"),F.qZA(),F.TgZ(9,"input",34,35),F.NdJ("matChipInputTokenEnd",function(e){return F.CHM(i),F.oxw().add(e)}),F.qZA(),F.qZA(),F.TgZ(12,"mat-autocomplete",36,37),F.NdJ("optionSelected",function(e){return F.CHM(i),F.oxw().selectedViewAssignment(e)}),F.YNc(14,W,3,3,"mat-option",13),F.ALo(15,"async"),F.qZA(),F.TgZ(16,"button",38),F.NdJ("click",function(){F.CHM(i);var e=F.MAs(11);return F.oxw().openAuto(e)}),F.TgZ(17,"mat-icon",39),F._uU(18,"expand_more"),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.qZA()}if(2&e){var n=F.MAs(4),a=F.MAs(13),s=F.oxw();F.xp6(5),F.Q6J("ngForOf",s.viewAssign_selected),F.xp6(2),F.hij("",F.lcZ(8,7,"SCHEDULE.LIST.ASSIGNMENT"),"*"),F.xp6(2),F.Q6J("matChipInputFor",n)("matChipInputSeparatorKeyCodes",s.separatorKeysCodes)("formControl",s.schedule_view_assignment)("matAutocomplete",a),F.xp6(5),F.Q6J("ngForOf",F.lcZ(15,9,s.viewAssignTypeList))}}function te(e,t){if(1&e){var i=F.EpF();F.TgZ(0,"div",26),F.TgZ(1,"button",44),F.NdJ("click",function(){return F.CHM(i),F.oxw().deleteEvent()}),F.TgZ(2,"mat-icon",45),F._uU(3,"delete"),F.qZA(),F.qZA(),F.qZA()}}var ie=function(){var e=function(){function e(t,i,n,a,s){var r=this;l(this,e),this.dialogRef=t,this.data=i,this.calendarService=n,this.fb=a,this.toastrService=s,this.showDeleteBtn=!1,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[U.K5,U.OC],this.viewAssign_selected=[],this.schedule_view_assignment=new u.NI("",{validators:[function(e){return"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null},u.kI.required]}),this.formControl=new u.NI("",[u.kI.required]),this.action=i.action,"edit"===this.action?(console.log("edit===========",i.calendar),this.dialogTitle=i.calendar.title,this.calendar=i.calendar,this.viewAssign_selected=i.calendar.schedule_view_assignment,this.showDeleteBtn=!0,"All"!=this.calendar.schedule_view&&this.calendarService.getScheduleViewAssignList(this.calendar.schedule_view,sessionStorage.client).subscribe(function(e){r.viewAssignTypeData=e.data,console.log("this.viewAssignTypeData===",r.viewAssignTypeData);for(var t=0;t<r.viewAssignTypeData.length;t++)for(var i=0;i<r.viewAssign_selected.length;i++)r.viewAssignTypeData[t].id==r.viewAssign_selected[i].id&&(r.viewAssignTypeData[t].checked=!0);console.log("this.this.schedule_view_assignment=========",r.schedule_view_assignment),r.viewAssignTypeList=r.schedule_view_assignment.valueChanges.pipe((0,I.O)(""),(0,E.U)(function(e){return"string"==typeof e?e:e.name}),(0,E.U)(function(e){return e?r._filterviewAssignType(e):r.viewAssignTypeData.slice()}))}),this.calendarForm=this.editContactForm()):(console.log("newwww--------datad====",i),this.dialogTitle="New Event",this.calendar=new L({}),this.showDeleteBtn=!1,this.calendarForm=this.createContactForm(i.calendar)),this.getScheduleList()}return c(e,[{key:"getErrorMessage",value:function(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}},{key:"createContactForm",value:function(e){return this.fb.group({id:[this.calendar.id],lead_time:[this.calendar.lead_time,[u.kI.required]],schedule_name:[this.calendar.schedule_name],schedule_view:[this.calendar.schedule_view],startDate:[e.start,[u.kI.required]],endDate:[e.start,[u.kI.required]]})}},{key:"editContactForm",value:function(){return this.fb.group({id:[this.calendar.id],lead_time:[this.calendar.lead_time,[u.kI.required]],schedule_name:[this.calendar.schedule_name],schedule_view:[this.calendar.schedule_view],startDate:[this.calendar.startDate,[u.kI.required]],endDate:[this.calendar.endDate,[u.kI.required]]})}},{key:"submit",value:function(){}},{key:"deleteEvent",value:function(){var e=this;this.calendarService.deleteScheduleDetails(this.calendarForm.value,sessionStorage.currentUser,sessionStorage.client).subscribe(function(t){e.toastrService.success("Deleted Successfully!!!!"),e.dialogRef.close("delete")})}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"setScheduleDetails",value:function(){var e=this;"add"==this.action&&("All"!=this.calendarForm.value.schedule_view?(console.log("this.viewAssign_selected==",this.viewAssign_selected,this.calendarForm.value),this.viewAssign_selected.length>0?this.calendarService.setScheduleDetails(this.calendarForm.value,this.viewAssign_selected,sessionStorage.currentUser,sessionStorage.client).subscribe(function(t){e.toastrService.success("Updated Successfully!!!!"),e.dialogRef.close("submit")}):this.toastrService.error("Please Select the Schedule View Assignment!!")):(console.log("this.viewAssign_selected==",this.viewAssign_selected,this.calendarForm.value),this.calendarService.setScheduleDetails(this.calendarForm.value,this.viewAssign_selected,sessionStorage.currentUser,sessionStorage.client).subscribe(function(t){e.toastrService.success("Updated Successfully!!!!"),e.dialogRef.close("submit")}))),"edit"==this.action&&("All"!=this.calendarForm.value.schedule_view?(console.log("this.viewAssign_selected==",this.viewAssign_selected,this.calendarForm.value),this.viewAssign_selected.length>0?this.calendarService.updateScheduleDetails(this.calendarForm.value,this.viewAssign_selected,sessionStorage.currentUser,sessionStorage.client).subscribe(function(t){e.toastrService.success("Updated Successfully!!!!"),e.dialogRef.close("submit")}):this.toastrService.error("Please Select the Schedule View Assignment!!")):(console.log("this.viewAssign_selected==",this.viewAssign_selected,this.calendarForm.value),this.calendarService.updateScheduleDetails(this.calendarForm.value,this.viewAssign_selected,sessionStorage.currentUser,sessionStorage.client).subscribe(function(t){e.toastrService.success("Updated Successfully!!!!"),e.dialogRef.close("submit")})),console.log("this.calendarForm.value========",this.calendarForm.value))}},{key:"getScheduleViewAssignList",value:function(){var e=this;this.viewAssign_selected=[],"All"!=this.calendarForm.value.schedule_view&&this.calendarService.getScheduleViewAssignList(this.calendarForm.value.schedule_view,sessionStorage.client).subscribe(function(t){e.viewAssignTypeData=t.data,console.log("this.this.schedule_view_assignment=========",e.schedule_view_assignment),e.viewAssignTypeList=e.schedule_view_assignment.valueChanges.pipe((0,I.O)(""),(0,E.U)(function(e){return"string"==typeof e?e:e.name}),(0,E.U)(function(t){return t?e._filterviewAssignType(t):e.viewAssignTypeData.slice()}))})}},{key:"displayFn",value:function(e){return e&&e.name?e.name:""}},{key:"_filterviewAssignType",value:function(e){console.log("name=====",e);var t=e.toLowerCase();return this.viewAssignTypeData.filter(function(e){return e.name.toLowerCase().includes(t)})}},{key:"add",value:function(e){var t=e.input,i=e.value;console.log("------------",i),(i||"").trim()&&this.viewAssign_selected.push(i),t&&(t.value=""),this.schedule_view_assignment.setValue("")}},{key:"remove",value:function(e){if(console.log("viewAssign=========",e),this.viewAssign_selected.findIndex(function(t){return t.id===e})>=0){this.viewAssign_selected=s(this.viewAssign_selected.filter(function(t){return t.id!==e}));for(var t=0;t<this.viewAssignTypeData.length;t++)this.viewAssignTypeData[t].id==e&&(this.viewAssignTypeData[t].checked=!1)}}},{key:"openAuto",value:function(e){e.openPanel(),this.licenceInput.nativeElement.focus(),console.log(e)}},{key:"selectedViewAssignment",value:function(e){var t=this,i=e.option.viewValue;if(console.log("newValue=======",e.option),console.log(this.viewAssign_selected.findIndex(function(t){return t.id===e.option.value})),this.viewAssign_selected.findIndex(function(t){return t.id===e.option.value})>=0){this.viewAssign_selected=s(this.viewAssign_selected.filter(function(e){return e.name!==i}));for(var n=0;n<this.viewAssignTypeData.length;n++)this.viewAssignTypeData[n].id==e.option.value&&(this.viewAssignTypeData[n].checked=!1)}else for(var a=0;a<this.viewAssignTypeData.length;a++)this.viewAssignTypeData[a].id==e.option.value&&(this.viewAssignTypeData[a].checked=!0,this.viewAssign_selected.push(this.viewAssignTypeData[a]));this.licenceInput.nativeElement.value="",this.schedule_view_assignment.setValue(""),requestAnimationFrame(function(){t.openAuto(t.matACTrigger)})}},{key:"getScheduleList",value:function(){var e=this;this.calendarService.getScheduleList().subscribe(function(t){e.scheduleList=t.data,console.log("this.ViewAssignList====",e.ViewAssignList)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(F.Y36(w.so),F.Y36(w.WI),F.Y36(H),F.Y36(u.qu),F.Y36(Q._W))},e.\u0275cmp=F.Xpm({type:e,selectors:[["app-form-dialog"]],viewQuery:function(e,t){var i;(1&e&&(F.Gf(G,5),F.Gf(X,5)),2&e)&&(F.iGM(i=F.CRH())&&(t.matACTrigger=i.first),F.iGM(i=F.CRH())&&(t.licenceInput=i.first))},decls:75,vars:37,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],[1,"font-weight-bold","p-t-5","p-l-10","font-17"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"formGroup"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],["appearance","outline",1,"example-full-width","mb-3"],["formControlName","schedule_name","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","lead_time","required",""],["matSuffix",""],["formControlName","schedule_view","required","",3,"selectionChange"],[3,"value"],["class","row",4,"ngIf"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12"],["matInput","","formControlName","startDate","placeholder","Choose a date","required","",3,"owlDateTimeTrigger","owlDateTime"],["matSuffix","",1,"date-icon",3,"owlDateTimeTrigger"],["startDate",""],["matInput","","formControlName","endDate","placeholder","Choose a date","required","",3,"owlDateTimeTrigger","owlDateTime"],["endDate",""],[1,"col-xl-10","col-lg-10","col-md-12","col-sm-12"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"type","disabled","click"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"],[1,"col-xl-2","col-lg-2","col-md-12","col-sm-12"],["class","example-button-row",4,"ngIf"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","text","matInput","",3,"matChipInputFor","matChipInputSeparatorKeyCodes","formControl","matAutocomplete","matChipInputTokenEnd"],["licenceInput","","autocompleteTrigger","matAutocompleteTrigger"],["autoActiveFirstOption","",3,"optionSelected"],["autoView","matAutocomplete"],["mat-icon-button","","matSuffix","",2,"width","34px","height","34px",3,"click"],[2,"width","34px"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],["color","primary",2,"padding","0 12px",3,"checked"],["mat-mini-fab","","aria-label","","color","warn",3,"click"],[1,"font-20"]],template:function(e,t){if(1&e&&(F.TgZ(0,"div",0),F.TgZ(1,"div",1),F.TgZ(2,"div",2),F.TgZ(3,"div",3),F.TgZ(4,"div",4),F.TgZ(5,"div",5),F._uU(6),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.TgZ(7,"button",6),F.NdJ("click",function(){return t.dialogRef.close()}),F.TgZ(8,"mat-icon"),F._uU(9,"close"),F.qZA(),F.qZA(),F.qZA(),F.TgZ(10,"div",7),F.TgZ(11,"form",8),F.TgZ(12,"div",9),F.TgZ(13,"div",10),F.TgZ(14,"mat-form-field",11),F.TgZ(15,"mat-label"),F._uU(16),F.ALo(17,"translate"),F.qZA(),F.TgZ(18,"mat-select",12),F.YNc(19,z,2,2,"mat-option",13),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.TgZ(20,"div",9),F.TgZ(21,"div",10),F.TgZ(22,"mat-form-field",11),F.TgZ(23,"mat-label"),F._uU(24),F.ALo(25,"translate"),F.qZA(),F._UZ(26,"input",14),F.TgZ(27,"mat-icon",15),F._uU(28,"turned_in_not"),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.TgZ(29,"div",9),F.TgZ(30,"div",10),F.TgZ(31,"mat-form-field",11),F.TgZ(32,"mat-label"),F._uU(33),F.ALo(34,"translate"),F.qZA(),F.TgZ(35,"mat-select",16),F.NdJ("selectionChange",function(){return t.getScheduleViewAssignList()}),F.TgZ(36,"mat-option",17),F._uU(37," All "),F.qZA(),F.TgZ(38,"mat-option",17),F._uU(39," Instructor "),F.qZA(),F.TgZ(40,"mat-option",17),F._uU(41," QTI "),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.YNc(42,ee,19,11,"div",18),F.TgZ(43,"div",9),F.TgZ(44,"div",19),F.TgZ(45,"mat-form-field",11),F.TgZ(46,"mat-label"),F._uU(47),F.ALo(48,"translate"),F.qZA(),F._UZ(49,"input",20),F.TgZ(50,"mat-icon",21),F._uU(51,"today"),F.qZA(),F._UZ(52,"owl-date-time",null,22),F.qZA(),F.qZA(),F.TgZ(54,"div",19),F.TgZ(55,"mat-form-field",11),F.TgZ(56,"mat-label"),F._uU(57),F.ALo(58,"translate"),F.qZA(),F._UZ(59,"input",23),F.TgZ(60,"mat-icon",21),F._uU(61,"today"),F.qZA(),F._UZ(62,"owl-date-time",null,24),F.qZA(),F.qZA(),F.qZA(),F.TgZ(64,"div",9),F.TgZ(65,"div",25),F.TgZ(66,"div",26),F.TgZ(67,"button",27),F.NdJ("click",function(){return t.setScheduleDetails()}),F._uU(68),F.ALo(69,"translate"),F.qZA(),F.TgZ(70,"button",28),F.NdJ("click",function(){return t.dialogRef.close()}),F._uU(71),F.ALo(72,"translate"),F.qZA(),F.qZA(),F.qZA(),F.TgZ(73,"div",29),F.YNc(74,te,4,0,"div",30),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.qZA()),2&e){var i=F.MAs(53),n=F.MAs(63);F.xp6(6),F.hij(" ",t.dialogTitle,""),F.xp6(5),F.Q6J("formGroup",t.calendarForm),F.xp6(5),F.Oqu(F.lcZ(17,23,"SCHEDULE.LIST.SCHEDULE")),F.xp6(3),F.Q6J("ngForOf",t.scheduleList),F.xp6(5),F.Oqu(F.lcZ(25,25,"SCHEDULE.LIST.LEAD-TIME")),F.xp6(9),F.Oqu(F.lcZ(34,27,"SCHEDULE.LIST.SCHEDULE-VIEW")),F.xp6(3),F.Q6J("value","All"),F.xp6(2),F.Q6J("value","Instructor"),F.xp6(2),F.Q6J("value","QTI"),F.xp6(2),F.Q6J("ngIf","All"!=t.calendarForm.value.schedule_view&&""!=t.calendarForm.value.schedule_view),F.xp6(5),F.Oqu(F.lcZ(48,29,"SCHEDULE.LIST.START-DATE")),F.xp6(2),F.Q6J("owlDateTimeTrigger",i)("owlDateTime",i),F.xp6(1),F.Q6J("owlDateTimeTrigger",i),F.xp6(7),F.Oqu(F.lcZ(58,31,"SCHEDULE.LIST.END-DATE")),F.xp6(2),F.Q6J("owlDateTimeTrigger",n)("owlDateTime",n),F.xp6(1),F.Q6J("owlDateTimeTrigger",n),F.xp6(7),F.Q6J("type",t.submit)("disabled",!t.calendarForm.valid),F.xp6(1),F.Oqu(F.lcZ(69,33,"BUTTON.ADD-BTN")),F.xp6(3),F.Oqu(F.lcZ(72,35,"BUTTON.CANCEL-BTN")),F.xp6(3),F.Q6J("ngIf",t.showDeleteBtn)}},directives:[p.lW,m.Hw,w.xY,u._Y,u.JL,u.sg,v.KE,v.hX,A.gD,u.JJ,u.u,u.Q7,o.sg,g.Nt,u.Fj,v.R9,j.ey,o.O5,P.BO,P.sZ,P.hV,V.qn,V.oH,Y.ZL,u.oH,Y.XC,V.HS,V.qH,y.oG],pipes:[B.X$,o.Ov],styles:[""]}),e}(),ne=r(60352),ae=r(11757),se=["calendar"];function re(e,t){if(1&e){var i=F.EpF();F.TgZ(0,"li"),F.TgZ(1,"mat-checkbox",18),F.NdJ("change",function(e){var t=F.CHM(i).$implicit;return F.oxw().changeCategory(e,t)}),F._uU(2),F.qZA(),F.qZA()}if(2&e){var n=t.$implicit;F.xp6(1),F.Q6J("checked",n.checked)("value",n.status),F.xp6(1),F.hij(" ",n.status," ")}}var le,oe=[{path:"schedule-list",component:(le=function(i){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&e(t,i)}(s,i);var a=t(s);function s(e,t,i,r){var o;return l(this,s),(o=a.call(this)).fb=e,o.dialog=t,o.calendarService=i,o.snackBar=r,o.filterOptions="All",o.calendarData=[],o.filterItems=[],o.calendarOptions={headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},initialView:"dayGridMonth",weekends:!0,editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,select:o.handleDateSelect.bind(n(o)),eventClick:o.handleEventClick.bind(n(o)),eventsSet:o.handleEvents.bind(n(o))},o.dialogTitle="Add New Event",o.calendar=new L({}),o.addCusForm=o.createCalendarForm(o.calendar),o.getScheduleList(),o}return c(s,[{key:"ngOnInit",value:function(){this.getScheduleDetails()}},{key:"getScheduleDetails",value:function(){var e=this;this.calendarData=[],this.calendarService.getScheduleDetails(sessionStorage.client).subscribe(function(t){console.log("----res['data']----",t.data);for(var i=0;i<t.data.length;i++)e.calendarData.push({title:t.data[i].status,start:new Date(t.data[i].startDate),end:new Date(t.data[i].endDate),className:t.data[i].schedule_color,id:t.data[i].id,lead_time:t.data[i].lead_time,schedule_name:t.data[i].status_id,schedule_view:t.data[i].schedule_view,assignment:t.data[i].AssignmentList,startDate:new Date(t.data[i].startDate),endDate:new Date(t.data[i].endDate)});e.calendarEvents=e.calendarData,e.tempEvents=e.calendarEvents,e.calendarOptions.events=e.calendarEvents})}},{key:"getScheduleList",value:function(){var e=this;this.calendarService.getScheduleList().subscribe(function(t){e.scheduleList=t.data;for(var i=0;i<e.scheduleList.length;i++)e.scheduleList[i].checked=!0,e.filterItems.push(e.scheduleList[i].status)})}},{key:"handleDateSelect",value:function(e){console.log("0--------0000----------",e,this.calendar),this.addNewEvent(e)}},{key:"addNewEvent",value:function(e){var t,i=this;console.log("this.calendar!!!!!!!",this.calendar),t="true"===localStorage.getItem("isRtl")?"rtl":"ltr";var n=this.dialog.open(ie,{data:{calendar:e,action:"add"},direction:t});this.subs.sink=n.afterClosed().subscribe(function(e){"submit"===e&&i.getScheduleDetails()})}},{key:"changeCategory",value:function(e,t){console.log("---------",t),e.checked?this.filterItems.push(t.status):this.filterItems.splice(this.filterItems.indexOf(t.status),1),this.filterEvent(this.filterItems)}},{key:"filterEvent",value:function(e){var t=this.calendarEvents.filter(function(t){return e.map(function(e){return e}).includes(t.title)});this.calendarOptions.events=t}},{key:"handleEventClick",value:function(e){this.eventClick(e)}},{key:"eventClick",value:function(e){var t=this;console.log("row===",e.event._def.extendedProps);var i,n={id:e.event.id,title:e.event.title,lead_time:e.event._def.extendedProps.lead_time,schedule_name:e.event._def.extendedProps.schedule_name,schedule_view:e.event._def.extendedProps.schedule_view,schedule_view_assignment:e.event._def.extendedProps.assignment,startDate:e.event.start,endDate:e.event.end};console.log("calendarData====",n),i="true"===localStorage.getItem("isRtl")?"rtl":"ltr";var a=this.dialog.open(ie,{data:{calendar:n,action:"edit"},direction:i});this.subs.sink=a.afterClosed().subscribe(function(e){"submit"===e?(t.getScheduleDetails(),t.addCusForm.reset()):"delete"===e&&t.getScheduleDetails()})}},{key:"editEvent",value:function(e,t){var i=this.calendarEvents.slice(),n=Object.assign({},i[e]);n.id=t.id,n.title=t.title,n.start=t.startDate,n.end=t.endDate,n.className="",n.groupId=t.category,n.details=t.details,i[e]=n,this.calendarEvents=i,this.calendarOptions.events=i}},{key:"handleEvents",value:function(e){}},{key:"createCalendarForm",value:function(e){return this.fb.group({id:[e.id],lead_time:[e.lead_time,[u.kI.required,u.kI.pattern("[a-zA-Z]+([a-zA-Z ]+)*")]],schedule_name:[e.schedule_name],schedule_view:[e.schedule_view],startDate:[e.startDate,[u.kI.required]],endDate:[e.endDate,[u.kI.required]]})}},{key:"showNotification",value:function(e,t,i,n){this.snackBar.open(t,"",{duration:2e3,verticalPosition:i,horizontalPosition:n,panelClass:e})}}]),s}(ne.n),le.\u0275fac=function(e){return new(e||le)(F.Y36(u.qu),F.Y36(w.uw),F.Y36(H),F.Y36(f.ux))},le.\u0275cmp=F.Xpm({type:le,selectors:[["app-add-schedule"]],viewQuery:function(e,t){var i;1&e&&F.Gf(se,5),2&e&&F.iGM(i=F.CRH())&&(t.calendar=i.first)},features:[F.qOj],decls:23,vars:5,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12","col-sm-12"],[1,"card"],[1,"card-body"],[1,"col-md-2","col-sm-12","p-l-30"],[1,"m-b-25"],[1,"filter-container"],[4,"ngFor","ngForOf"],[1,"col-md-10","col-sm-12"],[1,"panel-body"],[3,"options"],["color","primary",3,"checked","value","change"]],template:function(e,t){1&e&&(F.TgZ(0,"section",0),F.TgZ(1,"div",1),F.TgZ(2,"div",2),F.TgZ(3,"div",3),F.TgZ(4,"div",4),F.TgZ(5,"ul",5),F.TgZ(6,"li",6),F.TgZ(7,"h4",7),F._uU(8),F.ALo(9,"translate"),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.TgZ(10,"div",3),F.TgZ(11,"div",8),F.TgZ(12,"div",9),F.TgZ(13,"div",10),F.TgZ(14,"div",3),F.TgZ(15,"div",11),F._UZ(16,"div",12),F.TgZ(17,"div",13),F.TgZ(18,"ul"),F.YNc(19,re,3,3,"li",14),F.qZA(),F.qZA(),F.qZA(),F.TgZ(20,"div",15),F.TgZ(21,"div",16),F._UZ(22,"full-calendar",17),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.qZA(),F.qZA()),2&e&&(F.xp6(8),F.Oqu(F.lcZ(9,3,"SCHEDULE.TITLE")),F.xp6(11),F.Q6J("ngForOf",t.scheduleList),F.xp6(3),F.Q6J("options",t.calendarOptions))},directives:[o.sg,ae.woE,y.oG],pipes:[B.X$],styles:[""]}),le)}],ce=function(){var e=function e(){l(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=F.oAB({type:e}),e.\u0275inj=F.cJS({imports:[[x.Bz.forChild(oe)],x.Bz]}),e}(),ue=r(46739),de=r(17647),he=r(279),ve=r(9451),ge=r(85256),fe=r(52352);ae.z1U.registerPlugins([he.ZP,ve.ZP,ge.Z,fe.ZP]);var pe,me=((pe=function e(){l(this,e)}).\u0275fac=function(e){return new(e||pe)},pe.\u0275mod=F.oAB({type:pe}),pe.\u0275inj=F.cJS({providers:[H],imports:[[de.xD,V.Hi,ue.d,o.ez,u.u5,u.UX,d.p0,h.TU,v.lN,g.c,f.ZX,p.ot,m.Ps,w.Is,Z.JX,T.g0,A.LD,_.FA,y.p9,D.Nh,S.Tx,b.Ad,ce,q.Cq,k.T5,C.yI,B.aw,Y.Bb,ae.z1U,P.Ll,P.x]]}),pe)}}])}();