(self.webpackChunksmart=self.webpackChunksmart||[]).push([[5773],{85773:function(e,t,i){"use strict";i.r(t),i.d(t,{StudentScheduleModule:function(){return Ge}});var n=i(61116),s=i(31041),a=i(39199),r=i(5609),l=i(13070),o=i(9550),c=i(63589),u=i(84369),d=i(77307),h=i(13841),p=i(92935),g=i(59241),m=i(37112),Z=i(69024),f=i(40994),A=i(1325),T=i(57173),_=i(97070),S=i(87672),b=i(44716),v=i(51601),y=i(35729),x=i(97425),q=i(81258),N=i(91681),I=i(99235),D=i(35366),w=i(42693),L=i(89647),E=i(51816),U=i(529);let C=(()=>{class e{constructor(e){this.http=e,this.API_URL="assets/data/calendar.json",this.httpOptions={headers:new w.WM({"Content-Type":"application/json"})},this.dataChange=new x.X([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllCalendars(){return this.http.get(this.API_URL).pipe((0,E.K)(this.errorHandler))}deleteCalendar(e){this.dialogData=e}errorHandler(e){let t="";return t=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,console.log(t),(0,L._)(t)}getScheduleList(){return this.http.get(`${U.N.apiUrl}/webRoutes/getScheduleList`).pipe((0,N.U)(e=>e))}getAutoReceiptNumber(){return this.http.get(`${U.N.apiUrl}/applyLicense/getAutoReceiptNumber`).pipe((0,N.U)(e=>e))}getScheduleDetailsForStudent(e){return this.http.post(`${U.N.apiUrl}/webRoutes/getScheduleDetailsForStudent`,{statusid:e}).pipe((0,N.U)(e=>e))}getTimeDetails(){return this.http.get(`${U.N.apiUrl}/webRoutes/getTimeDetails`).pipe((0,N.U)(e=>e))}getSelectedScheduleInfoStudent(e,t){return this.http.post(`${U.N.apiUrl}/webRoutes/getSelectedScheduleInfoStudent`,{calendarInfo:e,enrollData:t}).pipe((0,N.U)(e=>e))}getNRICNumberForStudentSchedule(){return this.http.get(`${U.N.apiUrl}/webRoutes/getNRICNumberForStudentSchedule`).pipe((0,N.U)(e=>e))}getPassportNumberForStudentSchedule(){return this.http.get(`${U.N.apiUrl}/webRoutes/getPassportNumberForStudentSchedule`).pipe((0,N.U)(e=>e))}getEnrollmentNumberForSchedule(e){return this.http.post(`${U.N.apiUrl}/webRoutes/getEnrollmentNumberForSchedule`,{studentId:e}).pipe((0,N.U)(e=>e))}getLicenseListPerEnroll(e,t){return this.http.post(`${U.N.apiUrl}/webRoutes/getLicenseListPerEnroll`,{studentId:e,enrollId:t}).pipe((0,N.U)(e=>e))}checkPaymentDone(e){return this.http.post(`${U.N.apiUrl}/webRoutes/checkPaymentDone`,{studentInfo:e}).pipe((0,N.U)(e=>e))}checkPaymentDoneForGDLProcess(e){return this.http.post(`${U.N.apiUrl}/webRoutes/checkPaymentDoneForGDLProcess`,{studentInfo:e}).pipe((0,N.U)(e=>e))}getStudentSchedulePerEnroll(e,t){return this.http.post(`${U.N.apiUrl}/webRoutes/getStudentSchedulePerEnroll`,{studentInfo:e,statusId:t}).pipe((0,N.U)(e=>e))}setStudentScheduleInfo(e,t,i){return this.http.post(`${U.N.apiUrl}/webRoutes/setStudentScheduleInfo`,{finalArray:e,enrollData:t,rangelist:i}).pipe((0,N.U)(e=>e))}setStudentScheduleInfoForKPP01(e){return this.http.post(`${U.N.apiUrl}/webRoutes/setStudentScheduleInfoForKPP01`,{enrollData:e}).pipe((0,N.U)(e=>e))}deleteStudentSchedule(e){return this.http.post(`${U.N.apiUrl}/webRoutes/deleteStudentSchedule`,{enrollData:e}).pipe((0,N.U)(e=>e))}setPaymentDetails(e,t,i,n){return this.http.post(`${U.N.apiUrl}/webRoutes/setPaymentDetails`,{license_type:e,amountToBePaid:t,payment_type:i,reference_no:n}).pipe((0,N.U)(e=>e))}checkSessionPerWeek(e,t,i,n){return this.http.post(`${U.N.apiUrl}/webRoutes/checkSessionPerWeek`,{enrollData:e,firstday:t,lastday:i,slotSelected:n}).pipe((0,N.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(D.LFG(w.eN))},e.\u0275prov=D.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var P=i(50518),O=i(31269),k=i(7436),R=i(60649);function J(e,t){if(1&e&&(D.TgZ(0,"div",12),D.TgZ(1,"div",13),D.TgZ(2,"p",16),D.TgZ(3,"b"),D._uU(4,"Count: "),D.qZA(),D._uU(5),D.qZA(),D.qZA(),D.qZA()),2&e){const e=D.oxw();D.xp6(5),D.Oqu(e.scheduleCount)}}function F(e,t){if(1&e&&(D.TgZ(0,"div",12),D.TgZ(1,"div",13),D.TgZ(2,"mat-form-field",14),D.TgZ(3,"mat-label"),D._uU(4),D.ALo(5,"translate"),D.qZA(),D._UZ(6,"input",17),D._UZ(7,"mat-datepicker-toggle",18),D._UZ(8,"mat-datepicker",null,19),D.qZA(),D.qZA(),D.qZA()),2&e){const e=D.MAs(9);D.xp6(4),D.Oqu(D.lcZ(5,3,"SCHEDULE.LIST.SCHEDULE-DATE")),D.xp6(2),D.Q6J("matDatepicker",e),D.xp6(1),D.Q6J("for",e)}}function M(e,t){if(1&e&&(D.TgZ(0,"div",12),D.TgZ(1,"p"),D._uU(2),D.qZA(),D.qZA()),2&e){const e=D.oxw();D.xp6(2),D.Oqu(e.scheduleText)}}function Q(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"li",22),D.TgZ(1,"mat-radio-button",23),D.NdJ("change",function(t){const i=D.CHM(e).$implicit;return D.oxw(2).changeTimeDt(t,i)}),D._uU(2),D.qZA(),D.qZA()}if(2&e){const e=t.$implicit;D.xp6(1),D.Q6J("checked",e.checked)("disabled",e.disabled),D.xp6(1),D.hij(" ",e.range," ")}}function Y(e,t){if(1&e&&(D.TgZ(0,"div",12),D.TgZ(1,"label"),D._uU(2),D.ALo(3,"translate"),D.qZA(),D.TgZ(4,"div",20),D.YNc(5,Q,3,3,"li",21),D.qZA(),D.qZA()),2&e){const e=D.oxw();D.xp6(2),D.Oqu(D.lcZ(3,2,"SCHEDULE.LIST.SCHEDULE-TIME")),D.xp6(3),D.Q6J("ngForOf",e.timeArray)}}function j(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"mat-checkbox",28),D.NdJ("change",function(t){const i=D.CHM(e).$implicit,n=D.oxw().$implicit;return D.oxw(2).instructorChange(t,i,n)}),D._uU(1),D.qZA()}if(2&e){const e=t.$implicit;D.Q6J("value",e.checked)("checked",e.checked)("disabled",e.disabled),D.xp6(1),D.hij(" ",e.name," ")}}function H(e,t){1&e&&(D.TgZ(0,"li"),D.TgZ(1,"span",29),D._uU(2," -- "),D.qZA(),D.qZA())}function B(e,t){if(1&e&&(D.TgZ(0,"ul",22),D.TgZ(1,"li",24),D._uU(2),D.qZA(),D.TgZ(3,"li",25),D.YNc(4,j,2,4,"mat-checkbox",26),D.qZA(),D.YNc(5,H,3,0,"li",27),D.qZA()),2&e){const e=t.$implicit;D.xp6(2),D.Oqu(e.range),D.xp6(2),D.Q6J("ngForOf",e.employeeList),D.xp6(1),D.Q6J("ngIf",0==e.employeeList.length)}}function G(e,t){if(1&e&&(D.TgZ(0,"div",12),D.TgZ(1,"label"),D._uU(2),D.ALo(3,"translate"),D.qZA(),D.TgZ(4,"div",20),D.YNc(5,B,6,3,"ul",21),D.qZA(),D.qZA()),2&e){const e=D.oxw();D.xp6(2),D.Oqu(D.lcZ(3,2,"SCHEDULE.LIST.SELECT-INSTRUCTOR")),D.xp6(3),D.Q6J("ngForOf",e.timeArray)}}function $(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"div",31),D.TgZ(1,"button",35),D.NdJ("click",function(){return D.CHM(e),D.oxw(2).deleteStudentSchedule()}),D.TgZ(2,"mat-icon",36),D._uU(3,"delete"),D.qZA(),D.qZA(),D.qZA()}}function W(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"div",12),D.TgZ(1,"div",30),D.TgZ(2,"div",31),D.TgZ(3,"button",32),D.NdJ("click",function(){return D.CHM(e),D.oxw().setStudentScheduleInfo()}),D._uU(4),D.ALo(5,"translate"),D.qZA(),D.qZA(),D.qZA(),D.TgZ(6,"div",33),D.YNc(7,$,4,0,"div",34),D.qZA(),D.qZA()}if(2&e){const e=D.oxw();D.xp6(3),D.Q6J("type",e.submit),D.xp6(1),D.Oqu(D.lcZ(5,3,"BUTTON.ADD-BTN")),D.xp6(3),D.Q6J("ngIf",e.showDeleteBtn)}}function V(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"div",31),D.TgZ(1,"button",35),D.NdJ("click",function(){return D.CHM(e),D.oxw(2).deleteStudentSchedule()}),D.TgZ(2,"mat-icon",36),D._uU(3,"delete"),D.qZA(),D.qZA(),D.qZA()}}function z(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"div",12),D.TgZ(1,"div",30),D.TgZ(2,"div",31),D.TgZ(3,"button",37),D.NdJ("click",function(){return D.CHM(e),D.oxw().setStudentScheduleInfoForKPP01()}),D._uU(4),D.ALo(5,"translate"),D.qZA(),D.qZA(),D.qZA(),D.TgZ(6,"div",33),D.YNc(7,V,4,0,"div",34),D.qZA(),D.qZA()}if(2&e){const e=D.oxw();D.xp6(3),D.Q6J("type",e.submit)("disabled",e.disableConfirm),D.xp6(1),D.Oqu(D.lcZ(5,4,"BUTTON.CONFIRM-BTN")),D.xp6(3),D.Q6J("ngIf",e.showDeleteBtn)}}let K=(()=>{class e{constructor(e,t,i,n,s,a,r){this.dialogRef=e,this.data=t,this.calendarService=i,this.fb=n,this.toastrService=s,this.router=a,this.spinner=r,this.showDeleteBtn=!1,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[I.K5,I.OC],this.finalArray=[],this.existingArray=[],this.disableConfirm=!1,this.disableSubmit=!1,this.scheduleCount=0,this.action=t.action,this.actionData=t.calendar,this.timeArray=t.timeData,this.getScheduleList()}ngOnInit(){if("edit"===this.action){this.spinner.show(),this.dialogTitle=this.actionData.title,this.calendar=this.actionData,console.log("data.calendar============",this.calendar),this.enrollData={schedule_view:this.actionData.schedule_view,studentId:this.actionData.enrollData.student_id,enrollId:this.actionData.enrollData.enroll_id,licenseId:this.actionData.enrollData.license_id,statusId:this.actionData.statusid,scheduleDate:this.actionData.startDate};let e=[];for(let t=0;t<this.timeArray.length;t++)this.timeArray[t].employeeList=[];this.calendarService.getSelectedScheduleInfoStudent(this.actionData,this.enrollData).subscribe(t=>{if(this.scheduleCount=0,this.spinner.hide(),console.log("1111---------------",t.scheduleList,t.existingSchedule),"Success"==t.status){let n=t.scheduleList;if(e=t.existingSchedule,"All"==this.actionData.schedule_view){this.scheduleText="Schedule KPP01",this.scheduleCount=t.schedCount[0].scheduleCount,this.disableConfirm=!1;for(let e=0;e<n.length;e++)for(let t=0;t<this.timeArray.length;t++){let i=this.zeroPad(n[e].TimeSlot,this.timeArray.length);console.log("timeSlotDt====",i),1==i[t]?(this.timeArray[t].employeeList=[],this.timeArray[t].disabled=!1,this.timeArray[t].checked=!1):(this.timeArray[t].employeeList=[],this.timeArray[t].disabled=!0,this.timeArray[t].checked=!1)}if(e.length>0)if(this.finalArray=[],this.existingArray=[],this.showDeleteBtn=!0,4==e[0].status_id)this.scheduleText="KPP01 is Scheduled",this.disableConfirm=!0;else for(let t=0;t<e.length;t++)for(let i=0;i<this.timeArray.length;i++){let n=this.zeroPad(e[t].TimeSlot,this.timeArray.length);console.log("exists----timeslot-----",n),1==n[i]?(this.timeArray[i].employeeList=[],this.timeArray[i].checked=!0,this.finalArray.push(this.timeArray[i]),this.existingArray.push(this.timeArray[i])):(this.timeArray[i].employeeList=[],this.timeArray[i].checked=!1),console.log("this.timeArray==111111111111==",this.timeArray,this.finalArray)}}else{console.log("this.finalArray----------",this.finalArray);for(let e=0;e<n.length;e++)for(let t=0;t<this.timeArray.length;t++)1==this.zeroPad(n[e].TimeSlot,this.timeArray.length)[t]&&this.timeArray[t].employeeList.push({id:n[e].employee_id,name:n[e].employeeName,checked:!1});if(e.length>0){this.finalArray=[],this.existingArray=[];let t=0;for(let n=0;n<e.length;n++){t+=1==e[n].schedule_status?1:0;for(let t=0;t<this.timeArray.length;t++){let s=this.zeroPad(e[n].TimeSlot,this.timeArray.length);if(console.log("exists----timeslot-----",s),1==s[t]&&this.timeArray[t].employeeList.length>0)for(let a=0;a<this.timeArray[t].employeeList.length;a++)if(this.timeArray[t].employeeList[a].id==e[n].employee_id){this.timeArray[t].employeeList[a].checked=!0,this.timeArray[t].employeeList[a].disabled=1==e[n].schedule_status;var i=this.timeArray[t];i.schedule_status=e[n].schedule_status,i.selected=this.timeArray[t].employeeList[a],this.finalArray.push(i),this.existingArray.push(i),console.log("existing------",this.finalArray)}else this.timeArray[t].employeeList[a].checked=!1}}this.showDeleteBtn=!(t>0)}}}"Session Expired"==t.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))}),this.calendarForm=this.editContactForm()}}zeroPad(e,t){return e.toString().padStart(Number(t),"0")}clearSelection(){console.log("this.timeArray-----");for(let e=0;e<this.timeArray.length;e++)for(let t=0;t<this.timeArray[e].employeeList.length;t++)this.timeArray[e].employeeList[t].checked=!1}editContactForm(){return this.fb.group({id:[this.calendar.id],lead_time:[this.calendar.lead_time,[s.kI.required]],schedule_name:[this.calendar.schedule_name],schedule_view:[this.calendar.schedule_view],startDate:[this.calendar.startDate,[s.kI.required]],endDate:[this.calendar.endDate,[s.kI.required]],scheduleDate:[new Date(this.calendar.startDate)]})}submit(){}onNoClick(){this.dialogRef.close()}setStudentScheduleInfo(){this.spinner.show(),console.log("this.enrollData==========",this.enrollData);let e=[];for(let l=0;l<this.finalArray.length;l++)if(e.push(this.finalArray[l].range),this.finalArray[l].timeSlot="","All"==this.actionData.schedule_view)for(let e=0;e<this.timeArray.length;e++)this.finalArray[l].timeSlot=this.finalArray[l].timeSlot+(this.finalArray[l].range==this.timeArray[e].range?1:0);else for(let e=0;e<this.timeArray.length;e++)this.finalArray[l].timeSlot=this.finalArray[l].timeSlot+(this.finalArray[l].range==this.timeArray[e].range?1:0);var t=new Date(this.enrollData.scheduleDate),i=t.getDate()-t.getDay(),n=i+6,s=new Date(t.setDate(i)),a=new Date(t.setDate(n));console.log("firstday=====",s,a);var r=this.finalArray.length-this.existingArray.length;console.log("lengthToChaeck======",r,this.enrollData),this.calendarService.checkSessionPerWeek(this.enrollData,s,a,r).subscribe(t=>{if("Success"==t.status){var i=this.finalArray.filter(e=>1!=e.schedule_status);this.calendarService.setStudentScheduleInfo(i,this.enrollData,e).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(this.toastrService.success("Scheduled Successfully!!"),this.dialogRef.close("submit")),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))})}else"Session Expired"==t.status?(this.spinner.hide(),this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"])):"Exceeded"==t.status?(this.spinner.hide(),this.toastrService.warning("Per Week Only "+Number(t.noOfSession)+" hours is allowed!!!")):"onlyOnce"==t.status?(this.spinner.hide(),this.toastrService.warning("Can schedule Only Once!!!")):"slotExceed"==t.status?(this.spinner.hide(),this.toastrService.warning(t.numberOfHours+" hours is scheduled already!!!")):"currentExceed"==t.status&&(this.spinner.hide(),this.toastrService.warning("Only "+t.numberOfHours+" hours can be scheduled!!!"))})}setStudentScheduleInfoForKPP01(){this.spinner.show();var e=new Date(this.enrollData.scheduleDate),t=e.getDate()-e.getDay(),i=t+6,n=new Date(e.setDate(t)),s=new Date(e.setDate(i));console.log("firstday=====",n,s);var a=this.finalArray.length-this.existingArray.length;console.log("lengthToChaeck======",a),this.calendarService.checkSessionPerWeek(this.enrollData,n,s,a).subscribe(e=>{"Success"==e.status?this.calendarService.setStudentScheduleInfoForKPP01(this.enrollData).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(this.toastrService.success("Scheduled Successfully!!"),this.dialogRef.close("submit")),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))}):"onlyOnce"==e.status?(this.spinner.hide(),this.toastrService.warning("Can schedule Only Once!!!")):"Session Expired"==e.status?(this.spinner.hide(),this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"])):(this.spinner.hide(),this.toastrService.warning("Per Week Only "+Number(e.noOfSession)+" hours is allowed!!!"))})}deleteStudentSchedule(){this.calendarService.deleteStudentSchedule(this.enrollData).subscribe(e=>{"Success"==e.status&&(this.toastrService.success("Deleted Successfully!!"),this.dialogRef.close("submit")),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))})}displayFn(e){return e&&e.name?e.name:""}instructorChange(e,t,i){var n=this.timeArray.filter(e=>e.range==i.range)[0];if(console.log("event.value========",e.checked,t,i),this.removeById(this.finalArray,i.range),1==e.checked){for(let e=0;e<i.employeeList.length;e++)t.id==i.employeeList[e].id?(i.employeeList[e].checked=!0,n.selected=t):i.employeeList[e].checked=!1;this.finalArray.some(e=>e.range==i.range)||this.finalArray.push(n)}console.log("this.finalArray=====",this.finalArray)}removeById(e,t){const i=e.findIndex(e=>(console.log("el.range----",e.range,t),e.range==t));return-1!==i&&(console.log("requiredIndex===",i),e.splice(i,1))}changeTimeDt(e,t){console.log("---------",e,t);var i=this.timeArray.filter(e=>e.range==t.range)[0];console.log("event.value========",e),i.selected=e.value,this.finalArray=[],this.finalArray.some(e=>e.range==t.range)||this.finalArray.push(i),console.log("this.filteredTimeArray---change------",this.finalArray)}getScheduleList(){this.calendarService.getScheduleList().subscribe(e=>{this.scheduleList=e.data})}}return e.\u0275fac=function(t){return new(t||e)(D.Y36(p.so),D.Y36(p.WI),D.Y36(C),D.Y36(s.qu),D.Y36(P._W),D.Y36(y.F0),D.Y36(O.t2))},e.\u0275cmp=D.Xpm({type:e,selectors:[["app-form-dialog"]],decls:30,vars:12,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],[1,"font-weight-bold","p-t-5","p-l-10","font-17"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"formGroup"],["class","row",4,"ngIf"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","schedule_name","readonly",""],[2,"float","right"],["matInput","","formControlName","scheduleDate","disabled","",3,"matDatepicker"],["matSuffix","",3,"for"],["schPicker",""],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12"],["style","list-style: none;",4,"ngFor","ngForOf"],[2,"list-style","none"],["color","primary",2,"margin","5px 0 !important",3,"checked","disabled","change"],[2,"font-weight","600"],[1,"alignRow"],["class","example-margin","style","padding: 5px;margin-left: 16px;flex-direction: row !important;","color","primary",3,"value","checked","disabled","change",4,"ngFor","ngForOf"],[4,"ngIf"],["color","primary",1,"example-margin",2,"padding","5px","margin-left","16px","flex-direction","row !important",3,"value","checked","disabled","change"],[2,"padding","5px","margin-left","16px"],[1,"col-xl-9","col-lg-9","col-md-12","col-sm-12"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"type","click"],[1,"col-xl-2","col-lg-2","col-md-12","col-sm-12"],["class","example-button-row",4,"ngIf"],["mat-mini-fab","","aria-label","","color","warn",3,"click"],[1,"font-20"],["mat-raised-button","","color","primary",3,"type","disabled","click"]],template:function(e,t){1&e&&(D.TgZ(0,"ngx-spinner",0),D.TgZ(1,"p",1),D._uU(2,"Loading..."),D.qZA(),D.qZA(),D.TgZ(3,"div",2),D.TgZ(4,"div",3),D.TgZ(5,"div",4),D.TgZ(6,"div",5),D.TgZ(7,"div",6),D.TgZ(8,"div",7),D._uU(9),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.TgZ(10,"button",8),D.NdJ("click",function(){return t.dialogRef.close()}),D.TgZ(11,"mat-icon"),D._uU(12,"close"),D.qZA(),D.qZA(),D.qZA(),D.TgZ(13,"div",9),D.TgZ(14,"form",10),D.YNc(15,J,6,1,"div",11),D.TgZ(16,"div",12),D.TgZ(17,"div",13),D.TgZ(18,"mat-form-field",14),D.TgZ(19,"mat-label"),D._uU(20),D.ALo(21,"translate"),D.qZA(),D._UZ(22,"input",15),D.qZA(),D.qZA(),D.qZA(),D.YNc(23,F,10,5,"div",11),D.YNc(24,M,3,1,"div",11),D.YNc(25,Y,6,4,"div",11),D.YNc(26,G,6,4,"div",11),D._UZ(27,"br"),D.YNc(28,W,8,5,"div",11),D.YNc(29,z,8,6,"div",11),D.qZA(),D.qZA(),D.qZA()),2&e&&(D.xp6(9),D.hij(" Schedule ",t.dialogTitle,""),D.xp6(5),D.Q6J("formGroup",t.calendarForm),D.xp6(1),D.Q6J("ngIf","All"==t.calendar.schedule_view),D.xp6(5),D.Oqu(D.lcZ(21,10,"SCHEDULE.LIST.SCHEDULE")),D.xp6(3),D.Q6J("ngIf","All"==t.calendar.schedule_view&&4==t.actionData.statusid),D.xp6(1),D.Q6J("ngIf","All"==t.calendar.schedule_view&&4==t.actionData.statusid),D.xp6(1),D.Q6J("ngIf","All"==t.calendar.schedule_view&&4!=t.actionData.statusid),D.xp6(1),D.Q6J("ngIf","All"!=t.calendar.schedule_view),D.xp6(2),D.Q6J("ngIf",4!=t.actionData.statusid),D.xp6(1),D.Q6J("ngIf",4==t.actionData.statusid))},directives:[O.Ro,u.lW,d.Hw,p.xY,s._Y,s.JL,s.sg,n.O5,l.KE,l.hX,o.Nt,s.Fj,s.JJ,s.u,Z.hl,Z.nW,l.R9,Z.Mq,n.sg,k.U0,f.oG],pipes:[R.X$],styles:[".alignRow[_ngcontent-%COMP%]{list-style:none;display:flex;flex-wrap:nowrap;flex-direction:row}"]}),e})();class X{constructor(e){this.id=e.id||this.getRandomID(),this.lead_time=e.lead_time||"",this.schedule_name=e.schedule_name||"",this.schedule_owner=e.schedule_owner||"",this.schedule_view=e.schedule_view||"",this.schedule_view_assignment=e.schedule_view_assignment||"",this.startDate=(0,n.p6)(new Date,"yyyy-MM-dd","en")||"",this.endDate=(0,n.p6)(new Date,"yyyy-MM-dd","en")||""}getRandomID(){const e=()=>(65536*(1+Math.random())|0).toString(16).substring(1);return e()+e()}}var ee=i(60352),te=i(31669),ie=i(24486),ne=i(2867),se=i(79961),ae=i(87064),re=i(11757);const le=["licenceInput"],oe=["calendar"];function ce(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"button",19),D.NdJ("click",function(t){D.CHM(e);const i=D.oxw();return i.clearInput(t,i.nric_number,"nric_number")}),D.TgZ(1,"mat-icon"),D._uU(2,"clear"),D.qZA(),D.qZA()}}function ue(e,t){if(1&e&&(D.TgZ(0,"mat-option",32),D._uU(1),D.qZA()),2&e){const e=t.$implicit;D.Q6J("value",e),D.xp6(1),D.hij(" ",e.nric_number," ")}}function de(e,t){if(1&e&&(D.TgZ(0,"div"),D._uU(1),D.qZA()),2&e){const e=D.oxw().$implicit;D.xp6(1),D.hij(" ",e.message," ")}}function he(e,t){if(1&e&&(D.TgZ(0,"mat-error"),D.YNc(1,de,2,1,"div",33),D.qZA()),2&e){const e=t.$implicit,i=D.oxw();D.xp6(1),D.Q6J("ngIf",i.nric_number.hasError(e.type))}}function pe(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"button",19),D.NdJ("click",function(t){D.CHM(e);const i=D.oxw();return i.clearInput(t,i.passport_number,"passport_number")}),D.TgZ(1,"mat-icon"),D._uU(2,"clear"),D.qZA(),D.qZA()}}function ge(e,t){if(1&e&&(D.TgZ(0,"mat-option",32),D._uU(1),D.qZA()),2&e){const e=t.$implicit;D.Q6J("value",e),D.xp6(1),D.hij(" ",e.passport_number," ")}}function me(e,t){if(1&e&&(D.TgZ(0,"div"),D._uU(1),D.qZA()),2&e){const e=D.oxw().$implicit;D.xp6(1),D.hij(" ",e.message," ")}}function Ze(e,t){if(1&e&&(D.TgZ(0,"mat-error"),D.YNc(1,me,2,1,"div",33),D.qZA()),2&e){const e=t.$implicit,i=D.oxw();D.xp6(1),D.Q6J("ngIf",i.passport_number.hasError(e.type))}}function fe(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"button",19),D.NdJ("click",function(t){D.CHM(e);const i=D.oxw(2);return i.clearInput(t,i.enrollment_no,"enrollment_no")}),D.TgZ(1,"mat-icon"),D._uU(2,"clear"),D.qZA(),D.qZA()}}function Ae(e,t){if(1&e&&(D.TgZ(0,"mat-option",32),D._uU(1),D.qZA()),2&e){const e=t.$implicit;D.Q6J("value",e),D.xp6(1),D.hij(" ",e.enrollment_no," ")}}function Te(e,t){if(1&e&&(D.TgZ(0,"div"),D._uU(1),D.qZA()),2&e){const e=D.oxw().$implicit;D.xp6(1),D.hij(" ",e.message," ")}}function _e(e,t){if(1&e&&(D.TgZ(0,"mat-error"),D.YNc(1,Te,2,1,"div",33),D.qZA()),2&e){const e=t.$implicit,i=D.oxw(2);D.xp6(1),D.Q6J("ngIf",i.enrollment_no.hasError(e.type))}}function Se(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"div",13),D.TgZ(1,"mat-form-field",14),D.TgZ(2,"mat-label"),D._uU(3),D.ALo(4,"translate"),D.qZA(),D._UZ(5,"input",15,34),D.TgZ(7,"div",17),D.YNc(8,fe,3,0,"button",18),D.TgZ(9,"button",19),D.NdJ("click",function(t){D.CHM(e);const i=D.MAs(6);return D.oxw().openOrClosePanel(t,i)}),D.TgZ(10,"mat-icon"),D._uU(11),D.qZA(),D.qZA(),D.qZA(),D.TgZ(12,"mat-autocomplete",20,35),D.NdJ("closed",function(){return D.CHM(e),D.oxw().arrowIconSubject.next("arrow_drop_down")})("opened",function(){return D.CHM(e),D.oxw().arrowIconSubject.next("arrow_drop_up")})("optionSelected",function(t){D.CHM(e);const i=D.oxw();return i.getLicenseListPerEnroll(t),i.arrowIconSubject.next("arrow_drop_down")}),D.YNc(14,Ae,2,2,"mat-option",22),D.ALo(15,"async"),D.qZA(),D.YNc(16,_e,2,1,"mat-error",23),D.qZA(),D.qZA()}if(2&e){const e=D.MAs(13),t=D.oxw();D.xp6(3),D.Oqu(D.lcZ(4,8,"SCHEDULE.TRANSACTION-NUMBER")),D.xp6(2),D.Q6J("formControl",t.enrollment_no)("matAutocomplete",e),D.xp6(3),D.Q6J("ngIf",null!==(null==t.enrollment_no?null:t.enrollment_no.value)&&""!==(null==t.enrollment_no?null:t.enrollment_no.value)),D.xp6(3),D.Oqu(t.arrowIconSubject.getValue()),D.xp6(1),D.Q6J("displayWith",t.displayFnTransactionNumber),D.xp6(2),D.Q6J("ngForOf",D.lcZ(15,10,t.tranNumberList)),D.xp6(2),D.Q6J("ngForOf",t.validation_msgs.enrollment_no)}}function be(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"button",19),D.NdJ("click",function(t){D.CHM(e);const i=D.oxw(2);return i.clearInput(t,i.license_type,"license_type")}),D.TgZ(1,"mat-icon"),D._uU(2,"clear"),D.qZA(),D.qZA()}}function ve(e,t){if(1&e&&(D.TgZ(0,"mat-option",32),D._uU(1),D.qZA()),2&e){const e=t.$implicit;D.Q6J("value",e),D.xp6(1),D.hij(" ",e.license_class," ")}}function ye(e,t){if(1&e&&(D.TgZ(0,"div"),D._uU(1),D.qZA()),2&e){const e=D.oxw().$implicit;D.xp6(1),D.hij(" ",e.message," ")}}function xe(e,t){if(1&e&&(D.TgZ(0,"mat-error"),D.YNc(1,ye,2,1,"div",33),D.qZA()),2&e){const e=t.$implicit,i=D.oxw(2);D.xp6(1),D.Q6J("ngIf",i.enrollment_no.hasError(e.type))}}function qe(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"div",13),D.TgZ(1,"mat-form-field",14),D.TgZ(2,"mat-label"),D._uU(3),D.ALo(4,"translate"),D.qZA(),D._UZ(5,"input",15,36),D.TgZ(7,"div",17),D.YNc(8,be,3,0,"button",18),D.TgZ(9,"button",19),D.NdJ("click",function(t){D.CHM(e);const i=D.MAs(6);return D.oxw().openOrClosePanel(t,i)}),D.TgZ(10,"mat-icon"),D._uU(11),D.qZA(),D.qZA(),D.qZA(),D.TgZ(12,"mat-autocomplete",20,35),D.NdJ("closed",function(){return D.CHM(e),D.oxw().arrowIconSubject.next("arrow_drop_down")})("opened",function(){return D.CHM(e),D.oxw().arrowIconSubject.next("arrow_drop_up")})("optionSelected",function(){D.CHM(e);const t=D.oxw();return t.checkPaymentInfo(),t.arrowIconSubject.next("arrow_drop_down")}),D.YNc(14,ve,2,2,"mat-option",22),D.ALo(15,"async"),D.qZA(),D.YNc(16,xe,2,1,"mat-error",23),D.qZA(),D.qZA()}if(2&e){const e=D.MAs(13),t=D.oxw();D.xp6(3),D.Oqu(D.lcZ(4,8,"SCHEDULE.LICENSE-CLASS")),D.xp6(2),D.Q6J("formControl",t.license_type)("matAutocomplete",e),D.xp6(3),D.Q6J("ngIf",null!==(null==t.license_type?null:t.license_type.value)&&""!==(null==t.license_type?null:t.license_type.value)),D.xp6(3),D.Oqu(t.arrowIconSubject.getValue()),D.xp6(1),D.Q6J("displayWith",t.displayFnLicenseClass),D.xp6(2),D.Q6J("ngForOf",D.lcZ(15,10,t.licenseTypeList)),D.xp6(2),D.Q6J("ngForOf",t.validation_msgs.enrollment_no)}}function Ne(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"div",37),D.TgZ(1,"button",38),D.NdJ("click",function(){D.CHM(e);const t=D.oxw(),i=D.MAs(64);return t.showStudent(i)}),D._uU(2),D.ALo(3,"translate"),D.qZA(),D.qZA()}2&e&&(D.xp6(2),D.Oqu(D.lcZ(3,1,"BUTTON.VIEW-STUDENT")))}function Ie(e,t){if(1&e&&(D.TgZ(0,"div",37),D.TgZ(1,"span",39),D._uU(2),D.qZA(),D.qZA()),2&e){const e=D.oxw();D.xp6(2),D.Oqu(e.currentStatus)}}function De(e,t){1&e&&D._UZ(0,"div",40)}function we(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"div",10),D.TgZ(1,"p",41),D._uU(2),D.ALo(3,"translate"),D.TgZ(4,"b"),D._uU(5),D.qZA(),D.qZA(),D.TgZ(6,"div",42),D.TgZ(7,"button",38),D.NdJ("click",function(){D.CHM(e);const t=D.oxw(),i=D.MAs(62);return t.showPayment(i)}),D._uU(8),D.ALo(9,"translate"),D.qZA(),D.qZA(),D.qZA()}if(2&e){const e=D.oxw();D.xp6(2),D.hij("",D.lcZ(3,3,"SCHEDULE.LIST.MAKE-PAYMENT")," "),D.xp6(3),D.Oqu(e.upcomingStatus.status),D.xp6(3),D.Oqu(D.lcZ(9,5,"BUTTON.PAYMENT"))}}function Le(e,t){if(1&e&&(D.TgZ(0,"div",10),D.TgZ(1,"div",43),D._UZ(2,"full-calendar",44),D.qZA(),D.qZA()),2&e){const e=D.oxw();D.xp6(2),D.Q6J("options",e.calendarOptions)}}function Ee(e,t){1&e&&(D.TgZ(0,"div",10),D.TgZ(1,"div",42),D.TgZ(2,"p"),D._uU(3),D.ALo(4,"translate"),D.qZA(),D.qZA(),D.qZA()),2&e&&(D.xp6(3),D.Oqu(D.lcZ(4,1,"SCHEDULE.LIST.NO-SCHEDULE")))}function Ue(e,t){if(1&e&&(D.TgZ(0,"div",10),D.TgZ(1,"div",42),D.TgZ(2,"p"),D._uU(3),D.qZA(),D.qZA(),D.qZA()),2&e){const e=D.oxw();D.xp6(3),D.AsE("Waiting For ",e.waitingLicense," Status!!. Please Update the ",e.waitingLicense," Status")}}function Ce(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"div",45),D.TgZ(1,"h4",46),D.TgZ(2,"div",47),D.TgZ(3,"div",48),D.TgZ(4,"div",49),D._uU(5),D.ALo(6,"translate"),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.TgZ(7,"button",50),D.NdJ("click",function(){return D.CHM(e).$implicit.dismiss("Cross click")}),D.TgZ(8,"span",51),D.TgZ(9,"i",52),D._uU(10,"close"),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.TgZ(11,"div",53),D.TgZ(12,"div",5),D.TgZ(13,"div",54),D.TgZ(14,"mat-form-field",55),D.TgZ(15,"mat-label"),D._uU(16),D.ALo(17,"translate"),D.qZA(),D.TgZ(18,"input",56),D.NdJ("ngModelChange",function(t){return D.CHM(e),D.oxw().amountToBePaid=t}),D.qZA(),D.qZA(),D.TgZ(19,"div",57),D.TgZ(20,"mat-label"),D._uU(21),D.ALo(22,"translate"),D.qZA(),D.TgZ(23,"mat-radio-group",58),D.TgZ(24,"mat-radio-button",59),D.NdJ("click",function(){return D.CHM(e),D.oxw().changePaymentType()}),D._uU(25),D.ALo(26,"translate"),D.qZA(),D.TgZ(27,"mat-radio-button",60),D.NdJ("click",function(){return D.CHM(e),D.oxw().changePaymentType()}),D._uU(28),D.ALo(29,"translate"),D.qZA(),D.TgZ(30,"mat-radio-button",61),D.NdJ("click",function(){return D.CHM(e),D.oxw().changePaymentType()}),D._uU(31),D.ALo(32,"translate"),D.qZA(),D.qZA(),D.qZA(),D.TgZ(33,"div",54),D.TgZ(34,"mat-form-field",55),D.TgZ(35,"mat-label"),D._uU(36),D.ALo(37,"translate"),D.qZA(),D._UZ(38,"input",62),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.TgZ(39,"div",63),D.TgZ(40,"div",64),D.TgZ(41,"button",65),D.NdJ("click",function(){return D.CHM(e),D.oxw().setPaymentDetails()}),D._uU(42),D.ALo(43,"translate"),D.qZA(),D.TgZ(44,"button",66),D.NdJ("click",function(){return D.CHM(e).$implicit.close()}),D._uU(45),D.ALo(46,"translate"),D.qZA(),D.qZA(),D.qZA(),D.qZA()}if(2&e){const e=D.oxw();D.xp6(5),D.hij(" ",D.lcZ(6,14,"PENDING-REPORT.PAYMENT"),""),D.xp6(11),D.Oqu(D.lcZ(17,16,"PENDING-REPORT.LIST.AMOUNT-TO-PAY")),D.xp6(2),D.Q6J("ngModel",e.amountToBePaid),D.xp6(3),D.Oqu(D.lcZ(22,18,"PENDING-REPORT.LIST.PAYMENT-TYPE")),D.xp6(2),D.Q6J("formControl",e.payment_type),D.xp6(2),D.hij(" ",D.lcZ(26,20,"PENDING-REPORT.LIST.CASH")," "),D.xp6(3),D.hij(" ",D.lcZ(29,22,"PENDING-REPORT.LIST.CARD")," "),D.xp6(3),D.hij(" ",D.lcZ(32,24,"PENDING-REPORT.LIST.CHEQUE")," "),D.xp6(5),D.Oqu(D.lcZ(37,26,"Cash"==e.payment_type.value?"PENDING-REPORT.LIST.RECEIPT-NO":"Cheque"==e.payment_type.value?"PENDING-REPORT.LIST.CHEQUE-NO":"PENDING-REPORT.LIST.TRANSACTION-NO")),D.xp6(2),D.Q6J("formControl",e.reference_no)("readonly",e.disableReference),D.xp6(3),D.Q6J("disabled",!e.reference_no.valid),D.xp6(1),D.Oqu(D.lcZ(43,28,"BUTTON.CONFIRM-BTN")),D.xp6(3),D.Oqu(D.lcZ(46,30,"BUTTON.CLOSE-BTN"))}}function Pe(e,t){if(1&e&&(D.TgZ(0,"li"),D.TgZ(1,"p"),D.TgZ(2,"span",68),D.TgZ(3,"b"),D._uU(4),D.ALo(5,"translate"),D.qZA(),D.qZA(),D.TgZ(6,"span"),D._uU(7),D.qZA(),D.qZA(),D.qZA()),2&e){const e=D.oxw(2);D.xp6(4),D.hij("",D.lcZ(5,2,"STUDENT-REGISTRATION.LIST.PASSPORT"),": "),D.xp6(3),D.Oqu(e.studentInfo.passport_number)}}function Oe(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"div",45),D.TgZ(1,"h4",46),D.TgZ(2,"div",47),D.TgZ(3,"div",48),D.TgZ(4,"div",49),D._uU(5),D.ALo(6,"translate"),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.TgZ(7,"button",50),D.NdJ("click",function(){return D.CHM(e).$implicit.dismiss("Cross click")}),D.TgZ(8,"span",51),D.TgZ(9,"i",52),D._uU(10,"close"),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.TgZ(11,"div",53),D.TgZ(12,"h5",41),D._uU(13),D.ALo(14,"translate"),D.qZA(),D.TgZ(15,"ul",67),D.TgZ(16,"li"),D.TgZ(17,"p"),D.TgZ(18,"span",68),D.TgZ(19,"b"),D._uU(20),D.ALo(21,"translate"),D.qZA(),D.qZA(),D.TgZ(22,"span"),D._uU(23),D.qZA(),D.qZA(),D.qZA(),D.TgZ(24,"li"),D.TgZ(25,"p"),D.TgZ(26,"span",68),D.TgZ(27,"b"),D._uU(28),D.ALo(29,"translate"),D.qZA(),D.qZA(),D.TgZ(30,"span"),D._uU(31),D.qZA(),D.qZA(),D.qZA(),D.YNc(32,Pe,8,4,"li",33),D.TgZ(33,"li"),D.TgZ(34,"p"),D.TgZ(35,"span",68),D.TgZ(36,"b"),D._uU(37),D.ALo(38,"translate"),D.qZA(),D.qZA(),D.TgZ(39,"span"),D._uU(40),D.ALo(41,"date"),D.qZA(),D.qZA(),D.qZA(),D.TgZ(42,"li"),D.TgZ(43,"p"),D.TgZ(44,"span",68),D.TgZ(45,"b"),D._uU(46),D.ALo(47,"translate"),D.qZA(),D.qZA(),D.TgZ(48,"span"),D._uU(49),D.qZA(),D.qZA(),D.qZA(),D.TgZ(50,"li"),D.TgZ(51,"p"),D.TgZ(52,"span",68),D.TgZ(53,"b"),D._uU(54),D.ALo(55,"translate"),D.qZA(),D.qZA(),D.TgZ(56,"span"),D._uU(57),D.qZA(),D.qZA(),D.qZA(),D.TgZ(58,"li"),D.TgZ(59,"p"),D.TgZ(60,"span",68),D.TgZ(61,"b"),D._uU(62),D.ALo(63,"translate"),D.qZA(),D.qZA(),D.TgZ(64,"span"),D._uU(65),D.qZA(),D.qZA(),D.qZA(),D.TgZ(66,"li"),D.TgZ(67,"p"),D.TgZ(68,"span",68),D.TgZ(69,"b"),D._uU(70),D.ALo(71,"translate"),D.qZA(),D.qZA(),D.TgZ(72,"span"),D._uU(73),D.qZA(),D.qZA(),D.qZA(),D.TgZ(74,"li"),D.TgZ(75,"p"),D.TgZ(76,"span",68),D.TgZ(77,"b"),D._uU(78),D.ALo(79,"translate"),D.qZA(),D.qZA(),D.TgZ(80,"span"),D._uU(81),D.qZA(),D.qZA(),D.qZA(),D.TgZ(82,"li"),D.TgZ(83,"p"),D.TgZ(84,"span",68),D.TgZ(85,"b"),D._uU(86),D.ALo(87,"translate"),D.qZA(),D.qZA(),D.TgZ(88,"span"),D._uU(89),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.TgZ(90,"h5",41),D._uU(91),D.ALo(92,"translate"),D.qZA(),D.TgZ(93,"ul",67),D.TgZ(94,"li"),D.TgZ(95,"p"),D.TgZ(96,"span",68),D.TgZ(97,"b"),D._uU(98),D.ALo(99,"translate"),D.qZA(),D.qZA(),D._UZ(100,"span",69),D.qZA(),D.qZA(),D.TgZ(101,"li"),D.TgZ(102,"p"),D.TgZ(103,"span",68),D.TgZ(104,"b"),D._uU(105),D.ALo(106,"translate"),D.qZA(),D.qZA(),D.TgZ(107,"span"),D._uU(108),D.qZA(),D.qZA(),D.qZA(),D.TgZ(109,"li"),D.TgZ(110,"p"),D.TgZ(111,"span",68),D.TgZ(112,"b"),D._uU(113),D.ALo(114,"translate"),D.qZA(),D.qZA(),D._UZ(115,"span",69),D.qZA(),D.qZA(),D.TgZ(116,"li"),D.TgZ(117,"p"),D.TgZ(118,"span",68),D.TgZ(119,"b"),D._uU(120),D.ALo(121,"translate"),D.qZA(),D.qZA(),D.TgZ(122,"span"),D._uU(123),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.TgZ(124,"div",63),D.TgZ(125,"div",64),D.TgZ(126,"button",66),D.NdJ("click",function(){return D.CHM(e).$implicit.close()}),D._uU(127),D.ALo(128,"translate"),D.qZA(),D.qZA(),D.qZA()}if(2&e){const e=D.oxw();D.xp6(5),D.hij(" ",D.lcZ(6,31,"PENDING-REPORT.SUBTITLE"),""),D.xp6(8),D.Oqu(D.lcZ(14,33,"PENDING-REPORT.SUBTITLE1")),D.xp6(7),D.hij("",D.lcZ(21,35,"STUDENT-REGISTRATION.LIST.NAME"),": "),D.xp6(3),D.Oqu(e.studentInfo.name),D.xp6(5),D.hij("",D.lcZ(29,37,"STUDENT-REGISTRATION.LIST.NRIC"),": "),D.xp6(3),D.Oqu(e.studentInfo.nric_number),D.xp6(1),D.Q6J("ngIf",e.studentInfo.passport_number),D.xp6(5),D.hij("",D.lcZ(38,39,"STUDENT-REGISTRATION.LIST.DOB"),": "),D.xp6(3),D.Oqu(D.xi3(41,41,e.studentInfo.date_of_birth,"dd/MM/yyyy")),D.xp6(6),D.hij("",D.lcZ(47,44,"STUDENT-REGISTRATION.LIST.GENDER"),": "),D.xp6(3),D.Oqu(e.studentInfo.gender),D.xp6(5),D.hij("",D.lcZ(55,46,"STUDENT-REGISTRATION.LIST.IC-ADDRESS"),": "),D.xp6(3),D.Oqu(e.studentInfo.address_nric),D.xp6(5),D.hij("",D.lcZ(63,48,"STUDENT-REGISTRATION.LIST.CITY"),": "),D.xp6(3),D.Oqu(e.studentInfo.city),D.xp6(5),D.hij("",D.lcZ(71,50,"STUDENT-REGISTRATION.LIST.STATE"),": "),D.xp6(3),D.Oqu(e.studentInfo.state),D.xp6(5),D.hij("",D.lcZ(79,52,"STUDENT-REGISTRATION.LIST.EMAIL"),": "),D.xp6(3),D.Oqu(e.studentInfo.email_id),D.xp6(5),D.hij("",D.lcZ(87,54,"STUDENT-REGISTRATION.LIST.MOBILENO"),": "),D.xp6(3),D.Oqu(e.studentInfo.mobile_number),D.xp6(2),D.Oqu(D.lcZ(92,56,"PENDING-REPORT.SUBTITLE2")),D.xp6(7),D.hij("",D.lcZ(99,58,"PENDING-REPORT.LIST.LICENSE-CLASS"),": "),D.xp6(2),D.Q6J("innerHTML",e.LicenseData,D.oJD),D.xp6(5),D.hij("",D.lcZ(106,60,"PENDING-REPORT.LIST.PACKAGE-NAME"),": "),D.xp6(3),D.Oqu(e.licenseinfo[0].package_name),D.xp6(5),D.hij("",D.lcZ(114,62,"PENDING-REPORT.LIST.PACKAGE-DESCRIPTION"),": "),D.xp6(2),D.Q6J("innerHTML",e.licenseinfo[0].package_description,D.oJD),D.xp6(5),D.hij("",D.lcZ(121,64,"PENDING-REPORT.LIST.PACKAGE-OFFERS"),": "),D.xp6(3),D.Oqu(e.licenseinfo[0].package_offers),D.xp6(4),D.Oqu(D.lcZ(128,66,"BUTTON.CLOSE-BTN"))}}const ke=[{path:"schedule-list",component:(()=>{class e extends ee.n{constructor(e,t,i,n,a,r,l,o,c){super(),this.fb=e,this.dialog=t,this.calendarService=i,this.snackBar=n,this.spinner=a,this.router=r,this.toastrService=l,this.modalService=o,this.deviceService=c,this.arrowIconSubject=new x.X("arrow_drop_down"),this.filterOptions="All",this.calendarData=[],this.filterItems=[],this.LicenseData=[],this.translateVal="ml"==localStorage.lang?"malay":"english",this.payment_type=new s.NI("Cash"),this.reference_no=new s.NI(""),this.nric_number=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null]}),this.passport_number=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null]}),this.enrollment_no=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null]}),this.license_type=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null]}),this.validation_msgs={nric_number:[{type:"invalidAutocompleteObject",message:"NRIC Number not recognized. Click one of the options."}],passport_number:[{type:"invalidAutocompleteObject",message:"Passport Number not recognized. Click one of the options."}],enrollment_no:[{type:"invalidAutocompleteObject",message:"Transaction Number not recognized. Click one of the options."}],license_type:[{type:"invalidAutocompleteObject",message:"License Class not recognized. Click one of the options."}]},this.disableReference=!0,this.calendarOptions={headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},initialView:this.deviceService.isDesktop()?"dayGridMonth":"listWeek",displayEventTime:!1,weekends:!0,editable:!0,selectMirror:!0,dayMaxEvents:!0,eventClick:this.handleEventClick.bind(this),eventsSet:this.handleEvents.bind(this)},this.dialogTitle="Add New Event",this.calendar=new X({}),this.addCusForm=this.createCalendarForm(this.calendar),this.getScheduleList()}clearInput(e,t,i){var n;e.stopPropagation(),console.log("inputType====",i),null==t||t.setValue(""),"nric_number"==i||"passport_number"==i?(this.enrollment_no.setValue(""),this.license_type.setValue(""),this.currentStatus="",this.LicenseData=[],this.calendarData=[],this.waitingLicense=""):"enrollment_no"==i?(this.license_type.setValue(""),this.currentStatus="",this.LicenseData=[],this.calendarData=[],this.waitingLicense=""):"license_type"==i&&(this.LicenseData=[],this.currentStatus="",this.calendarData=[],this.waitingLicense=""),null===(n=this.licenceInput)||void 0===n||n.nativeElement.focus()}openOrClosePanel(e,t){e.stopPropagation(),t.panelOpen?t.closePanel():t.openPanel()}ngOnInit(){this.getNRICNumberForStudentSchedule(),this.getPassportNumberForStudentSchedule(),this.getTimeDetails()}getNRICNumberForStudentSchedule(){this.calendarService.getNRICNumberForStudentSchedule().subscribe(e=>{this.nricNumberData=e,this.nricNumberList=this.nric_number.valueChanges.pipe((0,q.O)(""),(0,N.U)(e=>"string"==typeof e?e:e.nric_number),(0,N.U)(e=>e?this._filterNricNumber(e):this.nricNumberData.slice()))})}getPassportNumberForStudentSchedule(){this.calendarService.getPassportNumberForStudentSchedule().subscribe(e=>{this.passportNumberData=e,this.passportNumberList=this.passport_number.valueChanges.pipe((0,q.O)(""),(0,N.U)(e=>"string"==typeof e?e:e.passport_number),(0,N.U)(e=>e?this._filterPassportNumber(e):this.passportNumberData.slice()))})}getScheduleList(){this.calendarService.getScheduleList().subscribe(e=>{this.scheduleList=e.data;for(let t=0;t<this.scheduleList.length;t++)this.scheduleList[t].checked=!0,this.filterItems.push(this.scheduleList[t].status)})}displayFnNRICNUmber(e){return e&&e.nric_number?e.nric_number:""}displayFnPassportNumber(e){return e&&e.passport_number?e.passport_number:""}displayFnTransactionNumber(e){return console.log("user===",e),e&&e.enrollment_no?e.enrollment_no:""}displayFnLicenseClass(e){return console.log("user===",e),e&&e.license_class?e.license_class:""}_filterNricNumber(e){const t=e.toLowerCase();return this.nricNumberData.filter(e=>e.nric_number.toLowerCase().includes(t))}_filterPassportNumber(e){const t=e.toLowerCase();return this.passportNumberData.filter(e=>e.passport_number.toLowerCase().includes(t))}_filterTranNumber(e){const t=e.toLowerCase();return this.tranNumberData.filter(e=>e.enrollment_no.toLowerCase().includes(t))}_filterLicenseClass(e){const t=e.toLowerCase();return this.licenseTypeData.filter(e=>e.license_type.toLowerCase().includes(t))}handleEventClick(e){this.eventClick(e)}eventClick(e){const t={id:e.event.id,title:e.event.title,lead_time:e.event._def.extendedProps.lead_time,statusid:e.event._def.extendedProps.statusid,schedule_name:e.event._def.extendedProps.schedule_name,schedule_view:e.event._def.extendedProps.schedule_view,schedule_view_assignment:e.event._def.extendedProps.employeeName,startDate:e.event.start,endDate:e.event.end,enrollData:this.enrollDetails};let i;i="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.getTimeDetails();const n=this.dialog.open(K,{data:{calendar:t,timeData:this.timeArray,action:"edit"},direction:i});this.subs.sink=n.afterClosed().subscribe(e=>{"submit"===e&&this.addCusForm.reset()})}editEvent(e,t){const i=this.calendarEvents.slice(),n=Object.assign({},i[e]);n.id=t.id,n.title=t.title,n.start=t.startDate,n.end=t.endDate,n.className="",n.groupId=t.category,n.details=t.details,i[e]=n,this.calendarEvents=i,this.calendarOptions.events=i}handleEvents(e){}createCalendarForm(e){return this.fb.group({id:[e.id],lead_time:[e.lead_time,[s.kI.required,s.kI.pattern("[a-zA-Z]+([a-zA-Z ]+)*")]],schedule_name:[e.schedule_name],schedule_view:[e.schedule_view],startDate:[e.startDate,[s.kI.required]],endDate:[e.endDate,[s.kI.required]]})}selectedNricNumber(e){this.spinner.show(),this.studentInfo="",this.enrollDetails=[],this.tranNumberData=[],this.enrollment_no.setValue(""),this.license_type.setValue(""),this.scheduleStatus="",this.LicenseData=[],this.calendarData=[],this.currentStatus="",e.option.value.id&&(this.studentInfo=e.option.value,this.passport_number.setValue(""),this.calendarService.getEnrollmentNumberForSchedule(e.option.value.id).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(e.enrollData.length>0?(this.tranNumberData=e.enrollData,this.tranNumberList=this.enrollment_no.valueChanges.pipe((0,q.O)(""),(0,N.U)(e=>"string"==typeof e?e:e.enrollment_no),(0,N.U)(e=>e?this._filterTranNumber(e):this.tranNumberData.slice()))):this.toastrService.warning("No Enrollment Number Available")),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))}))}selectedPassportNumber(e){this.studentInfo="",this.spinner.show(),this.enrollDetails=[],this.tranNumberData=[],this.enrollment_no.setValue(""),this.license_type.setValue(""),this.scheduleStatus="",this.LicenseData=[],this.calendarData=[],this.currentStatus="",e.option.value.id&&(this.studentInfo=e.option.value,this.nric_number.setValue(""),this.calendarService.getEnrollmentNumberForSchedule(e.option.value.id).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(e.enrollData.length>0?(this.tranNumberData=e.enrollData,this.tranNumberList=this.enrollment_no.valueChanges.pipe((0,q.O)(""),(0,N.U)(e=>"string"==typeof e?e:e.enrollment_no),(0,N.U)(e=>e?this._filterTranNumber(e):this.tranNumberData.slice()))):this.toastrService.warning("No Enrollment Number Available")),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))}))}getLicenseListPerEnroll(e){console.log("----------",this.enrollment_no.value),this.spinner.show(),this.enrollDetails=[],this.scheduleStatus="",this.LicenseData=[],this.calendarData=[],this.licenseTypeData=[],this.currentStatus="",this.license_type.setValue(""),this.calendarService.getLicenseListPerEnroll(this.enrollment_no.value.student_id,e.option.value.id).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(e.licenseData.length>0?(this.licenseTypeData=e.licenseData,this.licenseTypeList=this.license_type.valueChanges.pipe((0,q.O)(""),(0,N.U)(e=>"string"==typeof e?e:e.enrollment_no),(0,N.U)(e=>e?this._filterLicenseClass(e):this.licenseTypeData.slice())),1==e.licenseData.length&&(this.license_type.patchValue(e.licenseData[0]),this.checkPaymentInfo())):this.toastrService.warning("No License Class Available")),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))})}checkPaymentInfo(){this.LicenseData=[],this.calendarData=[],this.waitingLicense="",this.currentStatus=this.license_type.value.status,2==this.license_type.value.status_id?this.toastrService.warning("Please make Initial Payment!!"):(console.log("license_type.value---===========getStudentSchedule==========--",this.license_type.value),"PDL"==this.license_type.value.license_process?this.calendarService.checkPaymentDone(this.license_type.value).subscribe(e=>{console.log("res----------",e),this.licenseinfo=e.LicenseData,this.amountToBePaid=e.amountToBePaid,this.upcomingStatus=e.nextStatus[0],console.log("licenseinfo-------------",this.licenseinfo);for(let t=0;t<this.licenseinfo.length;t++)this.licenseinfo[t].package_name=this.licenseinfo[t]["package_"+this.translateVal],this.licenseinfo[t].package_description=this.licenseinfo[t]["package_desc_"+this.translateVal],this.LicenseData.push(this.licenseinfo[t].license_class);"Success"==e.status?7==this.upcomingStatus.id||15==this.upcomingStatus.id?(this.scheduleStatus="Waiting",this.waitingLicense=7==this.upcomingStatus.id?"LDL":"PDL"):(this.scheduleStatus="Success",this.showSchedule(this.license_type.value)):"Pay"==e.status?this.scheduleStatus="Pay":"Completed"==e.status?this.toastrService.success("Process Completed!!!"):"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))}):this.calendarService.checkPaymentDoneForGDLProcess(this.license_type.value).subscribe(e=>{console.log("res----------",e),this.licenseinfo=e.LicenseData,this.amountToBePaid=e.amountToBePaid,this.upcomingStatus=e.nextStatus[0],console.log("licenseinfo-------------",this.licenseinfo);for(let t=0;t<this.licenseinfo.length;t++)this.licenseinfo[t].package_name=this.licenseinfo[t]["package_"+this.translateVal],this.licenseinfo[t].package_description=this.licenseinfo[t]["package_desc_"+this.translateVal],this.LicenseData.push(this.licenseinfo[t].license_class);"Success"==e.status?26==this.upcomingStatus.id||34==this.upcomingStatus.id?(this.scheduleStatus="Waiting",this.waitingLicense=this.license_type.value.license_process):(this.scheduleStatus="Success",this.showSchedule(this.license_type.value)):"Pay"==e.status?this.scheduleStatus="Pay":"Completed"==e.status?this.toastrService.success("Process Completed!!!"):"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))}))}showSchedule(e){this.spinner.show(),this.calendarData=[],this.calendarService.getStudentSchedulePerEnroll(e,this.upcomingStatus.id).subscribe(e=>{if(this.spinner.hide(),console.log("res============",e),"Success"==e.status){this.enrollDetails=this.license_type.value;for(let t=0;t<e.scheduleList.length;t++)this.calendarData.push({title:e.scheduleList[t].status,start:new Date(e.scheduleList[t].startDate),end:new Date(e.scheduleList[t].endDate),className:e.scheduleList[t].schedule_color,id:e.scheduleList[t].id,statusid:e.scheduleList[t].status_id,schedule_name:e.scheduleList[t].status,schedule_view:e.scheduleList[t].schedule_view,assignment:e.scheduleList[t].AssignmentList,startDate:new Date(e.scheduleList[t].startDate),endDate:new Date(e.scheduleList[t].endDate),employeeName:e.scheduleList[t].employee_name});this.calendarEvents=this.calendarData,this.tempEvents=this.calendarEvents,this.calendarOptions.events=this.calendarEvents}"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))})}showStudent(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}getAutoReceiptNumber(){this.calendarService.getAutoReceiptNumber().subscribe(e=>{"Success"==e.status&&(console.log("res-----rec====",e),"Cash"==this.payment_type.value?(this.reference_no.patchValue(e.receiptNo),this.disableReference=!0):(this.reference_no.patchValue(""),this.disableReference=!1))})}changePaymentType(){this.getAutoReceiptNumber()}showPayment(e){this.getAutoReceiptNumber(),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}setPaymentDetails(){console.log("enrollment_no====",this.enrollment_no.value,this.license_type.value),this.calendarService.setPaymentDetails(this.license_type.value,this.amountToBePaid,this.payment_type.value,this.reference_no.value).subscribe(e=>{if("Success"==e.status){this.modalService.dismissAll(),this.toastrService.success("Payment Done!!"),this.scheduleStatus="Success";let e={payment_amount:this.amountToBePaid,payment_method:this.payment_type.value};this.showSchedule(this.license_type.value),this.dialogRef=this.dialog.open(te.B),this.dialogRef.componentInstance.data=this.studentInfo,this.dialogRef.componentInstance.licenseData=this.LicenseData,this.dialogRef.componentInstance.payInfo=e,this.dialogRef.componentInstance.packDt=this.licenseinfo[0],this.dialogRef.componentInstance.enrollment_no=this.enrollment_no.value.enrollment_no}else"Session Expired"==e.status?(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"])):(this.scheduleStatus="Pay",this.toastrService.success("Payment Failed, Please try again!!"))})}getTimeDetails(){this.calendarService.getTimeDetails().subscribe(e=>{let t=e.data[0];this.makeTimeIntervals(t.working_hour_from.substr(0,5),t.working_hour_to.substr(0,5),60,t.rest_hour_from.substr(0,5),t.rest_hour_to.substr(0,5))})}makeTimeIntervals(e,t,i,n,s){e=e.toString().split(":"),t=t.toString().split(":"),i=parseInt(i,10);var a=function(e){return e<10?"0"+e.toString():e},r=parseInt(e[0],10),l=parseInt(e[1],10),o=parseInt(t[0],10),c=(parseInt(t[1],10),r),u=l,d=c+":"+a(u),h="",p=[];do{((u+=i)%60==0||u>60)&&(u=60===u?0:u-60,c+=1),h=c+":"+a(u),p.push({range:d+" - "+h,checkValue:0,employeeList:[]}),d=h}while(c!==o);var g=n+" - "+s;this.timeArray=p.filter(e=>e.range!=g)}}return e.\u0275fac=function(t){return new(t||e)(D.Y36(s.qu),D.Y36(p.uw),D.Y36(C),D.Y36(c.ux),D.Y36(O.t2),D.Y36(y.F0),D.Y36(P._W),D.Y36(ie.FF),D.Y36(ne.x0))},e.\u0275cmp=D.Xpm({type:e,selectors:[["app-add-schedule"]],viewQuery:function(e,t){if(1&e&&(D.Gf(le,5),D.Gf(oe,5)),2&e){let e;D.iGM(e=D.CRH())&&(t.licenceInput=e.first),D.iGM(e=D.CRH())&&(t.calendar=e.first)}},features:[D.qOj],decls:65,vars:36,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12","col-sm-12"],[1,"card"],[1,"card-body"],[1,"col-xl-4","col-lg-4","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["type","text","matInput","",3,"formControl","matAutocomplete"],["nrictrigger","matAutocompleteTrigger"],["matSuffix","",2,"display","flex"],["aria-label","Clear","mat-icon-button","","type","button",3,"click",4,"ngIf"],["aria-label","Clear","mat-icon-button","","type","button",3,"click"],[3,"displayWith","closed","opened","optionSelected"],["autoNric","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["passtrigger","matAutocompleteTrigger"],["autoPassport","matAutocomplete"],["class","col-xl-4 col-lg-4 col-md-12 col-sm-12 mb-2",4,"ngIf"],["class","col-xl-4 col-lg-4 col-md-12 col-sm-12 mb-2","style","float: right;",4,"ngIf"],["class","row","style","text-align: center;padding: 10px;",4,"ngIf"],["class","col-md-12 col-sm-12",4,"ngIf"],["showPay",""],["viewStudent",""],[3,"value"],[4,"ngIf"],["enrolltrigger","matAutocompleteTrigger"],["autoTran","matAutocomplete"],["licensetrigger","matAutocompleteTrigger"],[1,"col-xl-4","col-lg-4","col-md-12","col-sm-12","mb-2",2,"float","right"],["mat-raised-button","","color","primary",3,"click"],[1,"statusClass"],[1,"row",2,"text-align","center","padding","10px"],[2,"text-align","center"],[1,"panel-body",2,"text-align","center"],[1,"panel-body"],[3,"options"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2",2,"margin-bottom","2.5rem !important"],["appearance","outline",1,"example-full-width"],["matInput","","readonly","",3,"ngModel","ngModelChange"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2",2,"margin-top","30px","margin-bottom","2.5rem !important"],[3,"formControl"],["value","Cash",1,"example-margin",3,"click"],["value","Card",1,"example-margin",3,"click"],["value","Cheque",1,"example-margin",3,"click"],["matInput","","required","",3,"formControl","readonly"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"disabled","click"],["mat-button","","type","button",3,"click"],[1,"clearfix"],[1,"font-weight-bold"],[3,"innerHTML"]],template:function(e,t){if(1&e){const e=D.EpF();D.TgZ(0,"ngx-spinner",0),D.TgZ(1,"p",1),D._uU(2,"Loading..."),D.qZA(),D.qZA(),D.TgZ(3,"section",2),D.TgZ(4,"div",3),D.TgZ(5,"div",4),D.TgZ(6,"div",5),D.TgZ(7,"div",6),D.TgZ(8,"ul",7),D.TgZ(9,"li",8),D.TgZ(10,"h4",9),D._uU(11),D.ALo(12,"translate"),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.TgZ(13,"div",5),D.TgZ(14,"div",10),D.TgZ(15,"div",11),D.TgZ(16,"div",12),D.TgZ(17,"div",5),D.TgZ(18,"div",13),D.TgZ(19,"mat-form-field",14),D.TgZ(20,"mat-label"),D._uU(21),D.ALo(22,"translate"),D.qZA(),D._UZ(23,"input",15,16),D.TgZ(25,"div",17),D.YNc(26,ce,3,0,"button",18),D.TgZ(27,"button",19),D.NdJ("click",function(i){D.CHM(e);const n=D.MAs(24);return t.openOrClosePanel(i,n)}),D.TgZ(28,"mat-icon"),D._uU(29),D.qZA(),D.qZA(),D.qZA(),D.TgZ(30,"mat-autocomplete",20,21),D.NdJ("closed",function(){return t.arrowIconSubject.next("arrow_drop_down")})("opened",function(){return t.arrowIconSubject.next("arrow_drop_up")})("optionSelected",function(e){return t.selectedNricNumber(e),t.arrowIconSubject.next("arrow_drop_down")}),D.YNc(32,ue,2,2,"mat-option",22),D.ALo(33,"async"),D.qZA(),D.YNc(34,he,2,1,"mat-error",23),D.qZA(),D.qZA(),D.TgZ(35,"div",13),D.TgZ(36,"mat-form-field",14),D.TgZ(37,"mat-label"),D._uU(38),D.ALo(39,"translate"),D.qZA(),D._UZ(40,"input",15,24),D.TgZ(42,"div",17),D.YNc(43,pe,3,0,"button",18),D.TgZ(44,"button",19),D.NdJ("click",function(i){D.CHM(e);const n=D.MAs(41);return t.openOrClosePanel(i,n)}),D.TgZ(45,"mat-icon"),D._uU(46),D.qZA(),D.qZA(),D.qZA(),D.TgZ(47,"mat-autocomplete",20,25),D.NdJ("closed",function(){return t.arrowIconSubject.next("arrow_drop_down")})("opened",function(){return t.arrowIconSubject.next("arrow_drop_up")})("optionSelected",function(e){return t.selectedPassportNumber(e),t.arrowIconSubject.next("arrow_drop_down")}),D.YNc(49,ge,2,2,"mat-option",22),D.ALo(50,"async"),D.qZA(),D.YNc(51,Ze,2,1,"mat-error",23),D.qZA(),D.qZA(),D.YNc(52,Se,17,12,"div",26),D.YNc(53,qe,17,12,"div",26),D.YNc(54,Ne,4,3,"div",27),D.YNc(55,Ie,3,1,"div",27),D.qZA(),D.YNc(56,De,1,0,"div",28),D.YNc(57,we,10,7,"div",29),D.YNc(58,Le,3,1,"div",29),D.YNc(59,Ee,5,3,"div",29),D.YNc(60,Ue,4,2,"div",29),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.qZA(),D.YNc(61,Ce,47,32,"ng-template",null,30,D.W1O),D.YNc(63,Oe,129,68,"ng-template",null,31,D.W1O)}if(2&e){const e=D.MAs(31),i=D.MAs(48);D.xp6(11),D.Oqu(D.lcZ(12,26,"SCHEDULE.STUD-TITLE")),D.xp6(10),D.Oqu(D.lcZ(22,28,"SELECT-LICENSE.LIST.NRIC-NUMBER")),D.xp6(2),D.Q6J("formControl",t.nric_number)("matAutocomplete",e),D.xp6(3),D.Q6J("ngIf",null!==(null==t.nric_number?null:t.nric_number.value)&&""!==(null==t.nric_number?null:t.nric_number.value)),D.xp6(3),D.Oqu(t.arrowIconSubject.getValue()),D.xp6(1),D.Q6J("displayWith",t.displayFnNRICNUmber),D.xp6(2),D.Q6J("ngForOf",D.lcZ(33,30,t.nricNumberList)),D.xp6(2),D.Q6J("ngForOf",t.validation_msgs.nric_number),D.xp6(4),D.Oqu(D.lcZ(39,32,"SELECT-LICENSE.LIST.PASSPORT-NUMBER")),D.xp6(2),D.Q6J("formControl",t.passport_number)("matAutocomplete",i),D.xp6(3),D.Q6J("ngIf",null!==(null==t.passport_number?null:t.passport_number.value)&&""!==(null==t.passport_number?null:t.passport_number.value)),D.xp6(3),D.Oqu(t.arrowIconSubject.getValue()),D.xp6(1),D.Q6J("displayWith",t.displayFnPassportNumber),D.xp6(2),D.Q6J("ngForOf",D.lcZ(50,34,t.passportNumberList)),D.xp6(2),D.Q6J("ngForOf",t.validation_msgs.passport_number),D.xp6(1),D.Q6J("ngIf",(t.nric_number.valid||t.passport_number.valid)&&t.tranNumberData.length>0),D.xp6(1),D.Q6J("ngIf",(t.nric_number.valid||t.passport_number.valid)&&t.enrollment_no.valid&&t.licenseTypeData.length>0),D.xp6(1),D.Q6J("ngIf",t.LicenseData.length>0&&t.license_type.valid&&t.enrollment_no.valid&&(t.nric_number.valid||t.passport_number.valid)),D.xp6(1),D.Q6J("ngIf",t.currentStatus&&t.license_type.valid&&t.enrollment_no.valid&&(t.nric_number.valid||t.passport_number.valid)),D.xp6(1),D.Q6J("ngIf",t.LicenseData.length>0&&t.license_type.valid&&t.enrollment_no.valid&&(t.nric_number.valid||t.passport_number.valid)),D.xp6(1),D.Q6J("ngIf","Pay"==t.scheduleStatus&&t.license_type.valid),D.xp6(1),D.Q6J("ngIf",t.calendarData.length>0&&t.license_type.valid&&t.enrollment_no.valid&&(t.nric_number.valid||t.passport_number.valid)),D.xp6(1),D.Q6J("ngIf",0==t.calendarData.length&&"Success"==t.scheduleStatus&&t.license_type.valid&&t.enrollment_no.valid&&(t.nric_number.valid||t.passport_number.valid)),D.xp6(1),D.Q6J("ngIf",0==t.calendarData.length&&"Waiting"==t.scheduleStatus&&t.license_type.valid&&t.enrollment_no.valid&&(t.nric_number.valid||t.passport_number.valid))}},directives:[O.Ro,l.KE,l.hX,o.Nt,s.Fj,se.ZL,s.JJ,s.oH,l.R9,n.O5,u.lW,d.Hw,se.XC,n.sg,ae.ey,l.TO,re.woE,s.On,k.VQ,k.U0,s.Q7],pipes:[R.X$,n.Ov,n.uU],styles:[".statusClass[_ngcontent-%COMP%]{border-radius:50px;padding:10px;color:#fff;background-color:#008000a6}"]}),e})()}];let Re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=D.oAB({type:e}),e.\u0275inj=D.cJS({imports:[[y.Bz.forChild(ke)],y.Bz]}),e})();var Je=i(46739),Fe=i(17647),Me=i(95522),Qe=i(37192),Ye=i(279),je=i(9451),He=i(85256),Be=i(52352);re.z1U.registerPlugins([Ye.ZP,je.ZP,He.Z,Be.ZP]);let Ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=D.oAB({type:e}),e.\u0275inj=D.cJS({providers:[C],imports:[[Fe.xD,Me.Hi,Je.d,n.ez,s.u5,s.UX,a.p0,r.TU,l.lN,o.c,c.ZX,u.ot,d.Ps,p.Is,g.JX,m.g0,h.LD,Z.FA,f.p9,T.Nh,_.Tx,k.Fk,A.Ad,Re,S.Cq,b.T5,v.yI,R.aw,se.Bb,re.z1U,Qe.Ll,Qe.x,O.ef]]}),e})()}}]);