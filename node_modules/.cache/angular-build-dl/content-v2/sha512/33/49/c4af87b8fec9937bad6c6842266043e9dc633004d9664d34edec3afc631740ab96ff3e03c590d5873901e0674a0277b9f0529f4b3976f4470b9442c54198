{"version":3,"sources":["webpack:///src/app/clerk/schedule/add-schedule/add-schedule.component.html","webpack:///src/app/clerk/schedule/add-schedule/add-schedule.component.ts","webpack:///src/app/clerk/schedule/confirmation-dialog/confirmation-dialog.component.ts","webpack:///src/app/clerk/schedule/confirmation-dialog/confirmation-dialog.component.html","webpack:///src/app/clerk/schedule/dialogs/form-dialog/form-dialog.component.html","webpack:///src/app/clerk/schedule/dialogs/form-dialog/form-dialog.component.ts","webpack:///src/app/clerk/schedule/schedule-routing.module.ts","webpack:///src/app/clerk/schedule/schedule.model.ts","webpack:///src/app/clerk/schedule/schedule.module.ts","webpack:///src/app/clerk/schedule/schedule.service.ts"],"names":["AddScheduleComponent","fb","dialog","calendarService","snackBar","filterOptions","calendarData","filterItems","calendarOptions","headerToolbar","left","center","right","initialView","displayEventTime","weekends","editable","selectable","selectMirror","dayMaxEvents","select","handleDateSelect","bind","eventClick","handleEventClick","eventsSet","handleEvents","dialogTitle","calendar","Calendar","addCusForm","createCalendarForm","getScheduleList","getScheduleDetails","sessionStorage","client","subscribe","res","console","log","i","length","push","title","status","start","Date","startDate","end","endDate","className","schedule_color","id","lead_time","schedule_name","status_id","schedule_view","assignment","AssignmentList","calendarEvents","tempEvents","events","scheduleList","checked","selectInfo","addNewEvent","dialogRef","open","FormDialogComponent","data","action","subs","sink","afterClosed","result","event","filter","splice","indexOf","filterEvent","element","list","x","map","y","includes","clickInfo","row","_def","extendedProps","schedule_view_assignment","tempDirection","localStorage","getItem","direction","reset","eventIndex","slice","singleEvent","Object","assign","groupId","category","details","group","Validators","colorName","text","placementFrom","placementAlign","duration","verticalPosition","horizontalPosition","panelClass","UnsubscribeOnDestroyAdapter","ConfirmationDialogComponent","message","confirmButtonText","cancelButtonText","btnColor","dynamicMsg","buttonText","ok","cancel","close","MAT_DIALOG_DATA","onConfirmClick","autocompleteObjectValidator","control","value","modalService","toastrService","showDeleteBtn","removable","separatorKeysCodes","ENTER","COMMA","viewAssign_selected","FormControl","validators","formControl","getTimeDetails","timeSlotList","viewAssignTypeData","getScheduleEditView","editInfo","commonTimeslot","TimeSlot","zeroPad","timeArray","employee_id","name","employee_name","reduce","a","b","j","checkValue","viewAssignTypeList","valueChanges","pipe","startWith","_filterviewAssignType","calendarForm","editContactForm","createContactForm","hasError","num","total","toString","padStart","Number","calendarFm","confirmed","alert","deleteScheduleDetails","currentUser","success","timeSlot","setScheduleDetails","error","assigneeName","assigneeId","itemTobeUpdated","elem","updateScheduleDetails","getScheduleViewAssignList","user","obj","filterValue","toLowerCase","option","input","trim","setValue","viewAssign","insToDelete","findIndex","item","objToDelete","fruit","trigger","openPanel","licenceInput","nativeElement","focus","newValue","viewValue","timeArr","m","result1","k","timeData","requestAnimationFrame","openAuto","matACTrigger","ViewAssignList","resObj","makeTimeIntervals","working_hour_from","substr","working_hour_to","rest_hour_from","rest_hour_to","range","startTime","endTime","increment","restStart","restEnd","split","parseInt","pad","n","startHr","startMin","endHr","endMin","currentHr","currentMin","previous","current","r","restTime","el","routes","path","component","ScheduleRoutingModule","RouterModule","getRandomID","schedule_owner","formatDate","S4","Math","random","substring","FullCalendarModule","ScheduleModule","ScheduleService","NgxDatatableModule","MatChipsModule","CKEditorModule","CommonModule","FormsModule","ReactiveFormsModule","MatTableModule","MatPaginatorModule","MatFormFieldModule","MatInputModule","MatSnackBarModule","MatButtonModule","MatIconModule","MatDialogModule","MatSortModule","MatToolbarModule","MatSelectModule","MatDatepickerModule","MatCheckboxModule","MatTabsModule","MatMenuModule","MaterialFileInputModule","MatProgressSpinnerModule","MatStepperModule","NgxMaskModule","TranslateModule","MatAutocompleteModule","OwlDateTimeModule","OwlNativeDateTimeModule","http","API_URL","httpOptions","headers","HttpHeaders","dataChange","BehaviorSubject","dialogData","get","catchError","errorHandler","errorMessage","ErrorEvent","throwError","post","environment","authToken","timeslot","editData"],"mappings":"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","file":"src_app_clerk_schedule_schedule_module_ts-es5.js","sourcesContent":["<section class=\"content\">\n        <div class=\"container-fluid\">\n          <div class=\"block-header\">\n            <div class=\"row\">\n              <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\n                <ul class=\"breadcrumb breadcrumb-style \">\n                  <li class=\"breadcrumb-item\">\n                    <h4 class=\"page-title\">{{'SCHEDULE.TITLE' | translate}}</h4>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-12 col-sm-12\">\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  <div class=\"row\">\n                    <div class=\"col-md-2 col-sm-12 p-l-30\">\n                      <div class=\"m-b-25\">\n                        <!-- <button mat-raised-button color=\"primary\" (click)=\"addNewEvent()\">Add Event</button> -->\n                      </div>\n                      <!-- <p>My Calendars</p> -->\n                      <div class=\"filter-container\">\n                        <ul>\n                          <li *ngFor=\"let filter of scheduleList\">\n                            <mat-checkbox [checked]=\"filter.checked\" [value]=\"filter.status\" color=\"primary\"\n                              (change)=\"changeCategory($event, filter)\">\n                              {{filter.status}}\n                            </mat-checkbox>\n                          </li>\n                        </ul>\n                      </div>\n                    </div>\n                    <div class=\"col-md-10 col-sm-12\">\n                      <div class=\"panel-body\">\n                        <full-calendar [options]='calendarOptions'>\n                        </full-calendar>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n      ","import { Component, ViewChild, OnInit } from '@angular/core';\nimport {\n  CalendarOptions,\n  DateSelectArg,\n  EventClickArg,\n  EventApi,\n} from '@fullcalendar/angular';\nimport { EventInput } from '@fullcalendar/angular';\nimport { MatDialog } from '@angular/material/dialog';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ScheduleService } from '../schedule.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { MatCheckboxChange } from '@angular/material/checkbox';\nimport { FormDialogComponent } from '../dialogs/form-dialog/form-dialog.component';\nimport { Calendar } from '../schedule.model';\nimport { UnsubscribeOnDestroyAdapter } from '../../../shared/UnsubscribeOnDestroyAdapter';\nimport { formatDate } from '@angular/common';\n\n\n@Component({\n  selector: 'app-add-schedule',\n  templateUrl: './add-schedule.component.html',\n  styleUrls: ['./add-schedule.component.scss']\n})\nexport class AddScheduleComponent extends UnsubscribeOnDestroyAdapter implements OnInit {\n\n  @ViewChild('calendar', { static: false })\n  calendar: Calendar | null;\n  public addCusForm: FormGroup;\n  scheduleList;\n\n  dialogTitle: string;\n  filterOptions = 'All';\n  calendarData=[];\n  filterItems =[]\n\n  calendarEvents: EventInput[];\n  tempEvents: EventInput[];\n\n  constructor(\n    private fb: FormBuilder,\n    private dialog: MatDialog,\n    public calendarService: ScheduleService,\n    private snackBar: MatSnackBar\n  ) {\n    super();\n    this.dialogTitle = 'Add New Event';\n    this.calendar = new Calendar({});\n    this.addCusForm = this.createCalendarForm(this.calendar);\n    this.getScheduleList();\n\n  }\n\n  public ngOnInit(): void {\n    \n    this.getScheduleDetails();\n    \n  }\n\n  getScheduleDetails(){\n    this.calendarData=[];\n    this.calendarService.getScheduleDetails(sessionStorage.client)\n    .subscribe(res=>{\n      console.log(\"----res['data']----\",res['data'])\n      for(let i=0;i<res['data'].length;i++){\n        this.calendarData.push({\n          // id: res['data'][i].id,\n          title: res['data'][i].status,\n          start: new Date(res['data'][i].startDate),\n          end: new Date(res['data'][i].endDate),  \n          className: res['data'][i].schedule_color,\n          // groupId: res['data'][i].schedule_view,\n          id: res['data'][i].id,\n          lead_time: res['data'][i].lead_time,\n          schedule_name: res['data'][i].status_id,\n          // schedule_owner:res['data'][i].schedule_owner,\n          schedule_view:res['data'][i].schedule_view,\n          assignment:res['data'][i].AssignmentList,\n          startDate: new Date(res['data'][i].startDate), \n          endDate: new Date(res['data'][i].endDate)\n        })\n      }\n      this.calendarEvents=this.calendarData;\n      this.tempEvents = this.calendarEvents;\n      this.calendarOptions.events = this.calendarEvents;\n      console.log(\"this.this.calendarOptions.events======\",this.calendarOptions.events)\n    })\n  }\n\n  getScheduleList(){\n    this.calendarService.getScheduleList()\n    .subscribe(res=>{\n        this.scheduleList=res['data'];\n        console.log(\"this.scheduleList========\",this.scheduleList);\n        for(let i=0;i<this.scheduleList.length;i++){\n          this.scheduleList[i].checked=true;\n          this.filterItems.push(this.scheduleList[i].status)\n        }\n    })\n  }\n\n  calendarOptions: CalendarOptions = {\n    headerToolbar: {\n      left: 'prev,next today',\n      center: 'title',\n      right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek',\n    },\n    initialView: 'dayGridMonth',\n    displayEventTime:false,\n    weekends: true,\n    editable: true,\n    selectable: true,\n    selectMirror: true,\n    dayMaxEvents: true,\n    \n    select: this.handleDateSelect.bind(this),\n    eventClick: this.handleEventClick.bind(this),\n    eventsSet: this.handleEvents.bind(this),\n  };\n\n  handleDateSelect(selectInfo: DateSelectArg) {\n    console.log(\"0--------0000----------\",selectInfo,this.calendar);\n    // this.calendar['start']=selectInfo.startStr;\n    this.addNewEvent(selectInfo);\n  }\n\n  addNewEvent(selectInfo) {\n    console.log(\"this.calendar!!!!!!!\",this.calendar)\n\n    const dialogRef = this.dialog.open(FormDialogComponent, {\n      data: {\n        calendar: selectInfo,\n        action: 'add',\n      },\n    });\n\n    this.subs.sink = dialogRef.afterClosed().subscribe((result) => {\n      if (result === 'submit') {\n        this.getScheduleDetails();\n      }\n    });\n  }\n\n  changeCategory(event: MatCheckboxChange, filter) {\n    console.log(\"---------\",filter)\n    if (event.checked) {\n      this.filterItems.push(filter.status);\n    } else {\n      this.filterItems.splice(this.filterItems.indexOf(filter.status), 1);\n    }\n    this.filterEvent(this.filterItems);\n  }\n\n  filterEvent(element) {\n    const list = this.calendarEvents.filter((x) =>\n      element.map((y) => y).includes(x.title)\n    );\n\n    this.calendarOptions.events = list;\n  }\n\n  handleEventClick(clickInfo: EventClickArg) {\n    this.eventClick(clickInfo);\n  }\n\n  eventClick(row) {\n    console.log(\"row===\",row.event);\n    const calendarData: any = {\n      id: row.event.id,\n      title: row.event.title,\n      lead_time: row.event._def.extendedProps.lead_time,\n      schedule_name: row.event._def.extendedProps.schedule_name,\n      schedule_view:row.event._def.extendedProps.schedule_view,\n      schedule_view_assignment:row.event._def.extendedProps.assignment,\n      startDate: row.event._def.extendedProps.startDate,\n      endDate: row.event._def.extendedProps.endDate\n    };\n\n    console.log(\"calendarData====\",calendarData);\n    let tempDirection;\n    if (localStorage.getItem('isRtl') === 'true') {\n      tempDirection = 'rtl';\n    } else {\n      tempDirection = 'ltr';\n    }\n\n    const dialogRef = this.dialog.open(FormDialogComponent, {\n      data: {\n        calendar: calendarData,\n        action: 'edit',\n      },\n      direction: tempDirection,\n    });\n\n    this.subs.sink = dialogRef.afterClosed().subscribe((result) => {\n      if (result === 'submit') {\n        this.getScheduleDetails();\n        this.addCusForm.reset();\n      } else if (result === 'delete') {\n        this.getScheduleDetails();\n      }\n    });\n  }\n\n  editEvent(eventIndex, calendarData) {\n    const calendarEvents = this.calendarEvents.slice();\n    const singleEvent = Object.assign({}, calendarEvents[eventIndex]);\n    singleEvent.id = calendarData.id;\n    singleEvent.title = calendarData.title;\n    singleEvent.start = calendarData.startDate;\n    singleEvent.end = calendarData.endDate;\n    singleEvent.className = '';\n    singleEvent.groupId = calendarData.category;\n    singleEvent.details = calendarData.details;\n    calendarEvents[eventIndex] = singleEvent;\n    this.calendarEvents = calendarEvents; // reassign the array\n\n    this.calendarOptions.events = calendarEvents;\n  }\n\n  handleEvents(events: EventApi[]) {\n    // this.currentEvents = events;\n  }\n\n  createCalendarForm(calendar): FormGroup {\n    return this.fb.group({\n      id: [calendar.id],\n      lead_time: [\n        calendar.lead_time,\n        [Validators.required, Validators.pattern('[a-zA-Z]+([a-zA-Z ]+)*')],\n      ],\n      schedule_name: [calendar.schedule_name],\n      // schedule_owner:[calendar.schedule_owner],\n      schedule_view: [calendar.schedule_view],\n      startDate: [calendar.startDate, [Validators.required]],\n      endDate: [calendar.endDate, [Validators.required]],\n    });\n  }\n\n  showNotification(colorName, text, placementFrom, placementAlign) {\n    this.snackBar.open(text, '', {\n      duration: 2000,\n      verticalPosition: placementFrom,\n      horizontalPosition: placementAlign,\n      panelClass: colorName,\n    });\n  }\n\n\n\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef,MatDialog } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-confirmation-dialog',\n  templateUrl: './confirmation-dialog.component.html',\n  styleUrls: ['./confirmation-dialog.component.sass']\n})\nexport class ConfirmationDialogComponent {\n\n  message: string = \"\"\n  confirmButtonText = \"\"\n  cancelButtonText = \"\"\n  btnColor=\"primary\";\n  dynamicMsg=''\n  constructor(\n    @Inject(MAT_DIALOG_DATA) private data: any,\n    private dialogRef: MatDialogRef<ConfirmationDialogComponent>) {\n      if(data){\n        this.message = data.message || this.message;\n        this.btnColor = data.btnColor || this.btnColor;\n        this.dynamicMsg=data.dynamicMsg || '';\n        if (data.buttonText) {\n          this.confirmButtonText = data.buttonText.ok || this.confirmButtonText;\n          this.cancelButtonText = data.buttonText.cancel || this.cancelButtonText;\n        }\n      }\n  }\n\n  onConfirmClick(): void {\n    this.dialogRef.close(true);\n  }\n\n  onClose(): void {\n    this.dialogRef.close(true);\n  }\n\n}\n","<mat-dialog-content>\n\t<p>\n\t\t{{message}}\n\t</p>\n\t<b style=\"text-align: center;\">{{dynamicMsg}}</b>\n</mat-dialog-content>\n<mat-dialog-actions align=\"center\">\n\t<button mat-raised-button color=\"{{btnColor}}\" (click)=\"onConfirmClick()\" tabindex=\"1\">{{confirmButtonText}}</button>\n\t<button mat-raised-button mat-dialog-close tabindex=\"-1\">{{cancelButtonText}}</button>\n</mat-dialog-actions>","<div class=\"addContainer\">\r\n  <div class=\"modalHeader\">\r\n    <div class=\"editRowModal\">\r\n      <div class=\"modalHeader clearfix\">\r\n        <div class=\"modal-about\">\r\n          <div class=\"font-weight-bold p-t-5 p-l-10 font-17\">\r\n            {{dialogTitle}}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <button mat-icon-button (click)=\"dialogRef.close()\" aria-label=\"Close dialog\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n  <div mat-dialog-content>\r\n    <form class=\"register-form m-4\" [formGroup]=\"calendarForm\">\r\n        <div class=\"row\">\r\n            <div class=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 \">\r\n              <mat-form-field class=\"example-full-width mb-3\" appearance=\"outline\">\r\n                <mat-label>{{'SCHEDULE.LIST.SCHEDULE' | translate}}</mat-label>\r\n                <mat-select formControlName=\"schedule_name\" required [disabled]=\"action == 'edit'\">\r\n                    <mat-option *ngFor=\"let option of scheduleList\" [value]=\"option.id\">\r\n                      {{option.status}}\r\n                    </mat-option>\r\n                </mat-select>\r\n              </mat-form-field>\r\n            </div>\r\n          </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 \">\r\n          <mat-form-field class=\"example-full-width mb-3\" appearance=\"outline\">\r\n            <mat-label>{{'SCHEDULE.LIST.LEAD-TIME' | translate}}</mat-label>\r\n            <input matInput formControlName=\"lead_time\" required>\r\n            <mat-icon matSuffix>turned_in_not</mat-icon>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 \">\r\n              <mat-form-field class=\"example-full-width mb-3\" appearance=\"outline\">\r\n                <mat-label>{{'SCHEDULE.LIST.SCHEDULE-VIEW' | translate}}</mat-label>\r\n                <mat-select formControlName=\"schedule_view\" (selectionChange)=\"getScheduleViewAssignList()\" required [disabled]=\"action == 'edit'\">\r\n                  <mat-option [value]=\"'Instructor'\">\r\n                      Instructor\r\n                  </mat-option>\r\n                  <mat-option [value]=\"'QTI'\">\r\n                      QTI\r\n                  </mat-option>\r\n                </mat-select>\r\n              </mat-form-field>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\" *ngIf=\"calendarForm.value.schedule_view != ''\">\r\n          <div class=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 \">\r\n            <mat-form-field class=\"example-full-width mb-3\" appearance=\"outline\">\r\n              <mat-chip-list #chipList aria-label=\"Fruit selection\">\r\n                <mat-chip\r\n                    *ngFor=\"let viewdt of viewAssign_selected\"\r\n                    [selectable]=\"selectable\"\r\n                    [removable]=\"removable\"\r\n                    (removed)=\"remove(viewdt.id)\">\r\n                    {{viewdt.name}}\r\n                    <mat-icon matChipRemove *ngIf=\"removable\">cancel</mat-icon> \r\n                </mat-chip> \r\n                <mat-label>{{'SCHEDULE.LIST.ASSIGNMENT' | translate}}*</mat-label>\r\n                  <input type=\"text\" matInput \r\n                  #licenceInput\r\n                  #autocompleteTrigger=\"matAutocompleteTrigger\"\r\n                  [matChipInputFor]=\"chipList\"\r\n                  [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\r\n                  (matChipInputTokenEnd)=\"add($event)\"\r\n                  [formControl]=\"schedule_view_assignment\" [matAutocomplete]=\"autoView\">\r\n                </mat-chip-list>\r\n                <mat-autocomplete #autoView=\"matAutocomplete\" (optionSelected)=\"selectedViewAssignment($event)\" autoActiveFirstOption>\r\n                <mat-option *ngFor=\"let option of viewAssignTypeList | async\" [value]=\"option.id\">\r\n                        <mat-checkbox color=\"primary\" style=\"padding: 0 12px;\" [checked]=\"option.checked\"></mat-checkbox>\r\n                    {{option.name}}\r\n                </mat-option>\r\n                </mat-autocomplete>\r\n                <button mat-icon-button matSuffix style=\"width: 34px; height: 34px;\" (click)=\"openAuto(autocompleteTrigger)\"> <mat-icon style=\"width: 34px;\">expand_more</mat-icon></button>\r\n            </mat-form-field>\r\n          </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 \">\r\n          <mat-form-field class=\"example-full-width mb-3\" appearance=\"outline\">\r\n            <mat-label>{{'SCHEDULE.LIST.START-DATE' | translate}}</mat-label>\r\n            <input matInput [matDatepicker]=\"picker\" formControlName=\"startDate\" [disabled]=\"action == 'edit'\">\r\n            <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n            <mat-datepicker #picker></mat-datepicker>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 \">\r\n          <mat-form-field class=\"example-full-width mb-3\" appearance=\"outline\">\r\n            <mat-label>{{'SCHEDULE.LIST.END-DATE' | translate}}</mat-label>\r\n            <input matInput [matDatepicker]=\"picker1\" formControlName=\"endDate\" [disabled]=\"action == 'edit'\">\r\n            <mat-datepicker-toggle matSuffix [for]=\"picker1\"></mat-datepicker-toggle>\r\n            <mat-datepicker #picker1></mat-datepicker>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <label>Schedule Time</label>\r\n        <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 \">\r\n          <li style=\"list-style: none;\" *ngFor=\"let timeDt of timeArray\">\r\n            <mat-checkbox [checked]=\"timeDt.checkValue == 1\" color=\"primary\"\r\n              (change)=\"changeTimeDt($event, timeDt)\">\r\n              {{timeDt.range}}\r\n            </mat-checkbox>\r\n          </li>\r\n        </div>\r\n      </div>\r\n      <br/>\r\n      <div class=\"row\">\r\n        <div class=\"col-xl-10 col-lg-10 col-md-12 col-sm-12\">\r\n          <div class=\"example-button-row\">\r\n            <button mat-raised-button color=\"primary\" [type]=\"submit\" [disabled]=\"!calendarForm.valid\"\r\n              (click)=\"setScheduleDetails()\">{{'BUTTON.ADD-BTN' | translate}}</button>\r\n            <button mat-raised-button color=\"warn\" (click)=\"dialogRef.close()\" tabindex=\"-1\">{{'BUTTON.CANCEL-BTN' | translate}}</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-xl-2 col-lg-2 col-md-12 col-sm-12\">\r\n          <div class=\"example-button-row\" *ngIf=\"showDeleteBtn\">\r\n            <button mat-mini-fab aria-label color=\"warn\" (click)=\"deleteEvent()\">\r\n              <mat-icon class=\"font-20\">delete</mat-icon>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n","import { MAT_DIALOG_DATA, MatDialogRef,MatDialog } from '@angular/material/dialog';\r\nimport { Component, Inject , ViewChild, ElementRef } from '@angular/core';\r\nimport { ScheduleService } from '../../schedule.service';\r\nimport {COMMA, ENTER} from '@angular/cdk/keycodes';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport {  FormBuilder, FormGroup, Validators,FormControl, AbstractControl, ValidatorFn } from '@angular/forms';\r\nimport { Observable,map, startWith,debounceTime,switchMap,of } from 'rxjs';\r\nimport { MatCheckboxChange } from '@angular/material/checkbox';\r\n\r\nimport { Calendar } from '../../schedule.model';\r\nimport { formatDate } from '@angular/common';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport {MatAutocompleteSelectedEvent, MatAutocomplete, MatAutocompleteTrigger} from '@angular/material/autocomplete';\r\nimport {MatChipInputEvent} from '@angular/material/chips';\r\nimport {ConfirmationDialogComponent} from '../../confirmation-dialog/confirmation-dialog.component'\r\n\r\nfunction autocompleteObjectValidator(): ValidatorFn {\r\n  return (control: AbstractControl): { [key: string]: any } | null => {\r\n    if (typeof control.value === 'string') {\r\n      return { 'invalidAutocompleteObject': { value: control.value } }\r\n    }\r\n    return null  /* valid option selected */\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'app-form-dialog',\r\n  templateUrl: './form-dialog.component.html',\r\n  styleUrls: ['./form-dialog.component.sass']\r\n})\r\n\r\n\r\nexport class FormDialogComponent {\r\n\r\n  @ViewChild('autocompleteTrigger') matACTrigger: MatAutocompleteTrigger;\r\n  @ViewChild('licenceInput') licenceInput: ElementRef<HTMLInputElement>;\r\n\r\n  action: string;\r\n  dialogTitle: string;\r\n  calendarForm: FormGroup;\r\n  calendar: Calendar;\r\n  showDeleteBtn = false;\r\n  ViewAssignList;\r\n  scheduleList;\r\n  timeArray;\r\n  editInfo;\r\n  timeSlotList;\r\n\r\n  selectable = true;\r\n  removable = true;\r\n  separatorKeysCodes: number[] = [ENTER, COMMA];\r\n  viewAssign_selected= [];\r\n\r\n  viewAssignTypeData:any;\r\n\r\n  schedule_view_assignment = new FormControl('', { validators: [autocompleteObjectValidator(), Validators.required] }); \r\n\r\n  viewAssignTypeList: Observable<string[]>;\r\n\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<FormDialogComponent>,\r\n    public dialog: MatDialog,\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public calendarService: ScheduleService,private modalService: NgbModal,\r\n    private fb: FormBuilder,private toastrService: ToastrService,\r\n  ) {\r\n    // Set the defaults\r\n    this.getTimeDetails();\r\n    this.action = data.action;\r\n    if (this.action === 'edit') {\r\n      this.timeSlotList=[];\r\n     console.log(\"edit===========\",data.calendar);\r\n      this.viewAssignTypeData=[];\r\n      this.dialogTitle = data.calendar.title;\r\n      this.calendar = data.calendar;\r\n      this.showDeleteBtn = true;\r\n        this.calendarService.getScheduleEditView(data.calendar,sessionStorage.client)\r\n        .subscribe(res=>{\r\n          console.log(\"edit-----data============\",res);\r\n          this.editInfo=res['data'];\r\n          let commonTimeslot=[];\r\n          for(let i=0;i<this.editInfo.length;i++){\r\n            console.log(\"editInfo[i].TimeSlot.length======\",this.editInfo[i].TimeSlot.length)\r\n            if(this.editInfo[i].TimeSlot.length<8){\r\n              console.log(\"if--------------------\");\r\n              this.editInfo[i].TimeSlot=this.zeroPad(this.editInfo[i].TimeSlot,this.timeArray.length);\r\n              commonTimeslot.push(this.editInfo[i].TimeSlot);\r\n              this.timeSlotList.push(this.editInfo[i].TimeSlot);\r\n            }else{\r\n              console.log(\"else------------------\");\r\n              commonTimeslot.push(this.editInfo[i].TimeSlot);\r\n              this.timeSlotList.push(this.editInfo[i].TimeSlot);\r\n            }\r\n            this.viewAssignTypeData.push({\r\n              id:this.editInfo[i].employee_id,\r\n              name:this.editInfo[i].employee_name,\r\n              checked:true\r\n            })\r\n          }\r\n\r\n            var result = commonTimeslot.reduce(function(a, b) {\r\n              console.log(\"a---------b------\",a,b)\r\n              return a || b;\r\n            });\r\n            console.log(\"result-------------\",result);\r\n            for(let j=0;j<this.timeArray.length;j++){\r\n              if(result[j] == 1){\r\n                this.timeArray[j].checkValue=1;\r\n                this.timeArray[j].checked=true;\r\n              }else{\r\n                this.timeArray[j].checkValue=0;\r\n                this.timeArray[j].checked=false;\r\n              }\r\n            }\r\n            console.log(\"timeArray-------------\",this.timeArray);\r\n          this.viewAssign_selected=this.viewAssignTypeData;\r\n          this.viewAssignTypeList = this.schedule_view_assignment.valueChanges.pipe(\r\n            startWith(''),\r\n            map(value => (typeof value === 'string' ? value : value.name)),\r\n            map(name => (name ? this._filterviewAssignType(name) : this.viewAssignTypeData.slice())),\r\n           );\r\n\r\n        });\r\n       \r\n      this.calendarForm = this.editContactForm();\r\n    } else {\r\n      console.log(\"newwww--------datad====\",data);\r\n      this.dialogTitle = 'New Event';\r\n      this.calendar = new Calendar({});\r\n      this.showDeleteBtn = false;\r\n      this.calendarForm = this.createContactForm(data.calendar);\r\n    }\r\n    \r\n    this.getScheduleList();\r\n  }\r\n  formControl = new FormControl('', [\r\n    Validators.required\r\n    // Validators.email,\r\n  ]);\r\n\r\n  getErrorMessage() {\r\n    return this.formControl.hasError('required')\r\n      ? 'Required field'\r\n      : this.formControl.hasError('email')\r\n        ? 'Not a valid email'\r\n        : '';\r\n  }\r\n\r\n  zeroPad(num,total) {\r\n    console.log(num)\r\n    return num.toString().padStart(Number(total), \"0\");\r\n  }\r\n\r\n  createContactForm(calendarFm): FormGroup {\r\n    return this.fb.group({\r\n      id: [this.calendar.id],\r\n      lead_time: [\r\n        this.calendar.lead_time,\r\n        [Validators.required]\r\n      ],\r\n      schedule_name: [this.calendar.schedule_name],\r\n      // schedule_owner: [this.calendar.schedule_owner],\r\n      schedule_view: [this.calendar.schedule_view],\r\n      // schedule_view_assignment: [this.calendar.schedule_view_assignment],\r\n      startDate: [calendarFm.start,\r\n      [Validators.required]\r\n      ],\r\n      endDate: [calendarFm.start,\r\n      [Validators.required]\r\n      ]\r\n    });\r\n  }\r\n\r\n  editContactForm(): FormGroup {\r\n    return this.fb.group({\r\n      id: [this.calendar.id],\r\n      lead_time: [\r\n        this.calendar.lead_time,\r\n        [Validators.required]\r\n      ],\r\n      schedule_name: [this.calendar.schedule_name],\r\n      // schedule_owner: [this.calendar.schedule_owner],\r\n      schedule_view: [this.calendar.schedule_view],\r\n      startDate: [this.calendar.startDate,\r\n      [Validators.required]\r\n      ],\r\n      endDate: [this.calendar.endDate,\r\n      [Validators.required]\r\n      ]\r\n    });\r\n  }\r\n  submit() {\r\n  }\r\n  deleteEvent() {\r\n    const dialogRef = this.dialog.open(ConfirmationDialogComponent,{\r\n      data:{\r\n        message: 'Are you sure want to delete the Schedule?',\r\n        btnColor:\"warn\",\r\n        buttonText: {\r\n          ok: 'Yes',\r\n          cancel: 'No'\r\n        }\r\n      }\r\n    })\r\n    dialogRef.afterClosed().subscribe((confirmed: boolean) => {\r\n      if (confirmed) {\r\n        alert(\"confirmedddd\");\r\n        console.log(\"dele---data===========\",this.editInfo)\r\n         this.calendarService.deleteScheduleDetails(this.editInfo,sessionStorage.currentUser,sessionStorage.client)\r\n          .subscribe(res=>{\r\n            this.toastrService.success(\"Deleted Successfully!!!!\")\r\n            this.dialogRef.close('delete');\r\n          })\r\n      }\r\n    });\r\n   \r\n    \r\n  }\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n\r\n setScheduleDetails() {\r\n   if(this.action == 'add'){\r\n      let timeSlot='';\r\n    for(let j=0;j<this.timeArray.length;j++){\r\n      timeSlot=timeSlot+this.timeArray[j].checkValue;\r\n    }\r\n      console.log(\"this.viewAssign_selected==\",this.viewAssign_selected,this.calendarForm.value);\r\n      if(this.viewAssign_selected.length > 0){\r\n          console.log(\"timeDt======\",timeSlot, typeof timeSlot);\r\n          this.calendarService.setScheduleDetails(this.calendarForm.value,timeSlot,this.viewAssign_selected,sessionStorage.currentUser,sessionStorage.client)\r\n          .subscribe(res=>{\r\n            if(res['status'] == 'Success'){\r\n              this.toastrService.success(\"Updated Successfully!!!!\");\r\n              this.dialogRef.close('submit');\r\n            }else{\r\n              this.toastrService.error(\"Already Exists!!!!\");\r\n            }\r\n          })\r\n      }else{\r\n        this.toastrService.error(\"Please Select the Schedule View Assignment!!\")\r\n      }\r\n   }\r\n   \r\n   if(this.action == 'edit'){\r\n      console.log(\"this.viewAssign_selected==\",this.viewAssign_selected,this.calendarForm.value);\r\n      if(this.viewAssign_selected.length > 0){\r\n            let assigneeName=[];\r\n            let assigneeId=[];\r\n            console.log(\"dele---data===========\",this.editInfo);\r\n            for(let i=0;i<this.viewAssign_selected.length;i++){\r\n              assigneeName.push(this.viewAssign_selected[i].name);\r\n              assigneeId.push(this.viewAssign_selected[i].id);\r\n            }\r\n        const dialogRef = this.dialog.open(ConfirmationDialogComponent,{\r\n          data:{\r\n            message: 'The Schedule will be updated for the selected Instructors',\r\n            dynamicMsg:assigneeName,\r\n            btnColor:\"primary\",\r\n            buttonText: {\r\n              ok: 'OK',\r\n              cancel: 'Cancel'\r\n            }\r\n          }\r\n        })\r\n        dialogRef.afterClosed().subscribe((confirmed: boolean) => {\r\n          if (confirmed) {\r\n            let timeSlot='';\r\n            for(let j=0;j<this.timeArray.length;j++){\r\n              timeSlot=timeSlot+this.timeArray[j].checkValue;\r\n            }\r\n            let itemTobeUpdated=this.editInfo.filter((elem)=>{return assigneeId.includes(elem.employee_id)});\r\n            console.log(\"itemTobeUpdated=======\",itemTobeUpdated,timeSlot);\r\n            if(!this.timeSlotList.includes(timeSlot)){\r\n              this.calendarService.updateScheduleDetails(itemTobeUpdated,timeSlot,sessionStorage.currentUser,sessionStorage.client)\r\n              .subscribe(res=>{\r\n              this.toastrService.success(\"Updated Successfully!!!!\")\r\n                this.dialogRef.close('submit');\r\n              })\r\n            }else{\r\n              this.toastrService.error(\"Please provide some data to Update!!\")\r\n            }\r\n          }\r\n        });\r\n        \r\n      }else{\r\n        this.toastrService.error(\"Please Select the Schedule View Assignment!!\")\r\n      }\r\n\r\n\r\n     console.log(\"this.calendarForm.value========\",this.calendarForm.value);\r\n   \r\n   }\r\n  }\r\n\r\n\r\n  getScheduleViewAssignList(){\r\n    this.viewAssign_selected=[];\r\n    this.viewAssignTypeData=[];\r\n    this.calendarService.getScheduleViewAssignList(this.calendarForm.value.schedule_view,sessionStorage.client)\r\n    .subscribe(res=>{\r\n        this.viewAssignTypeData=res['data'];\r\n        console.log(\"this.this.schedule_view_assignment=========\",this.schedule_view_assignment);\r\n        this.viewAssignTypeList = this.schedule_view_assignment.valueChanges.pipe(\r\n          startWith(''),\r\n          map(value => (typeof value === 'string' ? value : value.name)),\r\n          map(name => (name ? this._filterviewAssignType(name) : this.viewAssignTypeData.slice())),\r\n          );\r\n      })\r\n  }\r\n\r\n  displayFn(user): string {\r\n    return user && user.name ? user.name : '';\r\n  }\r\n\r\n  private _filterviewAssignType(obj): [] {\r\n    console.log(\"name=====\",obj);\r\n    const filterValue = obj.toLowerCase();\r\n    return this.viewAssignTypeData.filter(option => option.name.toLowerCase().includes(filterValue));\r\n\r\n  }\r\n\r\n  add(event: MatChipInputEvent): void {\r\n    const input = event.input;\r\n    const value = event.value;\r\n    console.log(\"------------\",value)\r\n    // Add our fruit\r\n    if ((value || '').trim()) {\r\n      this.viewAssign_selected.push(value);\r\n    }\r\n\r\n    // Reset the input value\r\n    if (input) {\r\n      input.value = '';\r\n    }\r\n\r\n    this.schedule_view_assignment.setValue('');\r\n  }\r\n\r\n  remove(viewAssign: string): void {\r\n    console.log(\"viewAssign=========\",viewAssign);\r\n    let insToDelete='';\r\n    if (this.viewAssign_selected.findIndex(item => item.id === viewAssign) >= 0) {\r\n      if(this.action == 'edit'){\r\n        for(let i=0;i<this.viewAssignTypeData.length;i++){\r\n          if(this.viewAssignTypeData[i].id==viewAssign){\r\n            insToDelete=this.viewAssignTypeData[i].name;\r\n          }\r\n        }\r\n        const dialogRef = this.dialog.open(ConfirmationDialogComponent,{\r\n          data:{\r\n            message: 'Are you sure, want to delete the Schedule for the Instructor?',\r\n            dynamicMsg:insToDelete +' schedule will be removed permanently',\r\n            btnColor:\"warn\",\r\n            buttonText: {\r\n              ok: 'Yes',\r\n              cancel: 'No'\r\n            }\r\n          }\r\n        })\r\n        dialogRef.afterClosed().subscribe((confirmed: boolean) => {\r\n          if (confirmed) {\r\n            console.log(\"dele---data===========\",this.editInfo);\r\n            let objToDelete=this.editInfo.filter((elem)=>{return elem.employee_id==viewAssign});\r\n            console.log(\"finallll to dellll-----\",objToDelete);\r\n             this.calendarService.deleteScheduleDetails(objToDelete,sessionStorage.currentUser,sessionStorage.client)\r\n              .subscribe(res=>{\r\n                this.toastrService.success(\"Deleted Successfully!!!!\");\r\n                this.viewAssign_selected = [...this.viewAssign_selected.filter(fruit=>fruit.id !== viewAssign)];\r\n                for(let i=0;i<this.viewAssignTypeData.length;i++){\r\n                  if(this.viewAssignTypeData[i].id==viewAssign){\r\n                    this.viewAssignTypeData[i].checked=false;\r\n                  }\r\n                }\r\n                this.dialogRef.close('delete');\r\n              })\r\n          }\r\n        });\r\n      }else{\r\n        this.viewAssign_selected = [...this.viewAssign_selected.filter(fruit=>fruit.id !== viewAssign)];\r\n        for(let i=0;i<this.viewAssignTypeData.length;i++){\r\n          if(this.viewAssignTypeData[i].id==viewAssign){\r\n            insToDelete=this.viewAssignTypeData[i].name;\r\n            this.viewAssignTypeData[i].checked=false;\r\n          }\r\n        }\r\n      }\r\n    } \r\n  }\r\n\r\n  openAuto(trigger: MatAutocompleteTrigger) {\r\n    trigger.openPanel();\r\n    this.licenceInput.nativeElement.focus();\r\n    console.log(trigger);\r\n  }\r\n\r\n  selectedViewAssignment(event: MatAutocompleteSelectedEvent): void {\r\n    const newValue = event.option.viewValue;\r\n    console.log(\"newValue=======\",event.option);\r\n    if (this.viewAssign_selected.findIndex(item => item.id === event.option.value) >= 0) {\r\n      this.viewAssign_selected = [...this.viewAssign_selected.filter(fruit=>fruit.name !== newValue)];\r\n      for(let i=0;i<this.viewAssignTypeData.length;i++){\r\n        if(this.viewAssignTypeData[i].id==event.option.value){\r\n          this.viewAssignTypeData[i].checked=false;\r\n        }\r\n      }\r\n    } else {\r\n      for(let i=0;i<this.viewAssignTypeData.length;i++){\r\n        if(this.viewAssignTypeData[i].id==event.option.value){\r\n          this.viewAssignTypeData[i].checked=true;\r\n          this.viewAssign_selected.push(this.viewAssignTypeData[i]);\r\n        }  \r\n      }\r\n    }\r\n\r\n    console.log(\"this.viewAssign_selected====111====\",this.viewAssign_selected);\r\n\r\n    if(this.viewAssign_selected.length > 1 ){\r\n          let timeArr=[];\r\n          this.timeSlotList=[];\r\n          for(let j=0;j<this.editInfo.length;j++){\r\n            for(let m=0;m<this.viewAssign_selected.length;m++){\r\n              if(this.editInfo[j].employee_id == this.viewAssign_selected[m].id){\r\n                console.log(\"this.editInfo[j].TimeSlot========\",this.editInfo[j].TimeSlot)\r\n                timeArr.push(this.editInfo[j].TimeSlot);\r\n                this.timeSlotList.push(this.editInfo[j].TimeSlot);\r\n              }\r\n            }\r\n          }\r\n          var result1 = timeArr.reduce(function(a, b) {\r\n            console.log(\"a---------b------\",a,b)\r\n            return a || b;\r\n          });\r\n          for(let k=0;k<this.timeArray.length;k++){\r\n          if(result1[k] == 1){\r\n            this.timeArray[k].checkValue=1;\r\n            this.timeArray[k].checked=true;\r\n          }else{\r\n            this.timeArray[k].checkValue=0;\r\n            this.timeArray[k].checked=false;\r\n          }\r\n        }\r\n        console.log(\"timeArray-------------\",this.timeArray);\r\n    }else if(this.viewAssign_selected.length == 1 ){\r\n          let timeData;\r\n          for(let j=0;j<this.editInfo.length;j++){\r\n            if(this.editInfo[j].employee_id == this.viewAssign_selected[0].id){\r\n                timeData=this.editInfo[j].TimeSlot;\r\n            }\r\n          }\r\n          for(let k=0;k<this.timeArray.length;k++){\r\n            if(timeData[k] == 1){\r\n              this.timeArray[k].checkValue=1;\r\n              this.timeArray[k].checked=true;\r\n            }else{\r\n              this.timeArray[k].checkValue=0;\r\n              this.timeArray[k].checked=false;\r\n            }\r\n          }\r\n          console.log(\"timeArray-------------\",this.timeArray);\r\n    }else{\r\n        for(let k=0;k<this.timeArray.length;k++){\r\n            this.timeArray[k].checkValue=0;\r\n            this.timeArray[k].checked=false;\r\n        }\r\n    }\r\n    this.licenceInput.nativeElement.value = '';\r\n      this.schedule_view_assignment.setValue('');\r\n    // keep the autocomplete opened after each item is picked.\r\n    requestAnimationFrame(()=>{\r\n      this.openAuto(this.matACTrigger);\r\n    })\r\n\r\n  }\r\n\r\n\r\n  getScheduleList(){\r\n    this.calendarService.getScheduleList()\r\n    .subscribe(res=>{\r\n        this.scheduleList=res['data'];\r\n        console.log(\"this.ViewAssignList====\",this.ViewAssignList)\r\n    })\r\n  }\r\n\r\n  getTimeDetails(){\r\n    this.calendarService.getTimeDetails(sessionStorage.client)\r\n    .subscribe((res)=>{\r\n        let resObj=res['data'][0];\r\n        console.log(\"res['data'][0]=====timeeee================\",res['data'][0]);\r\n        this.makeTimeIntervals((resObj.working_hour_from).substr(0, 5),(resObj.working_hour_to).substr(0, 5),60,(resObj.rest_hour_from).substr(0, 5),(resObj.rest_hour_to).substr(0, 5))\r\n    })\r\n  }\r\n\r\n  changeTimeDt(event: MatCheckboxChange, filter) {\r\n    console.log(\"---------\",event,filter)\r\n    if (event.checked == true) {\r\n      for(let i=0;i<this.timeArray.length;i++){\r\n          if(this.timeArray[i].range == filter.range){\r\n              this.timeArray[i].checkValue=1;\r\n          }\r\n      }\r\n    }else{\r\n      for(let i=0;i<this.timeArray.length;i++){\r\n        if(this.timeArray[i].range == filter.range){\r\n            this.timeArray[i].checkValue=0;\r\n        }\r\n      }\r\n    }\r\n\r\n    console.log(\"this.timeArray---change------\",this.timeArray);\r\n  }\r\n\r\n\r\n  makeTimeIntervals (startTime, endTime, increment, restStart, restEnd){\r\n    startTime = startTime.toString().split(':');\r\n    endTime = endTime.toString().split(':');\r\n    increment = parseInt(increment, 10);\r\n\r\n    var pad = function (n) { return (n < 10) ? '0' + n.toString() : n; },\r\n        startHr = parseInt(startTime[0], 10),\r\n        startMin = parseInt(startTime[1], 10),\r\n        endHr = parseInt(endTime[0], 10),\r\n        endMin = parseInt(endTime[1], 10),\r\n        currentHr = startHr,\r\n        currentMin = startMin,\r\n        previous = currentHr + ':' + pad(currentMin),\r\n        current = '',\r\n        r = [];\r\n\r\n    do {\r\n        currentMin += increment;\r\n        if ((currentMin % 60) === 0 || currentMin > 60) {\r\n            currentMin = (currentMin === 60) ? 0 : currentMin - 60;\r\n            currentHr += 1;\r\n        }\r\n        current = currentHr + ':' + pad(currentMin);\r\n        r.push({'range':previous + ' - ' + current,'checked':false,'checkValue':0});\r\n        previous = current;\r\n  } while (currentHr !== endHr);\r\n      var restTime=restStart+' - '+ restEnd;\r\n      console.log(\"restStart+ ' - ' + restEnd===\",typeof restTime);\r\n      this.timeArray=r.filter((el)=>{return el.range != restTime});\r\n      console.log(\"this.timeArray====\",this.timeArray);\r\n};\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AddScheduleComponent } from './add-schedule/add-schedule.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'schedule-list',\r\n    component: AddScheduleComponent\r\n  },\r\n  // {\r\n  //   path: 'edit-package/:id',\r\n  //   component: EditScheduleComponent\r\n  // },\r\n  // {\r\n  //   path: 'about-student',\r\n  //   component: AboutStudentComponent\r\n  // }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ScheduleRoutingModule {}\r\n","import { formatDate } from '@angular/common';\r\nexport class Calendar {\r\n    id: number;\r\n    lead_time: string;\r\n    schedule_name: string;\r\n    schedule_owner:string;\r\n    schedule_view:string;\r\n    schedule_view_assignment:string;\r\n    startDate: string;\r\n    endDate: string;\r\n\r\n    constructor(calendar) {\r\n        {\r\n            this.id = calendar.id || this.getRandomID();\r\n            this.lead_time = calendar.lead_time || '';\r\n            this.schedule_name = calendar.schedule_name || '';\r\n            this.schedule_owner = calendar.schedule_owner || '';\r\n            this.schedule_view = calendar.schedule_view || '';\r\n            this.schedule_view_assignment = calendar.schedule_view_assignment || '';\r\n            this.startDate = formatDate(new Date(), 'yyyy-MM-dd', 'en') || '';\r\n            this.endDate = formatDate(new Date(), 'yyyy-MM-dd', 'en') || '';\r\n        }\r\n    }\r\n    public getRandomID(): string {\r\n        const S4 = () => {\r\n            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n        };\r\n        return S4() + S4();\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MaterialFileInputModule } from 'ngx-material-file-input';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatStepperModule } from '@angular/material/stepper';\r\nimport { NgxMaskModule } from 'ngx-mask';\r\nimport { ScheduleRoutingModule } from './schedule-routing.module';\r\nimport { ScheduleService } from './schedule.service';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\nimport {MatChipsModule} from '@angular/material/chips';\r\nimport { FullCalendarModule } from \"@fullcalendar/angular\";\r\nimport { OwlDateTimeModule, OwlNativeDateTimeModule } from \"ng-pick-datetime\";  \r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\r\nimport listPlugin from \"@fullcalendar/list\";\r\nimport interactionPlugin from \"@fullcalendar/interaction\";\r\n\r\nimport { FormDialogComponent as calFormComponent } from \"./dialogs/form-dialog/form-dialog.component\";\r\n\r\nimport { AddScheduleComponent } from './add-schedule/add-schedule.component';\nimport { ConfirmationDialogComponent } from './confirmation-dialog/confirmation-dialog.component';\r\n\r\n\r\n\r\nFullCalendarModule.registerPlugins([\r\n  dayGridPlugin,\r\n  timeGridPlugin,\r\n  listPlugin,\r\n  interactionPlugin,\r\n]);\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddScheduleComponent,calFormComponent, ConfirmationDialogComponent\r\n  ],\r\n  imports: [NgxDatatableModule,MatChipsModule,\r\n    CKEditorModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatTableModule,\r\n    MatPaginatorModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatSnackBarModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatDialogModule,\r\n    MatSortModule,  \r\n    MatToolbarModule,\r\n    MatSelectModule,\r\n    MatDatepickerModule,\r\n    MatCheckboxModule,\r\n    MatTabsModule,\r\n    MatMenuModule,\r\n    MaterialFileInputModule,\r\n    ScheduleRoutingModule,\r\n    MatProgressSpinnerModule,MatStepperModule,\r\n    NgxMaskModule,TranslateModule,\r\n    MatAutocompleteModule,\r\n    FullCalendarModule, OwlDateTimeModule,\r\n    OwlNativeDateTimeModule,\r\n  ],\r\n  providers: [ScheduleService],\r\n})\r\nexport class ScheduleModule {}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { Calendar } from \"./schedule.model\";\r\nimport { Observable } from \"rxjs\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { throwError } from \"rxjs\";\r\nimport { catchError } from \"rxjs/operators\";\r\nimport { environment } from '../../../environments/environment'\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ScheduleService {\r\n\r\n  private readonly API_URL = \"assets/data/calendar.json\";\r\n  httpOptions = {\r\n    headers: new HttpHeaders({\r\n      \"Content-Type\": \"application/json\",\r\n    }),\r\n  };\r\n  dataChange: BehaviorSubject<Calendar[]> = new BehaviorSubject<Calendar[]>([]);\r\n  // Temporarily stores data from dialogs\r\n  dialogData: any;\r\n  constructor(private http: HttpClient) {}\r\n  get data(): Calendar[] {\r\n    return this.dataChange.value;\r\n  }\r\n  getDialogData() {\r\n    return this.dialogData;\r\n  }\r\n  getAllCalendars(): Observable<Calendar[]> {\r\n    return this.http\r\n      .get<Calendar[]>(this.API_URL)\r\n      .pipe(catchError(this.errorHandler));\r\n  }\r\n\r\n\r\n  deleteCalendar(calendar: Calendar): void {\r\n    this.dialogData = calendar;\r\n  }\r\n  errorHandler(error) {\r\n    let errorMessage = \"\";\r\n    if (error.error instanceof ErrorEvent) {\r\n      // Get client-side error\r\n      errorMessage = error.error.message;\r\n    } else {\r\n      // Get server-side error\r\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\r\n    }\r\n    console.log(errorMessage);\r\n    return throwError(errorMessage);\r\n  }\r\n\r\n  getScheduleViewAssignList(schedule_view,client){\r\n    return this.http\r\n    .post<any>(`${environment.apiUrl}/webRoutes/getScheduleViewAssignList`,{schedule_view,client})\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  getScheduleList(){\r\n    return this.http\r\n    .get<any>(`${environment.apiUrl}/webRoutes/getScheduleList`)\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  setScheduleDetails(calendarData,timeSlot,viewAssign_selected,authToken,client){\r\n    //this.dialogData = calendar;\r\n    return this.http\r\n    .post<any>(`${environment.apiUrl}/webRoutes/setScheduleDetails`,{calendarData,timeSlot,viewAssign_selected,authToken,client})\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  getScheduleDetails(client){\r\n    //this.dialogData = calendar;\r\n    return this.http\r\n    .post<any>(`${environment.apiUrl}/webRoutes/getScheduleDetails`,{client})\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  updateScheduleDetails(calendarData,timeslot,authToken,client){\r\n    //this.dialogData = calendar;\r\n    return this.http\r\n    .post<any>(`${environment.apiUrl}/webRoutes/updateScheduleDetails`,{calendarData,timeslot,authToken,client})\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  deleteScheduleDetails(calendarData,authToken,client){\r\n    //this.dialogData = calendar;\r\n    return this.http\r\n    .post<any>(`${environment.apiUrl}/webRoutes/deleteScheduleDetails`,{calendarData,authToken,client})\r\n    .pipe(\r\n      map((res) => {\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  getTimeDetails(client){\r\n    return this.http\r\n      .post<any>(`${environment.apiUrl}/webRoutes/getTimeDetails`,{client})\r\n      .pipe(\r\n        map((res) => {\r\n          // localStorage.setItem('currentEmployee', JSON.stringify(user));\r\n          // this.currentEmployeeSubject.next(user);\r\n          return res;\r\n        })\r\n      );\r\n  }\r\n  \r\n\r\n  getScheduleEditView(editData,client){\r\n    return this.http\r\n      .post<any>(`${environment.apiUrl}/webRoutes/getScheduleEditView`,{editData,client})\r\n      .pipe(\r\n        map((res) => {\r\n          // localStorage.setItem('currentEmployee', JSON.stringify(user));\r\n          // this.currentEmployeeSubject.next(user);\r\n          return res;\r\n        })\r\n      );\r\n  }\r\n\r\n}\r\n"]}