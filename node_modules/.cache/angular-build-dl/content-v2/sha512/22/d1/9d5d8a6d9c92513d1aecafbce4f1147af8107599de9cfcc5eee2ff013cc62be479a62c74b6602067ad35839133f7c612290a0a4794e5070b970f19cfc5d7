(self.webpackChunksmart=self.webpackChunksmart||[]).push([[3424],{93424:function(e,a,t){"use strict";t.r(a),t.d(a,{PackageModule:function(){return ca}});var i=t(61116),s=t(31041),r=t(39199),o=t(5609),l=t(13070),c=t(9550),n=t(63589),p=t(84369),g=t(77307),h=t(13841),d=t(92935),u=t(59241),m=t(37112),A=t(69024),Z=t(40994),_=t(1325),f=t(57173),T=t(97070),P=t(87672),k=t(44716),q=t(51601),v=t(35729),y=t(17647),L=t(35366),E=t(42693),C=t(91681),b=t(529);let x=(()=>{class e{constructor(e){this.http=e}setLicenseDetails(e){return this.http.post(`${b.N.apiUrl}/webRoutes/setLicenseDetails`,{licenseData:e}).pipe((0,C.U)(e=>e))}getLicenseListPerClient(){return this.http.get(`${b.N.apiUrl}/webRoutes/getLicenseListPerClient`).pipe((0,C.U)(e=>e))}getLicenseClassList(){return this.http.get(`${b.N.apiUrl}/webRoutes/getLicenseClassList`).pipe((0,C.U)(e=>e))}getPakageTypeList(){return this.http.get(`${b.N.apiUrl}/webRoutes/getPakageTypeList`).pipe((0,C.U)(e=>e))}getPaymentPhases(){return this.http.get(`${b.N.apiUrl}/webRoutes/getPaymentPhases`).pipe((0,C.U)(e=>e))}setPackageDetails(e){return this.http.post(`${b.N.apiUrl}/webRoutes/setPackageDetails`,e).pipe((0,C.U)(e=>e))}getPackageListPerClient(){return this.http.get(`${b.N.apiUrl}/webRoutes/getPackageListPerClient`).pipe((0,C.U)(e=>e))}getPackageToEdit(e){return this.http.post(`${b.N.apiUrl}/webRoutes/getPackageToEdit`,{packageId:e}).pipe((0,C.U)(e=>e))}updatePackageDetails(e){return this.http.post(`${b.N.apiUrl}/webRoutes/updatePackageDetails`,e).pipe((0,C.U)(e=>e))}deletePackageDetails(e){return this.http.post(`${b.N.apiUrl}/webRoutes/deletePackageDetails`,{rowToDelete:e}).pipe((0,C.U)(e=>e))}}return e.\u0275fac=function(a){return new(a||e)(L.LFG(E.eN))},e.\u0275prov=L.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var S=t(24486),I=t(50518),N=t(94784),w=t(31269),F=t(60649);function U(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"span"),L.TgZ(1,"button",40),L.NdJ("click",function(){const a=L.CHM(e),t=a.row,i=a.rowIndex;return L.oxw().editPackage(t,i)}),L.TgZ(2,"mat-icon",41),L._uU(3,"edit "),L.qZA(),L.qZA(),L.TgZ(4,"button",42),L.NdJ("click",function(){const a=L.CHM(e),t=a.row,i=a.rowIndex,s=L.oxw(),r=L.MAs(65);return s.deletePackage(t,i,r)}),L.TgZ(5,"mat-icon",43),L._uU(6,"delete "),L.qZA(),L.qZA(),L.qZA()}}function G(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"div",44),L.TgZ(1,"h4",45),L.TgZ(2,"div",46),L.TgZ(3,"div",47),L.TgZ(4,"div",48),L._uU(5),L.ALo(6,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(7,"button",49),L.NdJ("click",function(){return L.CHM(e).$implicit.dismiss("Cross click")}),L.TgZ(8,"span",50),L.TgZ(9,"i",51),L._uU(10,"close"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(11,"div",52),L.TgZ(12,"p"),L._uU(13),L.ALo(14,"translate"),L.qZA(),L.TgZ(15,"div",53),L.TgZ(16,"div",54),L.TgZ(17,"button",55),L.NdJ("click",function(){return L.CHM(e),L.oxw().deletePackageDetails()}),L._uU(18),L.ALo(19,"translate"),L.qZA(),L.TgZ(20,"button",56),L.NdJ("click",function(){return L.CHM(e).$implicit.close()}),L._uU(21),L.ALo(22,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA()}2&e&&(L.xp6(5),L.hij(" ",L.lcZ(6,4,"PACKAGE.DELETETITLE"),""),L.xp6(8),L.Oqu(L.lcZ(14,6,"BUTTON.CONFIRMATION")),L.xp6(5),L.Oqu(L.lcZ(19,8,"BUTTON.DEL-BTN")),L.xp6(3),L.Oqu(L.lcZ(22,10,"BUTTON.CANCEL-BTN")))}let J=(()=>{class e{constructor(e,a,t,i,s,r,o,l,c){this.httpClient=e,this.dialog=a,this.packageService=t,this.snackBar=i,this.router=s,this.modalService=r,this.toastrService=o,this.languageService=l,this.spinner=c,this.columns=[{name:"License Type"},{name:"Package Type"},{name:"Final Package Price"},{name:"Payment Phase"},{name:"Global View"}],this.data=[],this.filteredData=[],this.translateVal="ml"==localStorage.lang?"malay":"english"}ngOnInit(){this.loadData(),this.languageService.languageChanged.subscribe(e=>{this.translateVal="ml"==localStorage.lang?"malay":"english",this.loadData()})}refresh(){this.loadData()}addNewPackage(){this.router.navigate(["/admin/package/add-package"])}loadData(){this.spinner.show(),this.packageService.getPackageListPerClient().subscribe(e=>{this.spinner.hide(),console.log("Pack data!!!!!!!!",e.data);for(let a=0;a<e.data.length;a++)e.data[a].global_view=1==e.data[a].global_view,e.data[a].package_type=e.data[a][this.translateVal],e.data[a].payment_phase=e.data[a]["phase_"+this.translateVal];this.data=e.data,this.filteredData=e.data})}filterDatatable(e){const a=e.target.value.toLowerCase(),t=this.columns.length,i=Object.keys(this.filteredData[0]);this.data=this.filteredData.filter(function(e){for(let s=0;s<t;s++)if(-1!==e[i[s]].toString().toLowerCase().indexOf(a)||!a)return!0}),this.table.offset=0}editPackage(e,a){console.log("rowww===",e),this.router.navigate(["/admin/package/edit-package",e.id])}deletePackage(e,a,t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}),this.rowToDelete=e}deletePackageDetails(){this.spinner.show(),this.packageService.deletePackageDetails(this.rowToDelete).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(this.toastrService.success("Deleted Successfully!!!"),this.modalService.dismissAll(),this.loadData()),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))})}}return e.\u0275fac=function(a){return new(a||e)(L.Y36(E.eN),L.Y36(d.uw),L.Y36(x),L.Y36(n.ux),L.Y36(v.F0),L.Y36(S.FF),L.Y36(I._W),L.Y36(N.T),L.Y36(w.t2))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-package-list"]],viewQuery:function(e,a){if(1&e&&L.Gf(y.nE,5),2&e){let e;L.iGM(e=L.CRH())&&(a.table=e.first)}},decls:66,vars:42,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12"],[1,"mt-5"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ml-0"],[1,"dropdown"],[1,"dropdown","m-l-20"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"col-4"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],[1,"material",3,"rows","columns","sortType","columnMode","headerHeight","footerHeight","rowHeight","limit"],["table",""],["prop","license_data",3,"name","width"],["prop","package_type",3,"name","width"],["prop","package_offers",3,"name","width"],["prop","final_package_price",3,"name","width"],["prop","payment_phase",3,"name","width"],["prop","global_view",3,"name","width"],["sortable","false",3,"name","width"],["ngx-datatable-cell-template",""],["deleteRecord",""],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"click"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-button","","type","button",3,"click"]],template:function(e,a){1&e&&(L.TgZ(0,"ngx-spinner",0),L.TgZ(1,"p",1),L._uU(2,"Loading..."),L.qZA(),L.qZA(),L.TgZ(3,"section",2),L.TgZ(4,"div",3),L.TgZ(5,"div",4),L.TgZ(6,"div",5),L.TgZ(7,"div",6),L.TgZ(8,"ul",7),L.TgZ(9,"li",8),L.TgZ(10,"h4",9),L._uU(11),L.ALo(12,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(13,"div",5),L.TgZ(14,"div",10),L.TgZ(15,"div",11),L.TgZ(16,"div",12),L.TgZ(17,"div",13),L.TgZ(18,"div",14),L.TgZ(19,"div",15),L.TgZ(20,"div",16),L.TgZ(21,"div",5),L.TgZ(22,"div",17),L.TgZ(23,"ul",18),L.TgZ(24,"li",19),L.TgZ(25,"h2"),L.TgZ(26,"strong"),L._uU(27),L.ALo(28,"translate"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(29,"li",20),L.TgZ(30,"label",21),L.TgZ(31,"i",22),L._uU(32,"search"),L.qZA(),L.qZA(),L.TgZ(33,"input",23),L.NdJ("keyup",function(e){return a.filterDatatable(e)}),L.qZA(),L.qZA(),L._UZ(34,"li"),L.qZA(),L.qZA(),L.TgZ(35,"div",24),L.TgZ(36,"ul",25),L.TgZ(37,"li"),L.TgZ(38,"div",26),L.TgZ(39,"button",27),L.NdJ("click",function(){return a.addNewPackage()}),L.TgZ(40,"mat-icon",28),L._uU(41,"add"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(42,"li"),L.TgZ(43,"div",26),L.TgZ(44,"button",27),L.NdJ("click",function(){return a.refresh()}),L.TgZ(45,"mat-icon",28),L._uU(46,"refresh "),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(47,"ngx-datatable",29,30),L._UZ(49,"ngx-datatable-column",31),L.ALo(50,"translate"),L._UZ(51,"ngx-datatable-column",32),L.ALo(52,"translate"),L._UZ(53,"ngx-datatable-column",33),L.ALo(54,"translate"),L._UZ(55,"ngx-datatable-column",34),L.ALo(56,"translate"),L._UZ(57,"ngx-datatable-column",35),L.ALo(58,"translate"),L._UZ(59,"ngx-datatable-column",36),L.ALo(60,"translate"),L.TgZ(61,"ngx-datatable-column",37),L.ALo(62,"translate"),L.YNc(63,U,7,0,"ng-template",38),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.YNc(64,G,23,12,"ng-template",null,39,L.W1O)),2&e&&(L.xp6(11),L.Oqu(L.lcZ(12,24,"PACKAGE.LISTTITLE")),L.xp6(16),L.Oqu(L.lcZ(28,26,"PACKAGE.LISTTITLE")),L.xp6(20),L.Q6J("rows",a.data)("columns",a.columns)("sortType","multi")("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","60")("limit",10),L.xp6(2),L.s9C("name",L.lcZ(50,28,"PACKAGE.LIST.LICENSE-TYPE")),L.Q6J("width",130),L.xp6(2),L.s9C("name",L.lcZ(52,30,"PACKAGE.LIST.PACKAGE-TYPE")),L.Q6J("width",130),L.xp6(2),L.s9C("name",L.lcZ(54,32,"PACKAGE.LIST.PACKAGE-OFFERS")),L.Q6J("width",130),L.xp6(2),L.s9C("name",L.lcZ(56,34,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")),L.Q6J("width",200),L.xp6(2),L.s9C("name",L.lcZ(58,36,"PACKAGE.LIST.PAYMENT-PHASE")),L.Q6J("width",200),L.xp6(2),L.s9C("name",L.lcZ(60,38,"PACKAGE.LIST.GLOBAL-VIEW")),L.Q6J("width",200),L.xp6(2),L.s9C("name",L.lcZ(62,40,"PACKAGE.ACTION")),L.Q6J("width",120))},directives:[w.Ro,p.lW,g.Hw,y.nE,y.UC,y.vq],pipes:[F.X$],styles:[""]}),e})();var K=t(99235),O=t(81258),M=t(22567),Y=t(95522),Q=t(79961),j=t(87064),D=t(46739);const H=["autocompleteTrigger"],R=["licenceInput"];function V(e,a){1&e&&(L.TgZ(0,"mat-icon",60),L._uU(1,"cancel"),L.qZA())}function $(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"mat-chip",58),L.NdJ("removed",function(){const a=L.CHM(e).$implicit;return L.oxw().remove(a)}),L._uU(1),L.YNc(2,V,2,0,"mat-icon",59),L.qZA()}if(2&e){const e=a.$implicit,t=L.oxw();L.Q6J("selectable",t.selectable)("removable",t.removable),L.xp6(1),L.hij(" ",e," "),L.xp6(1),L.Q6J("ngIf",t.removable)}}function B(e,a){if(1&e&&(L.TgZ(0,"mat-option",61),L._UZ(1,"mat-checkbox",62),L._uU(2),L.qZA()),2&e){const e=a.$implicit,t=L.oxw();L.Q6J("value",e),L.xp6(1),L.Q6J("checked",t.license_display.indexOf(e.license_class)>=0),L.xp6(1),L.hij(" ",e.license_class," ")}}function W(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.LICENSE-TYPE")," is required "))}function z(e,a){if(1&e&&(L.TgZ(0,"mat-option",61),L._uU(1),L.qZA()),2&e){const e=a.$implicit,t=L.oxw();L.Q6J("value",e),L.xp6(1),L.hij(" ",e[t.translateVal]," ")}}function X(e,a){if(1&e&&(L.TgZ(0,"div"),L._uU(1),L.qZA()),2&e){const e=L.oxw().$implicit;L.xp6(1),L.hij(" ",e.message," ")}}function ee(e,a){if(1&e&&(L.TgZ(0,"mat-error"),L.YNc(1,X,2,1,"div",28),L.qZA()),2&e){const e=a.$implicit,t=L.oxw();L.xp6(1),L.Q6J("ngIf",t.package_type.hasError(e.type))}}function ae(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-IMAGE")," is required "))}function te(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-OFFERS")," is required "))}function ie(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-ENG")," is required "))}function se(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-MALAY")," is required "))}function re(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PRICE")," is required "))}function oe(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PROMO-DIS")," is required "))}function le(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")," is required "))}function ce(e,a){if(1&e&&(L.TgZ(0,"mat-option",61),L._uU(1),L.qZA()),2&e){const e=a.$implicit,t=L.oxw();L.Q6J("value",e),L.xp6(1),L.hij(" ",e[t.translateVal]," ")}}function ne(e,a){if(1&e&&(L.TgZ(0,"div"),L._uU(1),L.qZA()),2&e){const e=L.oxw().$implicit;L.xp6(1),L.hij(" ",e.message," ")}}function pe(e,a){if(1&e&&(L.TgZ(0,"mat-error"),L.YNc(1,ne,2,1,"div",28),L.qZA()),2&e){const e=a.$implicit,t=L.oxw();L.xp6(1),L.Q6J("ngIf",t.payment_phase.hasError(e.type))}}function ge(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1")," is required "))}function he(e,a){if(1&e&&(L.TgZ(0,"div",40),L.TgZ(1,"mat-form-field",17),L.TgZ(2,"mat-label"),L._uU(3),L.ALo(4,"translate"),L.qZA(),L._UZ(5,"input",63),L.YNc(6,ge,3,3,"mat-error",28),L.qZA(),L.qZA()),2&e){const e=L.oxw();L.xp6(3),L.hij("",L.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),L.xp6(3),L.Q6J("ngIf",e.addPackageForm.get("first_phase_amount").hasError("required"))}}function de(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2")," is required "))}function ue(e,a){if(1&e&&(L.TgZ(0,"div",40),L.TgZ(1,"mat-form-field",17),L.TgZ(2,"mat-label"),L._uU(3),L.ALo(4,"translate"),L.qZA(),L._UZ(5,"input",64),L.YNc(6,de,3,3,"mat-error",28),L.qZA(),L.qZA()),2&e){const e=L.oxw();L.xp6(3),L.hij("",L.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),L.xp6(3),L.Q6J("ngIf",e.addPackageForm.get("second_phase_amount").hasError("required"))}}function me(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3")," is required "))}function Ae(e,a){if(1&e&&(L.TgZ(0,"div",40),L.TgZ(1,"mat-form-field",17),L.TgZ(2,"mat-label"),L._uU(3),L.ALo(4,"translate"),L.qZA(),L._UZ(5,"input",65),L.YNc(6,me,3,3,"mat-error",28),L.qZA(),L.qZA()),2&e){const e=L.oxw();L.xp6(3),L.hij("",L.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),L.xp6(3),L.Q6J("ngIf",e.addPackageForm.get("third_phase_amount").hasError("required"))}}function Ze(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-ENG")," is required "))}function _e(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-MALAY")," is required "))}function fe(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG")," is required "))}function Te(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY")," is required "))}function Pe(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"mat-form-field",17),L.TgZ(1,"mat-label"),L._uU(2),L.ALo(3,"translate"),L.qZA(),L.TgZ(4,"input",81),L.NdJ("ngModelChange",function(a){return L.CHM(e),L.oxw().$implicit.first_phase=a}),L.qZA(),L.qZA()}if(2&e){const e=L.oxw().$implicit;L.xp6(2),L.hij("",L.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),L.xp6(2),L.Q6J("ngModel",e.first_phase)}}function ke(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"mat-form-field",17),L.TgZ(1,"mat-label"),L._uU(2),L.ALo(3,"translate"),L.qZA(),L.TgZ(4,"input",81),L.NdJ("ngModelChange",function(a){return L.CHM(e),L.oxw().$implicit.second_phase=a}),L.qZA(),L.qZA()}if(2&e){const e=L.oxw().$implicit;L.xp6(2),L.hij("",L.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),L.xp6(2),L.Q6J("ngModel",e.second_phase)}}function qe(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"mat-form-field",17),L.TgZ(1,"mat-label"),L._uU(2),L.ALo(3,"translate"),L.qZA(),L.TgZ(4,"input",81),L.NdJ("ngModelChange",function(a){return L.CHM(e),L.oxw().$implicit.third_phase=a}),L.qZA(),L.qZA()}if(2&e){const e=L.oxw().$implicit;L.xp6(2),L.hij("",L.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),L.xp6(2),L.Q6J("ngModel",e.third_phase)}}function ve(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"div"),L.TgZ(1,"div",80),L.TgZ(2,"div",75),L.TgZ(3,"h5"),L._uU(4),L.qZA(),L.qZA(),L.qZA(),L.TgZ(5,"div",5),L.TgZ(6,"div",40),L.TgZ(7,"mat-form-field",17),L.TgZ(8,"mat-label"),L._uU(9),L.ALo(10,"translate"),L.qZA(),L.TgZ(11,"input",81),L.NdJ("ngModelChange",function(a){return L.CHM(e).$implicit.license_price=a}),L.qZA(),L.qZA(),L.qZA(),L.TgZ(12,"div",40),L.YNc(13,Pe,5,4,"mat-form-field",82),L.qZA(),L.TgZ(14,"div",40),L.YNc(15,ke,5,4,"mat-form-field",82),L.qZA(),L.TgZ(16,"div",40),L.YNc(17,qe,5,4,"mat-form-field",82),L.qZA(),L.qZA(),L.qZA()}if(2&e){const e=a.$implicit,t=L.oxw(2);L.xp6(4),L.hij("License Class : ",e.license_class,""),L.xp6(5),L.hij("",L.lcZ(10,6,"PACKAGE.LIST.LICENSE-PRICE"),"*"),L.xp6(2),L.Q6J("ngModel",e.license_price),L.xp6(2),L.Q6J("ngIf",t.showLi2Phase),L.xp6(2),L.Q6J("ngIf",t.showLi2Phase),L.xp6(2),L.Q6J("ngIf",t.showLi3Phase)}}function ye(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"div",66),L.TgZ(1,"h4",67),L.TgZ(2,"div",68),L.TgZ(3,"div",69),L.TgZ(4,"div",70),L._uU(5),L.ALo(6,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(7,"button",71),L.NdJ("click",function(){return L.CHM(e).$implicit.dismiss("Cross click")}),L.TgZ(8,"span",72),L.TgZ(9,"i",73),L._uU(10,"close"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(11,"div",74),L.TgZ(12,"div",5),L.TgZ(13,"div",75),L.TgZ(14,"h5"),L._uU(15),L.qZA(),L.qZA(),L.qZA(),L.YNc(16,ve,18,8,"div",32),L.TgZ(17,"div",76),L.TgZ(18,"div",77),L.TgZ(19,"button",78),L.NdJ("click",function(){return L.CHM(e),L.oxw().setLicensePrice()}),L._uU(20),L.ALo(21,"translate"),L.qZA(),L.TgZ(22,"button",79),L.NdJ("click",function(){return L.CHM(e).$implicit.close()}),L._uU(23),L.ALo(24,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){const e=L.oxw();L.xp6(5),L.hij(" ",L.lcZ(6,5,"PACKAGE.LIST.LICENSE-PRICE-TITLE"),""),L.xp6(10),L.hij("Final Package Price : ",e.finalPackageValue,""),L.xp6(1),L.Q6J("ngForOf",e.license_selected),L.xp6(4),L.Oqu(L.lcZ(21,7,"BUTTON.CONFIRM-BTN")),L.xp6(3),L.Oqu(L.lcZ(24,9,"BUTTON.CANCEL-BTN"))}}const Le=["autocompleteTrigger"],Ee=["licenceInput"];function Ce(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"mat-chip",58),L.NdJ("removed",function(){const a=L.CHM(e).$implicit;return L.oxw().remove(a)}),L._uU(1),L.qZA()}if(2&e){const e=a.$implicit,t=L.oxw();L.Q6J("selectable",t.selectable)("removable",t.removable),L.xp6(1),L.hij(" ",e," ")}}function be(e,a){if(1&e&&(L.TgZ(0,"mat-option",59),L._UZ(1,"mat-checkbox",60),L._uU(2),L.qZA()),2&e){const e=a.$implicit,t=L.oxw();L.Q6J("value",e.license_class),L.xp6(1),L.Q6J("checked",t.license_display.indexOf(e.license_class)>=0),L.xp6(1),L.hij(" ",e.license_class," ")}}function xe(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.LICENSE-TYPE")," is required "))}function Se(e,a){if(1&e&&(L.TgZ(0,"mat-option",59),L._uU(1),L.qZA()),2&e){const e=a.$implicit,t=L.oxw();L.Q6J("value",e),L.xp6(1),L.hij(" ",e[t.translateVal]," ")}}function Ie(e,a){if(1&e&&(L.TgZ(0,"div"),L._uU(1),L.qZA()),2&e){const e=L.oxw().$implicit;L.xp6(1),L.hij(" ",e.message," ")}}function Ne(e,a){if(1&e&&(L.TgZ(0,"mat-error"),L.YNc(1,Ie,2,1,"div",26),L.qZA()),2&e){const e=a.$implicit,t=L.oxw();L.xp6(1),L.Q6J("ngIf",t.package_type.hasError(e.type))}}function we(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-IMAGE")," is required "))}function Fe(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-OFFERS")," is required "))}function Ue(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-ENG")," is required "))}function Ge(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-MALAY")," is required "))}function Je(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PRICE")," is required "))}function Ke(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PROMO-DIS")," is required "))}function Oe(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")," is required "))}function Me(e,a){if(1&e&&(L.TgZ(0,"mat-option",59),L._uU(1),L.qZA()),2&e){const e=a.$implicit,t=L.oxw();L.Q6J("value",e),L.xp6(1),L.hij(" ",e[t.translateVal]," ")}}function Ye(e,a){if(1&e&&(L.TgZ(0,"div"),L._uU(1),L.qZA()),2&e){const e=L.oxw().$implicit;L.xp6(1),L.hij(" ",e.message," ")}}function Qe(e,a){if(1&e&&(L.TgZ(0,"mat-error"),L.YNc(1,Ye,2,1,"div",26),L.qZA()),2&e){const e=a.$implicit,t=L.oxw();L.xp6(1),L.Q6J("ngIf",t.payment_phase.hasError(e.type))}}function je(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1")," is required "))}function De(e,a){if(1&e&&(L.TgZ(0,"div",40),L.TgZ(1,"mat-form-field",17),L.TgZ(2,"mat-label"),L._uU(3),L.ALo(4,"translate"),L.qZA(),L._UZ(5,"input",61),L.YNc(6,je,3,3,"mat-error",26),L.qZA(),L.qZA()),2&e){const e=L.oxw();L.xp6(3),L.hij("",L.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),L.xp6(3),L.Q6J("ngIf",e.editPackageForm.get("first_phase_amount").hasError("required"))}}function He(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2")," is required "))}function Re(e,a){if(1&e&&(L.TgZ(0,"div",40),L.TgZ(1,"mat-form-field",17),L.TgZ(2,"mat-label"),L._uU(3),L.ALo(4,"translate"),L.qZA(),L._UZ(5,"input",62),L.YNc(6,He,3,3,"mat-error",26),L.qZA(),L.qZA()),2&e){const e=L.oxw();L.xp6(3),L.hij("",L.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),L.xp6(3),L.Q6J("ngIf",e.editPackageForm.get("second_phase_amount").hasError("required"))}}function Ve(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3")," is required "))}function $e(e,a){if(1&e&&(L.TgZ(0,"div",40),L.TgZ(1,"mat-form-field",17),L.TgZ(2,"mat-label"),L._uU(3),L.ALo(4,"translate"),L.qZA(),L._UZ(5,"input",63),L.YNc(6,Ve,3,3,"mat-error",26),L.qZA(),L.qZA()),2&e){const e=L.oxw();L.xp6(3),L.hij("",L.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),L.xp6(3),L.Q6J("ngIf",e.editPackageForm.get("third_phase_amount").hasError("required"))}}function Be(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"div",40),L.TgZ(1,"button",64),L.NdJ("click",function(){L.CHM(e);const a=L.oxw(),t=L.MAs(168);return a.viewPrice(t)}),L._uU(2),L.ALo(3,"translate"),L.qZA(),L.qZA()}2&e&&(L.xp6(2),L.Oqu(L.lcZ(3,1,"BUTTON.VIEW-PRICE-BTN")))}function We(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-ENG")," is required "))}function ze(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-MALAY")," is required "))}function Xe(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG")," is required "))}function ea(e,a){1&e&&(L.TgZ(0,"mat-error"),L._uU(1),L.ALo(2,"translate"),L.qZA()),2&e&&(L.xp6(1),L.hij(" ",L.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY")," is required "))}function aa(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"mat-form-field",17),L.TgZ(1,"mat-label"),L._uU(2),L.ALo(3,"translate"),L.qZA(),L.TgZ(4,"input",80),L.NdJ("ngModelChange",function(a){return L.CHM(e),L.oxw().$implicit.first_phase_amount=a}),L.qZA(),L.qZA()}if(2&e){const e=L.oxw().$implicit;L.xp6(2),L.hij("",L.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),L.xp6(2),L.Q6J("ngModel",e.first_phase_amount)}}function ta(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"mat-form-field",17),L.TgZ(1,"mat-label"),L._uU(2),L.ALo(3,"translate"),L.qZA(),L.TgZ(4,"input",80),L.NdJ("ngModelChange",function(a){return L.CHM(e),L.oxw().$implicit.second_phase_amount=a}),L.qZA(),L.qZA()}if(2&e){const e=L.oxw().$implicit;L.xp6(2),L.hij("",L.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),L.xp6(2),L.Q6J("ngModel",e.second_phase_amount)}}function ia(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"mat-form-field",17),L.TgZ(1,"mat-label"),L._uU(2),L.ALo(3,"translate"),L.qZA(),L.TgZ(4,"input",80),L.NdJ("ngModelChange",function(a){return L.CHM(e),L.oxw().$implicit.third_phase_amount=a}),L.qZA(),L.qZA()}if(2&e){const e=L.oxw().$implicit;L.xp6(2),L.hij("",L.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),L.xp6(2),L.Q6J("ngModel",e.third_phase_amount)}}function sa(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"div"),L.TgZ(1,"div",79),L.TgZ(2,"div",74),L.TgZ(3,"h5"),L._uU(4),L.qZA(),L.qZA(),L.qZA(),L.TgZ(5,"div",5),L.TgZ(6,"div",40),L.TgZ(7,"mat-form-field",17),L.TgZ(8,"mat-label"),L._uU(9),L.ALo(10,"translate"),L.qZA(),L.TgZ(11,"input",80),L.NdJ("ngModelChange",function(a){return L.CHM(e).$implicit.license_price=a}),L.qZA(),L.qZA(),L.qZA(),L.TgZ(12,"div",40),L.YNc(13,aa,5,4,"mat-form-field",81),L.qZA(),L.TgZ(14,"div",40),L.YNc(15,ta,5,4,"mat-form-field",81),L.qZA(),L.TgZ(16,"div",40),L.YNc(17,ia,5,4,"mat-form-field",81),L.qZA(),L.qZA(),L.qZA()}if(2&e){const e=a.$implicit,t=L.oxw(2);L.xp6(4),L.hij("License Class : ",e.license_class,""),L.xp6(5),L.hij("",L.lcZ(10,6,"PACKAGE.LIST.LICENSE-PRICE"),"*"),L.xp6(2),L.Q6J("ngModel",e.license_price),L.xp6(2),L.Q6J("ngIf",t.showLi2Phase),L.xp6(2),L.Q6J("ngIf",t.showLi2Phase),L.xp6(2),L.Q6J("ngIf",t.showLi3Phase)}}function ra(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"div",65),L.TgZ(1,"h4",66),L.TgZ(2,"div",67),L.TgZ(3,"div",68),L.TgZ(4,"div",69),L._uU(5),L.ALo(6,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(7,"button",70),L.NdJ("click",function(){return L.CHM(e).$implicit.dismiss("Cross click")}),L.TgZ(8,"span",71),L.TgZ(9,"i",72),L._uU(10,"close"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(11,"div",73),L.TgZ(12,"div",5),L.TgZ(13,"div",74),L.TgZ(14,"h5"),L._uU(15),L.qZA(),L.qZA(),L.qZA(),L.YNc(16,sa,18,8,"div",30),L.TgZ(17,"div",75),L.TgZ(18,"div",76),L.TgZ(19,"button",77),L.NdJ("click",function(){return L.CHM(e),L.oxw().setLicensePrice()}),L._uU(20),L.ALo(21,"translate"),L.qZA(),L.TgZ(22,"button",78),L.NdJ("click",function(){return L.CHM(e).$implicit.close()}),L._uU(23),L.ALo(24,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&e){const e=L.oxw();L.xp6(5),L.hij(" ",L.lcZ(6,5,"PACKAGE.LIST.LICENSE-PRICE-TITLE"),""),L.xp6(10),L.hij("Final Package Price : ",e.finalPackageValue,""),L.xp6(1),L.Q6J("ngForOf",e.license_selected),L.xp6(4),L.Oqu(L.lcZ(21,7,"BUTTON.CONFIRM-BTN")),L.xp6(3),L.Oqu(L.lcZ(24,9,"BUTTON.CANCEL-BTN"))}}const oa=[{path:"package-list",component:J},{path:"add-package",component:(()=>{class e{constructor(e,a,t,i,r,o,l,c){this.cdRef=e,this.fb=a,this.languageService=t,this.toastrService=i,this.packageService=r,this.router=o,this.spinner=l,this.modalService=c,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[K.K5,K.OC],this.license_selected=[],this.license_display=[],this.show2Phase=!1,this.show3Phase=!1,this.showLi2Phase=!1,this.showLi3Phase=!1,this.translateVal="ml"==localStorage.lang?"malay":"english",this.license_type=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.package_type=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.payment_phase=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.license_price=new s.NI("",{validators:[s.kI.required]}),this.Editor=M,this.validation_msgs={license_type:[{type:"invalidAutocompleteObject",message:"License Type not recognized. Click one of the options."},{type:"required",message:"License Type is required."}],package_type:[{type:"invalidAutocompleteObject",message:"Package Type not recognized. Click one of the options."},{type:"required",message:"Package Type is required."}],payment_phase:[{type:"invalidAutocompleteObject",message:"Payment Phase not recognized. Click one of the options."},{type:"required",message:"Payment Phase is required."}]}}ngOnInit(){this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases(),this.addPackageForm=this.fb.group({package_price:["",s.kI.required],package_offers:["",s.kI.required],package_english:["",s.kI.required],package_malay:["",s.kI.required],promo_discount:["",s.kI.required],package_desc_english:["",s.kI.required],package_desc_malay:["",s.kI.required],final_package_price:["",s.kI.required],first_phase_amount:[""],second_phase_amount:[""],third_phase_amount:[""],package_phase_desc_english:["",s.kI.required],package_phase_desc_malay:["",s.kI.required],package_image:["",s.kI.required],package_image_name:["",s.kI.required],global_view:[""]}),this.languageService.languageChanged.subscribe(e=>{this.translateVal="ml"==localStorage.lang?"malay":"english",this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases()})}getPackageTypeList(){this.packageService.getPakageTypeList().subscribe(e=>{this.packageTypeData=e.data,this.packageTypeList=this.package_type.valueChanges.pipe((0,O.O)(""),(0,C.U)(e=>"string"==typeof e?e:e[this.translateVal]),(0,C.U)(e=>e?this._filterPackageType(e):this.packageTypeData.slice()))})}getLicenseClassList(){this.packageService.getLicenseClassList().subscribe(e=>{this.licenseTypeData=e.data,console.log("this.this.license_type=========",this.license_type),this.licenseTypeList=this.license_type.valueChanges.pipe((0,O.O)(""),(0,C.U)(e=>e?this._filterLicenseType(e):this.licenseTypeData.slice()))})}getPaymentPhases(){this.packageService.getPaymentPhases().subscribe(e=>{console.log("res['data']===0",e.data),this.paymentPhaseData=e.data,this.paymentPhaseList=this.payment_phase.valueChanges.pipe((0,O.O)(""),(0,C.U)(e=>"string"==typeof e?e:e[this.translateVal]),(0,C.U)(e=>e?this._filterpaymentPhase(e):this.paymentPhaseData.slice()))})}displayFn(e){return e&&e.license_class?e.license_class:""}displayFnPackageType(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}displayFnPaymentPhase(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}_filterLicenseType(e){console.log("name=====",e);const a=e.toLowerCase();return this.licenseTypeData.filter(e=>e.license_class.toLowerCase().includes(a))}_filterPackageType(e){const a=e.toLowerCase();return this.packageTypeData.filter(e=>e[this.translateVal].toLowerCase().includes(a))}_filterpaymentPhase(e){const a=e.toLowerCase();return this.paymentPhaseData.filter(e=>e[this.translateVal].toLowerCase().includes(a))}add(e){alert("hii");const a=e.input,t=e.value;console.log("------------",t),(t||"").trim()&&this.license_selected.push(t),a&&(a.value=""),this.license_type.setValue(null)}remove(e){console.log("license====",e);const a=this.license_display.indexOf(e);if(a>=0&&this.license_display.splice(a,1),this.license_selected=this.license_selected.filter(a=>a.license_class!=e),console.log("license_selected====",this.license_selected),this.payment_phase.patchValue(""),this.addPackageForm.patchValue({first_phase_amount:0,second_phase_amount:0,third_phase_amount:0}),this.show2Phase=!1,this.show3Phase=!1,this.license_selected.length>1){var t=this.packageTypeData.filter(e=>1==e.id);this.package_type.setValue(t[0])}else t=this.packageTypeData.filter(e=>2==e.id),this.package_type.setValue(t[0])}selectedListType(e){const a=e.option.value.license_class;if(console.log("newValue=======",e.option,this.license_selected.length),this.license_display.includes(a)?(this.license_display=[...this.license_display.filter(e=>e!==a)],this.license_selected=[...this.license_selected.filter(a=>a.id!==e.option.value.id)]):this.license_selected.length<=1?(this.license_display.push(a),this.license_selected.push({id:e.option.value.id,license_class:e.option.value.license_class,license_price:0,first_phase:0,second_phase:0,third_phase:0})):this.toastrService.warning("Only two is Allowed!!"),this.payment_phase.patchValue(""),this.addPackageForm.patchValue({first_phase_amount:0,second_phase_amount:0,third_phase_amount:0}),this.show2Phase=!1,this.show3Phase=!1,this.licenceInput.nativeElement.value="",this.license_type.setValue(null),this.license_selected.length>1){var t=this.packageTypeData.filter(e=>1==e.id);this.package_type.setValue(t[0])}else t=this.packageTypeData.filter(e=>2==e.id),this.package_type.setValue(t[0]);requestAnimationFrame(()=>{this.openAuto(this.matACTrigger)}),console.log("---final----",this.license_selected)}setLicensePrice(){let e=0,a=0;for(let t=0;t<this.license_selected.length;t++){let i=0;e+=Number(this.license_selected[t].license_price),i+=Number(Number(this.license_selected[t].first_phase)+Number(this.license_selected[t].second_phase)+Number(this.license_selected[t].third_phase)),console.log("subPhaseAmt------",this.license_selected[t].license_price,i),this.license_selected[t].license_price!=i&&a++}console.log("TotalLicensePrice---",e,this.finalPackageValue),e==this.finalPackageValue?this.payment_phase.value.id>1&&a>0?this.toastrService.warning("Please check the sum of Phase amount equals the license price!!"):this.modalService.dismissAll():this.toastrService.warning("Sum of license price does not equals Final package price!!!!"),console.log("this.license_selected----",this.license_selected)}selectedPaymentPhase(e){""!=this.addPackageForm.value.final_package_price?(this.finalPackageValue=this.addPackageForm.value.final_package_price,1==this.package_type.value.id?(this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"lg"}),2==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!1):3==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!0):(this.showLi2Phase=!1,this.showLi3Phase=!1)):2==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!1):3==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!0):(this.show2Phase=!1,this.show3Phase=!1)):(this.toastrService.warning("Please fill the Final package price!!"),this.payment_phase.patchValue(""))}openAuto(e){e.openPanel(),this.licenceInput.nativeElement.focus(),console.log(e)}setPackageDetails(){console.log("this.addPackageForm.value====",this.addPackageForm.value,this.package_type,this.license_selected);const e=new FormData;if(e.append("baseRoot","root/Package/"+this.addPackageForm.value.package_english),e.append("PackageFormData",JSON.stringify(this.addPackageForm.value)),e.append("package_type",JSON.stringify(this.package_type.value)),e.append("license_type",JSON.stringify(this.license_selected)),e.append("payment_phase",this.payment_phase.value.id),e.append("file",this.addPackageForm.value.package_image),2==this.package_type.value.id)if(2==this.payment_phase.value.id)if(""!=this.addPackageForm.value.first_phase_amount&&""!=this.addPackageForm.value.second_phase_amount){let a=Number(this.addPackageForm.value.first_phase_amount)+Number(this.addPackageForm.value.second_phase_amount);Number(this.addPackageForm.value.final_package_price)==a?(this.spinner.show(),this.packageService.setPackageDetails(e).subscribe(e=>{this.spinner.hide(),"Success"==e.status?(this.toastrService.success("Registered Successfully!!"),this.addPackageForm.reset(),this.router.navigate(["/admin/package/package-list"])):"Session Expired"==e.status?(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"])):this.toastrService.error(e.status)})):this.toastrService.error("Sum Of Phase amount does not equal Final Package price!!")}else this.toastrService.error("Please provide Phase Amounts");else if(3==this.payment_phase.value.id)if(""!=this.addPackageForm.value.first_phase_amount&&""!=this.addPackageForm.value.second_phase_amount&&""!=this.addPackageForm.value.third_phase_amount){let a=Number(this.addPackageForm.value.first_phase_amount)+Number(this.addPackageForm.value.second_phase_amount)+Number(this.addPackageForm.value.third_phase_amount);Number(this.addPackageForm.value.final_package_price)==a?(this.spinner.show(),this.packageService.setPackageDetails(e).subscribe(e=>{this.spinner.hide(),"Success"==e.status?(this.toastrService.success("Registered Successfully!!"),this.addPackageForm.reset(),this.router.navigate(["/admin/package/package-list"])):"Session Expired"==e.status?(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"])):this.toastrService.error(e.status)})):this.toastrService.error("Sum Of Phase amount does not equal Final Package price!!")}else this.toastrService.error("Please provide Phase Amounts");else this.spinner.show(),this.packageService.setPackageDetails(e).subscribe(e=>{this.spinner.hide(),"Success"==e.status?(this.toastrService.success("Registered Successfully!!"),this.addPackageForm.reset(),this.router.navigate(["/admin/package/package-list"])):"Session Expired"==e.status?(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"])):this.toastrService.error(e.status)});if(1==this.package_type.value.id){let a=0,t=0;for(let e=0;e<this.license_selected.length;e++){let i=0;a+=Number(this.license_selected[e].license_price),i+=Number(Number(this.license_selected[e].first_phase)+Number(this.license_selected[e].second_phase)+Number(this.license_selected[e].third_phase)),console.log("subPhaseAmt------",this.license_selected[e].license_price,i),this.license_selected[e].license_price!=i&&t++}console.log("TotalLicensePrice---",a,this.finalPackageValue),a==this.finalPackageValue?this.payment_phase.value.id>1&&t>0?this.toastrService.warning("Please check the sum of Phase amount equals the license price!!"):(this.spinner.show(),this.packageService.setPackageDetails(e).subscribe(e=>{this.spinner.hide(),"Success"==e.status?(this.toastrService.success("Registered Successfully!!"),this.addPackageForm.reset(),this.router.navigate(["/admin/package/package-list"])):"Session Expired"==e.status?(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"])):this.toastrService.error(e.status)})):this.toastrService.warning("Sum of license price does not equals Final package price!!!!")}}onFileChangePackageImage(e){const a=new FileReader;if(e.target.files&&e.target.files.length){const[t]=e.target.files;a.readAsDataURL(t),a.onload=()=>{this.addPackageForm.patchValue({package_image:t}),console.log("this.documentForm===",this.addPackageForm)}}}goBack(){this.router.navigate(["/admin/package/package-list"])}changeFinalPackagePrice(){let e=Number(Number(this.addPackageForm.value.package_price*this.addPackageForm.value.promo_discount)/100).toFixed(),a=Number(this.addPackageForm.value.package_price)-Number(e);this.addPackageForm.patchValue({final_package_price:a}),console.log(this.addPackageForm.value)}}return e.\u0275fac=function(a){return new(a||e)(L.Y36(L.sBO),L.Y36(s.qu),L.Y36(N.T),L.Y36(I._W),L.Y36(x),L.Y36(v.F0),L.Y36(w.t2),L.Y36(S.FF))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-add-package"]],viewQuery:function(e,a){if(1&e&&(L.Gf(H,5),L.Gf(R,5)),2&e){let e;L.iGM(e=L.CRH())&&(a.matACTrigger=e.first),L.iGM(e=L.CRH())&&(a.licenceInput=e.first)}},decls:167,vars:106,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-4"],["appearance","outline",1,"example-full-width","mb-3"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","text","matInput","",3,"matChipInputFor","matChipInputSeparatorKeyCodes","formControl","matAutocomplete","matChipInputTokenEnd"],["licenceInput","","autocompleteTrigger","matAutocompleteTrigger"],["autoActiveFirstOption","",3,"optionSelected"],["autoLicense","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix","",2,"width","34px","height","34px",3,"click"],[2,"width","34px"],[4,"ngIf"],["type","text","matInput","","readonly","",3,"formControl","matAutocomplete"],["readonly","",3,"displayWith"],["autoPackage","matAutocomplete"],[4,"ngFor","ngForOf"],["formControlName","package_image_name","required","",3,"change"],["matSuffix",""],["formControlName","package_offers","required",""],["value","Affordable"],["value","Premium"],["matInput","","formControlName","package_english"],["matInput","","formControlName","package_malay"],[1,"col-3"],["matInput","","formControlName","package_price","type","tel","pattern","[0-9]*",3,"blur"],["matInput","","formControlName","promo_discount",3,"blur"],["matInput","","type","tel","pattern","[0-9]*","formControlName","final_package_price"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["autoPaymentPhase","matAutocomplete"],["class","col-3",4,"ngIf"],["formControlName","global_view",1,"example-margin"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","package_desc_english",3,"editor"],["formControlName","package_desc_malay",3,"editor"],["formControlName","package_phase_desc_english",3,"editor"],["formControlName","package_phase_desc_malay",3,"editor"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"],["LicensePrice",""],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],["color","primary",2,"padding","0 12px",3,"checked"],["matInput","","type","tel","pattern","[0-9]*","formControlName","first_phase_amount"],["matInput","","type","tel","pattern","[0-9]*","formControlName","second_phase_amount"],["matInput","","type","tel","pattern","[0-9]*","formControlName","third_phase_amount"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"col-12"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-button","","type","button",3,"click"],[1,"row",2,"text-align","center"],["matInput","","type","tel","pattern","[0-9]*",3,"ngModel","ngModelChange"],["class","example-full-width mb-3","appearance","outline",4,"ngIf"]],template:function(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"ngx-spinner",0),L.TgZ(1,"p",1),L._uU(2,"Loading..."),L.qZA(),L.qZA(),L.TgZ(3,"section",2),L.TgZ(4,"div",3),L.TgZ(5,"div",4),L.TgZ(6,"div",5),L.TgZ(7,"div",6),L.TgZ(8,"ul",7),L.TgZ(9,"li",8),L.TgZ(10,"h4",9),L._uU(11),L.ALo(12,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(13,"div",10),L.TgZ(14,"div",11),L.TgZ(15,"div",12),L.TgZ(16,"div",13),L.TgZ(17,"h2"),L._uU(18),L.ALo(19,"translate"),L.qZA(),L.qZA(),L.TgZ(20,"div",14),L.TgZ(21,"form",15),L.TgZ(22,"div",5),L.TgZ(23,"div",16),L.TgZ(24,"mat-form-field",17),L.TgZ(25,"mat-chip-list",18,19),L.YNc(27,$,3,4,"mat-chip",20),L.TgZ(28,"mat-label"),L._uU(29),L.ALo(30,"translate"),L.qZA(),L.TgZ(31,"input",21,22),L.NdJ("matChipInputTokenEnd",function(e){return a.add(e)}),L.qZA(),L.qZA(),L.TgZ(34,"mat-autocomplete",23,24),L.NdJ("optionSelected",function(e){return a.selectedListType(e)}),L.YNc(36,B,3,3,"mat-option",25),L.ALo(37,"async"),L.qZA(),L.TgZ(38,"button",26),L.NdJ("click",function(){L.CHM(e);const t=L.MAs(33);return a.openAuto(t)}),L.TgZ(39,"mat-icon",27),L._uU(40,"expand_more"),L.qZA(),L.qZA(),L.YNc(41,W,3,3,"mat-error",28),L.qZA(),L.qZA(),L.TgZ(42,"div",16),L.TgZ(43,"mat-form-field",17),L.TgZ(44,"mat-label"),L._uU(45),L.ALo(46,"translate"),L.qZA(),L._UZ(47,"input",29),L.TgZ(48,"mat-autocomplete",30,31),L.YNc(50,z,2,2,"mat-option",25),L.ALo(51,"async"),L.qZA(),L.YNc(52,ee,2,1,"mat-error",32),L.qZA(),L.qZA(),L.TgZ(53,"div",16),L.TgZ(54,"mat-form-field",17),L.TgZ(55,"mat-label"),L._uU(56),L.ALo(57,"translate"),L.qZA(),L.TgZ(58,"ngx-mat-file-input",33),L.NdJ("change",function(e){return a.onFileChangePackageImage(e)}),L.qZA(),L.TgZ(59,"mat-icon",34),L._uU(60,"cloud_upload"),L.qZA(),L.YNc(61,ae,3,3,"mat-error",28),L.qZA(),L.qZA(),L.qZA(),L.TgZ(62,"div",5),L.TgZ(63,"div",16),L.TgZ(64,"mat-form-field",17),L.TgZ(65,"mat-label"),L._uU(66),L.ALo(67,"translate"),L.qZA(),L.TgZ(68,"mat-select",35),L.TgZ(69,"mat-option",36),L._uU(70),L.ALo(71,"translate"),L.qZA(),L.TgZ(72,"mat-option",37),L._uU(73),L.ALo(74,"translate"),L.qZA(),L.qZA(),L.YNc(75,te,3,3,"mat-error",28),L.qZA(),L.qZA(),L.TgZ(76,"div",16),L.TgZ(77,"mat-form-field",17),L.TgZ(78,"mat-label"),L._uU(79),L.ALo(80,"translate"),L.qZA(),L._UZ(81,"input",38),L.YNc(82,ie,3,3,"mat-error",28),L.qZA(),L.qZA(),L.TgZ(83,"div",16),L.TgZ(84,"mat-form-field",17),L.TgZ(85,"mat-label"),L._uU(86),L.ALo(87,"translate"),L.qZA(),L._UZ(88,"input",39),L.YNc(89,se,3,3,"mat-error",28),L.qZA(),L.qZA(),L.qZA(),L.TgZ(90,"div",5),L.TgZ(91,"div",40),L.TgZ(92,"mat-form-field",17),L.TgZ(93,"mat-label"),L._uU(94),L.ALo(95,"translate"),L.qZA(),L.TgZ(96,"input",41),L.NdJ("blur",function(){return a.changeFinalPackagePrice()}),L.qZA(),L.YNc(97,re,3,3,"mat-error",28),L.qZA(),L.qZA(),L.TgZ(98,"div",40),L.TgZ(99,"mat-form-field",17),L.TgZ(100,"mat-label"),L._uU(101),L.ALo(102,"translate"),L.qZA(),L.TgZ(103,"input",42),L.NdJ("blur",function(){return a.changeFinalPackagePrice()}),L.qZA(),L.YNc(104,oe,3,3,"mat-error",28),L.qZA(),L.qZA(),L.TgZ(105,"div",40),L.TgZ(106,"mat-form-field",17),L.TgZ(107,"mat-label"),L._uU(108),L.ALo(109,"translate"),L.qZA(),L._UZ(110,"input",43),L.YNc(111,le,3,3,"mat-error",28),L.qZA(),L.qZA(),L.TgZ(112,"div",40),L.TgZ(113,"mat-form-field",17),L.TgZ(114,"mat-label"),L._uU(115),L.ALo(116,"translate"),L.qZA(),L._UZ(117,"input",44),L.TgZ(118,"mat-autocomplete",45,46),L.NdJ("optionSelected",function(){L.CHM(e);const t=L.MAs(166);return a.selectedPaymentPhase(t)}),L.YNc(120,ce,2,2,"mat-option",25),L.ALo(121,"async"),L.qZA(),L.YNc(122,pe,2,1,"mat-error",32),L.qZA(),L.qZA(),L.qZA(),L.TgZ(123,"div",5),L.YNc(124,he,7,4,"div",47),L.YNc(125,ue,7,4,"div",47),L.YNc(126,Ae,7,4,"div",47),L.TgZ(127,"div",40),L.TgZ(128,"mat-checkbox",48),L._uU(129),L.ALo(130,"translate"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(131,"div",5),L.TgZ(132,"div",49),L.TgZ(133,"mat-label"),L._uU(134),L.ALo(135,"translate"),L.qZA(),L._UZ(136,"ckeditor",50),L.YNc(137,Ze,3,3,"mat-error",28),L.qZA(),L.TgZ(138,"div",49),L.TgZ(139,"mat-label"),L._uU(140),L.ALo(141,"translate"),L.qZA(),L._UZ(142,"ckeditor",51),L.YNc(143,_e,3,3,"mat-error",28),L.qZA(),L.qZA(),L.TgZ(144,"div",5),L.TgZ(145,"div",49),L.TgZ(146,"mat-label"),L._uU(147),L.ALo(148,"translate"),L.qZA(),L._UZ(149,"ckeditor",52),L.YNc(150,fe,3,3,"mat-error",28),L.qZA(),L.TgZ(151,"div",49),L.TgZ(152,"mat-label"),L._uU(153),L.ALo(154,"translate"),L.qZA(),L._UZ(155,"ckeditor",53),L.YNc(156,Te,3,3,"mat-error",28),L.qZA(),L.qZA(),L.TgZ(157,"div",5),L.TgZ(158,"div",54),L.TgZ(159,"button",55),L.NdJ("click",function(){return a.setPackageDetails()}),L._uU(160),L.ALo(161,"translate"),L.qZA(),L.TgZ(162,"button",56),L.NdJ("click",function(){return a.goBack()}),L._uU(163),L.ALo(164,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.YNc(165,ye,25,11,"ng-template",null,57,L.W1O)}if(2&e){const e=L.MAs(26),t=L.MAs(35),i=L.MAs(49),s=L.MAs(119);L.xp6(11),L.Oqu(L.lcZ(12,58,"PACKAGE.TITLE")),L.xp6(7),L.Oqu(L.lcZ(19,60,"PACKAGE.TITLE")),L.xp6(3),L.Q6J("formGroup",a.addPackageForm),L.xp6(6),L.Q6J("ngForOf",a.license_display),L.xp6(2),L.hij("",L.lcZ(30,62,"PACKAGE.LIST.LICENSE-TYPE"),"*"),L.xp6(2),L.Q6J("matChipInputFor",e)("matChipInputSeparatorKeyCodes",a.separatorKeysCodes)("formControl",a.license_type)("matAutocomplete",t),L.xp6(5),L.Q6J("ngForOf",L.lcZ(37,64,a.licenseTypeList)),L.xp6(5),L.Q6J("ngIf",0==a.license_selected.length),L.xp6(4),L.hij("",L.lcZ(46,66,"PACKAGE.LIST.PACKAGE-TYPE"),"*"),L.xp6(2),L.Q6J("formControl",a.package_type)("matAutocomplete",i),L.xp6(1),L.Q6J("displayWith",a.displayFnPackageType),L.xp6(2),L.Q6J("ngForOf",L.lcZ(51,68,a.packageTypeList)),L.xp6(2),L.Q6J("ngForOf",a.validation_msgs.package_type),L.xp6(4),L.Oqu(L.lcZ(57,70,"PACKAGE.LIST.PACKAGE-IMAGE")),L.xp6(5),L.Q6J("ngIf",a.addPackageForm.get("package_image_name").hasError("required")),L.xp6(5),L.Oqu(L.lcZ(67,72,"PACKAGE.LIST.PACKAGE-OFFERS")),L.xp6(4),L.Oqu(L.lcZ(71,74,"PACKAGE.LIST.AFFORDABLE")),L.xp6(3),L.Oqu(L.lcZ(74,76,"PACKAGE.LIST.PREMIUM")),L.xp6(2),L.Q6J("ngIf",a.addPackageForm.get("package_offers").hasError("required")),L.xp6(4),L.hij("",L.lcZ(80,78,"PACKAGE.LIST.PACKAGE-ENG"),"*"),L.xp6(3),L.Q6J("ngIf",a.addPackageForm.get("package_english").hasError("required")),L.xp6(4),L.hij("",L.lcZ(87,80,"PACKAGE.LIST.PACKAGE-MALAY"),"*"),L.xp6(3),L.Q6J("ngIf",a.addPackageForm.get("package_malay").hasError("required")),L.xp6(5),L.hij("",L.lcZ(95,82,"PACKAGE.LIST.PACKAGE-PRICE"),"*"),L.xp6(3),L.Q6J("ngIf",a.addPackageForm.get("package_price").hasError("required")),L.xp6(4),L.hij("",L.lcZ(102,84,"PACKAGE.LIST.PROMO-DIS"),"*"),L.xp6(3),L.Q6J("ngIf",a.addPackageForm.get("promo_discount").hasError("required")),L.xp6(4),L.hij("",L.lcZ(109,86,"PACKAGE.LIST.FIANL-PACKAGE-PRICE"),"*"),L.xp6(3),L.Q6J("ngIf",a.addPackageForm.get("final_package_price").hasError("required")),L.xp6(4),L.hij("",L.lcZ(116,88,"PACKAGE.LIST.PAYMENT-PHASE"),"*"),L.xp6(2),L.Q6J("formControl",a.payment_phase)("matAutocomplete",s),L.xp6(1),L.Q6J("displayWith",a.displayFnPaymentPhase),L.xp6(2),L.Q6J("ngForOf",L.lcZ(121,90,a.paymentPhaseList)),L.xp6(2),L.Q6J("ngForOf",a.validation_msgs.payment_phase),L.xp6(2),L.Q6J("ngIf",a.show2Phase),L.xp6(1),L.Q6J("ngIf",a.show2Phase),L.xp6(1),L.Q6J("ngIf",a.show3Phase),L.xp6(3),L.Oqu(L.lcZ(130,92,"PACKAGE.LIST.GLOBAL-VIEW")),L.xp6(5),L.hij("",L.lcZ(135,94,"PACKAGE.LIST.PACKAGE-DESC-ENG"),"*"),L.xp6(2),L.Q6J("editor",a.Editor),L.xp6(1),L.Q6J("ngIf",a.addPackageForm.get("package_desc_english").hasError("required")),L.xp6(3),L.hij("",L.lcZ(141,96,"PACKAGE.LIST.PACKAGE-DESC-MALAY"),"*"),L.xp6(2),L.Q6J("editor",a.Editor),L.xp6(1),L.Q6J("ngIf",a.addPackageForm.get("package_desc_malay").hasError("required")),L.xp6(4),L.hij("",L.lcZ(148,98,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG"),"*"),L.xp6(2),L.Q6J("editor",a.Editor),L.xp6(1),L.Q6J("ngIf",a.addPackageForm.get("package_phase_desc_english").hasError("required")),L.xp6(3),L.hij("",L.lcZ(154,100,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY"),"*"),L.xp6(2),L.Q6J("editor",a.Editor),L.xp6(1),L.Q6J("ngIf",a.addPackageForm.get("package_phase_desc_malay").hasError("required")),L.xp6(3),L.Q6J("disabled",!a.addPackageForm.valid||0==a.license_selected.length),L.xp6(1),L.hij(" ",L.lcZ(161,102,"BUTTON.ADD-BTN"),""),L.xp6(3),L.Oqu(L.lcZ(164,104,"BUTTON.CANCEL-BTN"))}},directives:[w.Ro,s._Y,s.JL,s.sg,l.KE,Y.qn,i.sg,l.hX,c.Nt,Y.oH,s.Fj,Q.ZL,s.JJ,s.oH,Q.XC,p.lW,l.R9,g.Hw,i.O5,_.Yh,s.u,s.Q7,h.gD,j.ey,s.c5,Z.oG,D.u,Y.HS,Y.qH,l.TO,s.On],pipes:[F.X$,i.Ov],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),e})()},{path:"edit-package/:id",component:(()=>{class e{constructor(e,a,t,i,r,o,l,c,n){this.cdRef=e,this.fb=a,this.languageService=t,this.toastrService=i,this.router=r,this.route=o,this.packageService=l,this.spinner=c,this.modalService=n,this.Editor=M,this.selectable=!1,this.removable=!1,this.separatorKeysCodes=[K.K5,K.OC],this.license_selected=[],this.show2Phase=!1,this.show3Phase=!1,this.apiURL=b.N.apiUrl,this.translateVal="ml"==localStorage.lang?"malay":"english",this.license_type=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null]}),this.package_type=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.payment_phase=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.viewLicensePrice=!1,this.showLi2Phase=!1,this.showLi3Phase=!1,this.validation_msgs={license_type:[{type:"invalidAutocompleteObject",message:"License Type not recognized. Click one of the options."},{type:"required",message:"License Type is required."}],package_type:[{type:"invalidAutocompleteObject",message:"Package Type not recognized. Click one of the options."},{type:"required",message:"Package is required."}],payment_phase:[{type:"invalidAutocompleteObject",message:"Payment Phase not recognized. Click one of the options."},{type:"required",message:"Payment Phase is required."}]},this.packageId=this.route.snapshot.paramMap.get("id"),this.editPackageForm=this.fb.group({id:[""],package_offers:["",s.kI.required],package_price:["",s.kI.required],prev_package_english:["",s.kI.required],prev_package_malay:["",s.kI.required],package_english:["",s.kI.required],package_malay:["",s.kI.required],promo_discount:["",s.kI.required],package_desc_english:["",s.kI.required],package_desc_malay:["",s.kI.required],final_package_price:["",s.kI.required],first_phase_amount:[""],second_phase_amount:[""],third_phase_amount:[""],package_phase_desc_english:["",s.kI.required],package_phase_desc_malay:["",s.kI.required],package_image:["",s.kI.required],package_image_name:["",s.kI.required],global_view:[""]})}ngOnInit(){this.spinner.show(),this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases(),this.languageService.languageChanged.subscribe(e=>{this.translateVal="ml"==localStorage.lang?"malay":"english",this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases()}),this.packageService.getPackageToEdit(this.packageId).subscribe(e=>{if(this.spinner.hide(),e.data.length>0){let i=e.data[0];console.log("resObj--------",i),this.editPackageForm.patchValue({id:i.id,package_price:i.package_price,prev_package_english:i.package_english,prev_package_malay:i.package_malay,package_english:i.package_english,package_malay:i.package_malay,promo_discount:i.promo_discount,package_desc_english:i.package_desc_english,package_desc_malay:i.package_desc_malay,package_offers:i.package_offers,final_package_price:i.final_package_price,package_phase_desc_english:i.package_phase_desc_english,package_phase_desc_malay:i.package_phase_desc_malay,package_image:i.package_image,package_image_name:i.package_image,global_view:1==i.global_view});var a=this.packageTypeData.filter(e=>e.id==i.package_type_id),t=this.paymentPhaseData.filter(e=>e.id==i.payment_phase);if(this.license_selected=i.license_data,this.license_display=i.license_list,this.package_type.setValue(a[0]),this.payment_phase.setValue(t[0]),2==i.package_type_id){this.viewLicensePrice=!1,2==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!1):3==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!0):(this.show2Phase=!1,this.show3Phase=!1);for(let e=0;e<i.license_data.length;e++)this.editPackageForm.patchValue({first_phase_amount:i.license_data[e].first_phase_amount,second_phase_amount:i.license_data[e].second_phase_amount,third_phase_amount:i.license_data[e].third_phase_amount})}else 2==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!1):3==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!0):(this.showLi2Phase=!1,this.showLi3Phase=!1),this.viewLicensePrice=!0}else this.toastrService.error("No Data Found!!")})}getPackageTypeList(){this.packageService.getPakageTypeList().subscribe(e=>{this.packageTypeData=e.data,this.packageTypeList=this.package_type.valueChanges.pipe((0,O.O)(""),(0,C.U)(e=>"string"==typeof e?e:e[this.translateVal]),(0,C.U)(e=>e?this._filterPackageType(e):this.packageTypeData.slice()))})}getPaymentPhases(){this.packageService.getPaymentPhases().subscribe(e=>{console.log("res['data']===0",e.data),this.paymentPhaseData=e.data,this.paymentPhaseList=this.payment_phase.valueChanges.pipe((0,O.O)(""),(0,C.U)(e=>"string"==typeof e?e:e[this.translateVal]),(0,C.U)(e=>e?this._filterpaymentPhase(e):this.paymentPhaseData.slice()))})}getLicenseClassList(){this.packageService.getLicenseClassList().subscribe(e=>{this.licenseTypeData=e.data,console.log("this.this.license_type=========",this.license_type),this.licenseTypeList=this.license_type.valueChanges.pipe((0,O.O)(""),(0,C.U)(e=>e?this._filterLicenseType(e):this.licenseTypeData.slice()))})}viewPrice(e){this.finalPackageValue=this.editPackageForm.value.final_package_price,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"lg"})}setLicensePrice(){let e=0,a=0;for(let t=0;t<this.license_selected.length;t++){let i=0;e+=Number(this.license_selected[t].license_price),i+=Number(Number(this.license_selected[t].first_phase_amount)+Number(this.license_selected[t].second_phase_amount)+Number(this.license_selected[t].third_phase_amount)),console.log("subPhaseAmt------",this.license_selected[t].license_price,i),this.license_selected[t].license_price!=i&&a++}console.log("TotalLicensePrice---",e,this.finalPackageValue),e==this.finalPackageValue?this.payment_phase.value.id>1&&a>0?this.toastrService.warning("Please check the sum of Phase amount equals the license price!!"):this.modalService.dismissAll():this.toastrService.warning("Sum of license price does not equals Final package price!!!!"),console.log("this.license_selected----",this.license_selected)}displayFn(e){return e&&e.license_class?e.license_class:""}displayFnPackageType(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}displayFnPaymentPhase(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}_filterLicenseType(e){console.log("name=====",e);const a=e.toLowerCase();return this.licenseTypeData.filter(e=>e.license_class.toLowerCase().includes(a))}_filterPackageType(e){const a=e.toLowerCase();return this.packageTypeData.filter(e=>e[this.translateVal].toLowerCase().includes(a))}_filterpaymentPhase(e){const a=e.toLowerCase();return this.paymentPhaseData.filter(e=>e[this.translateVal].toLowerCase().includes(a))}add(e){const a=e.input,t=e.value;console.log("------------",t),(t||"").trim()&&this.license_selected.push(t),a&&(a.value=""),this.license_type.setValue(null)}remove(e){const a=this.license_selected.indexOf(e);a>=0&&this.license_selected.splice(a,1)}selectedListType(e){const a=e.option.viewValue;if(console.log("newValue=======",e.option.viewValue),this.license_selected.includes(a)?this.license_selected=[...this.license_selected.filter(e=>e!==a)]:this.license_selected.push(e.option.viewValue),this.licenceInput.nativeElement.value="",this.license_type.setValue(null),this.license_selected.length>1){var t=this.packageTypeData.filter(e=>1==e.id);this.package_type.setValue(t[0])}else t=this.packageTypeData.filter(e=>2==e.id),this.package_type.setValue(t[0]);requestAnimationFrame(()=>{this.openAuto(this.matACTrigger)})}selectedPaymentPhase(e){""!=this.editPackageForm.value.final_package_price?(this.finalPackageValue=this.editPackageForm.value.final_package_price,1==this.package_type.value.id?(this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"lg"}),2==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!1):3==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!0):(this.showLi2Phase=!1,this.showLi3Phase=!1)):2==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!1):3==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!0):(this.show2Phase=!1,this.show3Phase=!1)):(this.toastrService.warning("Please fill the Final package price!!"),this.payment_phase.patchValue(""))}openAuto(e){e.openPanel(),this.licenceInput.nativeElement.focus(),console.log(e)}onFileChangePackageImage(e){const a=new FileReader;if(e.target.files&&e.target.files.length){const[t]=e.target.files;a.readAsDataURL(t),a.onload=()=>{this.package_preview=a.result,this.editPackageForm.patchValue({package_image:t}),console.log("this.documentForm===",this.editPackageForm)}}}goBack(){this.router.navigate(["/admin/package/package-list"])}changeFinalPackagePrice(){let e=Number(Number(this.editPackageForm.value.package_price*this.editPackageForm.value.promo_discount)/100).toFixed(),a=Number(this.editPackageForm.value.package_price)-Number(e);this.editPackageForm.patchValue({final_package_price:a}),console.log(this.editPackageForm.value)}updatePackageDetails(){const e=new FormData;if(e.append("baseRoot","root/Package/"+this.editPackageForm.value.package_english),e.append("PackageFormData",JSON.stringify(this.editPackageForm.value)),e.append("package_type",JSON.stringify(this.package_type.value)),e.append("license_type",JSON.stringify(this.license_selected)),e.append("payment_phase",this.payment_phase.value.id),e.append("file",this.editPackageForm.value.package_image),2==this.package_type.value.id)if(2==this.payment_phase.value.id)if(""!=this.editPackageForm.value.first_phase_amount&&""!=this.editPackageForm.value.second_phase_amount){let a=Number(this.editPackageForm.value.first_phase_amount)+Number(this.editPackageForm.value.second_phase_amount);Number(this.editPackageForm.value.final_package_price)==a?(this.spinner.show(),this.packageService.updatePackageDetails(e).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(this.toastrService.success("Updated Successfully!!"),this.router.navigate(["/admin/package/package-list"])),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))})):this.toastrService.error("Sum Of Phase amount does not equal Final Package price!!")}else this.toastrService.error("Please provide Phase Amounts");else if(3==this.payment_phase.value.id)if(""!=this.editPackageForm.value.first_phase_amount&&""!=this.editPackageForm.value.second_phase_amount&&""!=this.editPackageForm.value.third_phase_amount){let a=Number(this.editPackageForm.value.first_phase_amount)+Number(this.editPackageForm.value.second_phase_amount)+Number(this.editPackageForm.value.third_phase_amount);Number(this.editPackageForm.value.final_package_price)==a?(this.spinner.show(),this.packageService.updatePackageDetails(e).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(this.toastrService.success("Updated Successfully!!"),this.router.navigate(["/admin/package/package-list"])),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))})):this.toastrService.error("Sum Of Phase amount does not equal Final Package price!!")}else this.toastrService.error("Please provide Phase Amounts");else this.spinner.show(),this.packageService.updatePackageDetails(e).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(this.toastrService.success("Updated Successfully!!"),this.router.navigate(["/admin/package/package-list"])),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))});if(1==this.package_type.value.id){let a=0,t=0;for(let e=0;e<this.license_selected.length;e++){let i=0;a+=Number(this.license_selected[e].license_price),i+=Number(Number(this.license_selected[e].first_phase_amount)+Number(this.license_selected[e].second_phase_amount)+Number(this.license_selected[e].third_phase_amount)),console.log("subPhaseAmt------",this.license_selected[e].license_price,i),this.license_selected[e].license_price!=i&&t++}console.log("TotalLicensePrice---",a,this.finalPackageValue),a==this.finalPackageValue?this.payment_phase.value.id>1&&t>0?this.toastrService.warning("Please check the sum of Phase amount equals the license price!!"):(this.spinner.show(),this.packageService.updatePackageDetails(e).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(this.toastrService.success("Updated Successfully!!"),this.router.navigate(["/admin/package/package-list"])),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))})):this.toastrService.warning("Sum of license price does not equals Final package price!!!!")}}}return e.\u0275fac=function(a){return new(a||e)(L.Y36(L.sBO),L.Y36(s.qu),L.Y36(N.T),L.Y36(I._W),L.Y36(v.F0),L.Y36(v.gz),L.Y36(x),L.Y36(w.t2),L.Y36(S.FF))},e.\u0275cmp=L.Xpm({type:e,selectors:[["app-edit-package"]],viewQuery:function(e,a){if(1&e&&(L.Gf(Le,5),L.Gf(Ee,5)),2&e){let e;L.iGM(e=L.CRH())&&(a.matACTrigger=e.first),L.iGM(e=L.CRH())&&(a.licenceInput=e.first)}},decls:169,vars:108,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-4"],["appearance","outline",1,"example-full-width","mb-3"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","text","matInput","","readonly","",3,"matChipInputFor","matChipInputSeparatorKeyCodes","formControl","matAutocomplete","matChipInputTokenEnd"],["licenceInput","","autocompleteTrigger","matAutocompleteTrigger"],["autoActiveFirstOption","","readonly","",3,"optionSelected"],["autoLicense","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","matInput","","readonly","",3,"formControl","matAutocomplete"],["readonly","",3,"displayWith"],["autoPackage","matAutocomplete"],[4,"ngFor","ngForOf"],[1,"col-6"],[2,"width","100%","height","50%",3,"src"],["formControlName","package_image_name","required","",3,"change"],["matSuffix",""],["formControlName","package_offers","required",""],["value","Affordable"],["value","Premium"],["matInput","","formControlName","package_english","readonly",""],["matInput","","formControlName","package_malay","readonly",""],[1,"col-3"],["matInput","","type","tel","pattern","[0-9]*","formControlName","package_price",3,"blur"],["matInput","","type","tel","pattern","[0-9]*","formControlName","promo_discount",3,"blur"],["matInput","","type","tel","pattern","[0-9]*","formControlName","final_package_price"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["autoPaymentPhase","matAutocomplete"],["class","col-3",4,"ngIf"],["formControlName","global_view",1,"example-margin"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","package_desc_english",3,"editor"],["formControlName","package_desc_malay",3,"editor"],["formControlName","package_phase_desc_english",3,"editor"],["formControlName","package_phase_desc_malay",3,"editor"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"],["LicensePrice",""],[3,"selectable","removable","removed"],[3,"value"],["color","primary",2,"padding","0 12px",3,"checked"],["matInput","","type","tel","pattern","[0-9]*","formControlName","first_phase_amount"],["matInput","","type","tel","pattern","[0-9]*","formControlName","second_phase_amount"],["matInput","","type","tel","pattern","[0-9]*","formControlName","third_phase_amount"],["mat-raised-button","","color","primary",1,"btn-space",3,"click"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"col-12"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-button","","type","button",3,"click"],[1,"row",2,"text-align","center"],["matInput","","type","tel","pattern","[0-9]*",3,"ngModel","ngModelChange"],["class","example-full-width mb-3","appearance","outline",4,"ngIf"]],template:function(e,a){if(1&e){const e=L.EpF();L.TgZ(0,"ngx-spinner",0),L.TgZ(1,"p",1),L._uU(2,"Loading..."),L.qZA(),L.qZA(),L.TgZ(3,"section",2),L.TgZ(4,"div",3),L.TgZ(5,"div",4),L.TgZ(6,"div",5),L.TgZ(7,"div",6),L.TgZ(8,"ul",7),L.TgZ(9,"li",8),L.TgZ(10,"h4",9),L._uU(11),L.ALo(12,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(13,"div",10),L.TgZ(14,"div",11),L.TgZ(15,"div",12),L.TgZ(16,"div",13),L.TgZ(17,"h2"),L._uU(18),L.ALo(19,"translate"),L.qZA(),L.qZA(),L.TgZ(20,"div",14),L.TgZ(21,"form",15),L.TgZ(22,"div",5),L.TgZ(23,"div",16),L.TgZ(24,"mat-form-field",17),L.TgZ(25,"mat-chip-list",18,19),L.YNc(27,Ce,2,3,"mat-chip",20),L.TgZ(28,"mat-label"),L._uU(29),L.ALo(30,"translate"),L.qZA(),L.TgZ(31,"input",21,22),L.NdJ("matChipInputTokenEnd",function(e){return a.add(e)}),L.qZA(),L.qZA(),L.TgZ(34,"mat-autocomplete",23,24),L.NdJ("optionSelected",function(e){return a.selectedListType(e)}),L.YNc(36,be,3,3,"mat-option",25),L.ALo(37,"async"),L.qZA(),L.YNc(38,xe,3,3,"mat-error",26),L.qZA(),L.qZA(),L.TgZ(39,"div",16),L.TgZ(40,"mat-form-field",17),L.TgZ(41,"mat-label"),L._uU(42),L.ALo(43,"translate"),L.qZA(),L._UZ(44,"input",27),L.TgZ(45,"mat-autocomplete",28,29),L.YNc(47,Se,2,2,"mat-option",25),L.ALo(48,"async"),L.qZA(),L.YNc(49,Ne,2,1,"mat-error",30),L.qZA(),L.qZA(),L.TgZ(50,"div",16),L.TgZ(51,"div",5),L.TgZ(52,"div",31),L._UZ(53,"img",32),L.qZA(),L.TgZ(54,"div",31),L.TgZ(55,"mat-form-field",17),L.TgZ(56,"mat-label"),L._uU(57),L.ALo(58,"translate"),L.qZA(),L.TgZ(59,"ngx-mat-file-input",33),L.NdJ("change",function(e){return a.onFileChangePackageImage(e)}),L.qZA(),L.TgZ(60,"mat-icon",34),L._uU(61,"cloud_upload"),L.qZA(),L.YNc(62,we,3,3,"mat-error",26),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.TgZ(63,"div",5),L.TgZ(64,"div",16),L.TgZ(65,"mat-form-field",17),L.TgZ(66,"mat-label"),L._uU(67),L.ALo(68,"translate"),L.qZA(),L.TgZ(69,"mat-select",35),L.TgZ(70,"mat-option",36),L._uU(71),L.ALo(72,"translate"),L.qZA(),L.TgZ(73,"mat-option",37),L._uU(74),L.ALo(75,"translate"),L.qZA(),L.qZA(),L.YNc(76,Fe,3,3,"mat-error",26),L.qZA(),L.qZA(),L.TgZ(77,"div",16),L.TgZ(78,"mat-form-field",17),L.TgZ(79,"mat-label"),L._uU(80),L.ALo(81,"translate"),L.qZA(),L._UZ(82,"input",38),L.YNc(83,Ue,3,3,"mat-error",26),L.qZA(),L.qZA(),L.TgZ(84,"div",16),L.TgZ(85,"mat-form-field",17),L.TgZ(86,"mat-label"),L._uU(87),L.ALo(88,"translate"),L.qZA(),L._UZ(89,"input",39),L.YNc(90,Ge,3,3,"mat-error",26),L.qZA(),L.qZA(),L.qZA(),L.TgZ(91,"div",5),L.TgZ(92,"div",40),L.TgZ(93,"mat-form-field",17),L.TgZ(94,"mat-label"),L._uU(95),L.ALo(96,"translate"),L.qZA(),L.TgZ(97,"input",41),L.NdJ("blur",function(){return a.changeFinalPackagePrice()}),L.qZA(),L.YNc(98,Je,3,3,"mat-error",26),L.qZA(),L.qZA(),L.TgZ(99,"div",40),L.TgZ(100,"mat-form-field",17),L.TgZ(101,"mat-label"),L._uU(102),L.ALo(103,"translate"),L.qZA(),L.TgZ(104,"input",42),L.NdJ("blur",function(){return a.changeFinalPackagePrice()}),L.qZA(),L.YNc(105,Ke,3,3,"mat-error",26),L.qZA(),L.qZA(),L.TgZ(106,"div",40),L.TgZ(107,"mat-form-field",17),L.TgZ(108,"mat-label"),L._uU(109),L.ALo(110,"translate"),L.qZA(),L._UZ(111,"input",43),L.YNc(112,Oe,3,3,"mat-error",26),L.qZA(),L.qZA(),L.TgZ(113,"div",40),L.TgZ(114,"mat-form-field",17),L.TgZ(115,"mat-label"),L._uU(116),L.ALo(117,"translate"),L.qZA(),L._UZ(118,"input",44),L.TgZ(119,"mat-autocomplete",45,46),L.NdJ("optionSelected",function(){L.CHM(e);const t=L.MAs(168);return a.selectedPaymentPhase(t)}),L.YNc(121,Me,2,2,"mat-option",25),L.ALo(122,"async"),L.qZA(),L.YNc(123,Qe,2,1,"mat-error",30),L.qZA(),L.qZA(),L.qZA(),L.TgZ(124,"div",5),L.YNc(125,De,7,4,"div",47),L.YNc(126,Re,7,4,"div",47),L.YNc(127,$e,7,4,"div",47),L.TgZ(128,"div",40),L.TgZ(129,"mat-checkbox",48),L._uU(130),L.ALo(131,"translate"),L.qZA(),L.qZA(),L.YNc(132,Be,4,3,"div",47),L.qZA(),L.TgZ(133,"div",5),L.TgZ(134,"div",49),L.TgZ(135,"mat-label"),L._uU(136),L.ALo(137,"translate"),L.qZA(),L._UZ(138,"ckeditor",50),L.YNc(139,We,3,3,"mat-error",26),L.qZA(),L.TgZ(140,"div",49),L.TgZ(141,"mat-label"),L._uU(142),L.ALo(143,"translate"),L.qZA(),L._UZ(144,"ckeditor",51),L.YNc(145,ze,3,3,"mat-error",26),L.qZA(),L.qZA(),L.TgZ(146,"div",5),L.TgZ(147,"div",49),L.TgZ(148,"mat-label"),L._uU(149),L.ALo(150,"translate"),L.qZA(),L._UZ(151,"ckeditor",52),L.YNc(152,Xe,3,3,"mat-error",26),L.qZA(),L.TgZ(153,"div",49),L.TgZ(154,"mat-label"),L._uU(155),L.ALo(156,"translate"),L.qZA(),L._UZ(157,"ckeditor",53),L.YNc(158,ea,3,3,"mat-error",26),L.qZA(),L.qZA(),L.TgZ(159,"div",5),L.TgZ(160,"div",54),L.TgZ(161,"button",55),L.NdJ("click",function(){return a.updatePackageDetails()}),L._uU(162),L.ALo(163,"translate"),L.qZA(),L.TgZ(164,"button",56),L.NdJ("click",function(){return a.goBack()}),L._uU(165),L.ALo(166,"translate"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.YNc(167,ra,25,11,"ng-template",null,57,L.W1O)}if(2&e){const e=L.MAs(26),t=L.MAs(35),i=L.MAs(46),s=L.MAs(120);L.xp6(11),L.Oqu(L.lcZ(12,60,"PACKAGE.EDITTITLE")),L.xp6(7),L.Oqu(L.lcZ(19,62,"PACKAGE.EDITTITLE")),L.xp6(3),L.Q6J("formGroup",a.editPackageForm),L.xp6(6),L.Q6J("ngForOf",a.license_display),L.xp6(2),L.hij("",L.lcZ(30,64,"PACKAGE.LIST.LICENSE-TYPE"),"*"),L.xp6(2),L.Q6J("matChipInputFor",e)("matChipInputSeparatorKeyCodes",a.separatorKeysCodes)("formControl",a.license_type)("matAutocomplete",t),L.xp6(5),L.Q6J("ngForOf",L.lcZ(37,66,a.licenseTypeList)),L.xp6(2),L.Q6J("ngIf",0==a.license_selected.length),L.xp6(4),L.hij("",L.lcZ(43,68,"PACKAGE.LIST.PACKAGE-TYPE"),"*"),L.xp6(2),L.Q6J("formControl",a.package_type)("matAutocomplete",i),L.xp6(1),L.Q6J("displayWith",a.displayFnPackageType),L.xp6(2),L.Q6J("ngForOf",L.lcZ(48,70,a.packageTypeList)),L.xp6(2),L.Q6J("ngForOf",a.validation_msgs.package_type),L.xp6(4),L.s9C("src",a.package_preview?a.package_preview:a.apiURL+"/"+a.editPackageForm.value.package_image,L.LSH),L.xp6(4),L.Oqu(L.lcZ(58,72,"PACKAGE.LIST.PACKAGE-IMAGE")),L.xp6(5),L.Q6J("ngIf",a.editPackageForm.get("package_image_name").hasError("required")),L.xp6(5),L.Oqu(L.lcZ(68,74,"PACKAGE.LIST.PACKAGE-OFFERS")),L.xp6(4),L.Oqu(L.lcZ(72,76,"PACKAGE.LIST.AFFORDABLE")),L.xp6(3),L.Oqu(L.lcZ(75,78,"PACKAGE.LIST.PREMIUM")),L.xp6(2),L.Q6J("ngIf",a.editPackageForm.get("package_offers").hasError("required")),L.xp6(4),L.hij("",L.lcZ(81,80,"PACKAGE.LIST.PACKAGE-ENG"),"*"),L.xp6(3),L.Q6J("ngIf",a.editPackageForm.get("package_english").hasError("required")),L.xp6(4),L.hij("",L.lcZ(88,82,"PACKAGE.LIST.PACKAGE-MALAY"),"*"),L.xp6(3),L.Q6J("ngIf",a.editPackageForm.get("package_malay").hasError("required")),L.xp6(5),L.hij("",L.lcZ(96,84,"PACKAGE.LIST.PACKAGE-PRICE"),"*"),L.xp6(3),L.Q6J("ngIf",a.editPackageForm.get("package_price").hasError("required")),L.xp6(4),L.hij("",L.lcZ(103,86,"PACKAGE.LIST.PROMO-DIS"),"*"),L.xp6(3),L.Q6J("ngIf",a.editPackageForm.get("promo_discount").hasError("required")),L.xp6(4),L.hij("",L.lcZ(110,88,"PACKAGE.LIST.FIANL-PACKAGE-PRICE"),"*"),L.xp6(3),L.Q6J("ngIf",a.editPackageForm.get("final_package_price").hasError("required")),L.xp6(4),L.hij("",L.lcZ(117,90,"PACKAGE.LIST.PAYMENT-PHASE"),"*"),L.xp6(2),L.Q6J("formControl",a.payment_phase)("matAutocomplete",s),L.xp6(1),L.Q6J("displayWith",a.displayFnPaymentPhase),L.xp6(2),L.Q6J("ngForOf",L.lcZ(122,92,a.paymentPhaseList)),L.xp6(2),L.Q6J("ngForOf",a.validation_msgs.payment_phase),L.xp6(2),L.Q6J("ngIf",a.show2Phase),L.xp6(1),L.Q6J("ngIf",a.show2Phase),L.xp6(1),L.Q6J("ngIf",a.show3Phase),L.xp6(3),L.Oqu(L.lcZ(131,94,"PACKAGE.LIST.GLOBAL-VIEW")),L.xp6(2),L.Q6J("ngIf",a.viewLicensePrice),L.xp6(4),L.hij("",L.lcZ(137,96,"PACKAGE.LIST.PACKAGE-DESC-ENG"),"*"),L.xp6(2),L.Q6J("editor",a.Editor),L.xp6(1),L.Q6J("ngIf",a.editPackageForm.get("package_desc_english").hasError("required")),L.xp6(3),L.hij("",L.lcZ(143,98,"PACKAGE.LIST.PACKAGE-DESC-MALAY"),"*"),L.xp6(2),L.Q6J("editor",a.Editor),L.xp6(1),L.Q6J("ngIf",a.editPackageForm.get("package_desc_malay").hasError("required")),L.xp6(4),L.hij("",L.lcZ(150,100,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG"),"*"),L.xp6(2),L.Q6J("editor",a.Editor),L.xp6(1),L.Q6J("ngIf",a.editPackageForm.get("package_phase_desc_english").hasError("required")),L.xp6(3),L.hij("",L.lcZ(156,102,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY"),"*"),L.xp6(2),L.Q6J("editor",a.Editor),L.xp6(1),L.Q6J("ngIf",a.editPackageForm.get("package_phase_desc_malay").hasError("required")),L.xp6(3),L.Q6J("disabled",!a.editPackageForm.valid||0==a.license_selected.length),L.xp6(1),L.Oqu(L.lcZ(163,104,"BUTTON.EDIT-BTN")),L.xp6(3),L.Oqu(L.lcZ(166,106,"BUTTON.CANCEL-BTN"))}},directives:[w.Ro,s._Y,s.JL,s.sg,l.KE,Y.qn,i.sg,l.hX,c.Nt,Y.oH,s.Fj,Q.ZL,s.JJ,s.oH,Q.XC,i.O5,_.Yh,s.u,s.Q7,g.Hw,l.R9,h.gD,j.ey,s.c5,Z.oG,D.u,p.lW,Y.HS,l.TO,s.On],pipes:[F.X$,i.Ov],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),e})()}];let la=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=L.oAB({type:e}),e.\u0275inj=L.cJS({imports:[[v.Bz.forChild(oa)],v.Bz]}),e})(),ca=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=L.oAB({type:e}),e.\u0275inj=L.cJS({providers:[x],imports:[[y.xD,Y.Hi,D.d,i.ez,s.u5,s.UX,r.p0,o.TU,l.lN,c.c,n.ZX,p.ot,g.Ps,d.Is,u.JX,m.g0,h.LD,A.FA,Z.p9,f.Nh,T.Tx,_.Ad,la,P.Cq,k.T5,q.yI,F.aw,Q.Bb,w.ef]]}),e})()}}]);