!function(){function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,r=a(e);if(t){var o=a(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return n(this,i)}}function n(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(self.webpackChunksmart=self.webpackChunksmart||[]).push([[98],{28098:function(n,a,o){"use strict";o.r(a),o.d(a,{ScheduleModule:function(){return re}});var c=o(61116),l=o(31041),d=o(39199),u=o(5609),h=o(13070),f=o(9550),v=o(63589),g=o(84369),p=o(77307),m=o(13841),Z=o(92935),y=o(59241),_=o(37112),w=o(69024),A=o(40994),T=o(1325),b=o(57173),k=o(97070),D=o(87672),q=o(44716),E=o(51601),S=o(35729),C=o(35366),L=o(97425),x=o(42693),I=o(89647),U=o(51816),O=o(529),j=o(91681),M=function(){var e=function(){function e(t){r(this,e),this.http=t,this.API_URL="assets/data/calendar.json",this.httpOptions={headers:new x.WM({"Content-Type":"application/json"})},this.dataChange=new L.X([])}return s(e,[{key:"data",get:function(){return this.dataChange.value}},{key:"getDialogData",value:function(){return this.dialogData}},{key:"getAllCalendars",value:function(){return this.http.get(this.API_URL).pipe((0,U.K)(this.errorHandler))}},{key:"deleteCalendar",value:function(e){this.dialogData=e}},{key:"errorHandler",value:function(e){var t;return t=e.error instanceof ErrorEvent?e.error.message:"Error Code: ".concat(e.status,"\nMessage: ").concat(e.message),console.log(t),(0,I._)(t)}},{key:"getScheduleList",value:function(){return this.http.get("".concat(O.N.apiUrl,"/webRoutes/getScheduleList")).pipe((0,j.U)(function(e){return e}))}},{key:"getScheduleDetailsForInstructor",value:function(e,t){return this.http.post("".concat(O.N.apiUrl,"/instructor/getScheduleDetailsForInstructor"),{client:e,authToken:t}).pipe((0,j.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(C.LFG(x.eN))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),P=o(50518),R=o(60649),N=function(){var e=function(){function e(t,n,i,a,o){r(this,e),this.dialogRef=t,this.data=n,this.calendarService=i,this.fb=a,this.toastrService=o,this.showDeleteBtn=!1,this.formControl=new l.NI("",[l.kI.required]),this.action=n.action,"edit"===this.action&&(this.dialogTitle=n.calendar.title,this.calendar=n.calendar),this.getScheduleList()}return s(e,[{key:"getErrorMessage",value:function(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"getScheduleList",value:function(){var e=this;this.calendarService.getScheduleList().subscribe(function(t){e.scheduleList=t.data,console.log("this.ViewAssignList====",e.ViewAssignList)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(C.Y36(Z.so),C.Y36(Z.WI),C.Y36(M),C.Y36(l.qu),C.Y36(P._W))},e.\u0275cmp=C.Xpm({type:e,selectors:[["app-form-dialog"]],decls:34,vars:21,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],[1,"font-weight-bold","p-t-5","p-l-10","font-17"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","",2,"overflow","hidden"],[1,"row"],[1,"list-group","list-group-unbordered"],[1,"list-group-item"],[1,"profile-desc-item","float-end"]],template:function(e,t){1&e&&(C.TgZ(0,"div",0),C.TgZ(1,"div",1),C.TgZ(2,"div",2),C.TgZ(3,"div",3),C.TgZ(4,"div",4),C.TgZ(5,"div",5),C._uU(6),C.ALo(7,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(8,"button",6),C.NdJ("click",function(){return t.dialogRef.close()}),C.TgZ(9,"mat-icon"),C._uU(10,"close"),C.qZA(),C.qZA(),C.qZA(),C.TgZ(11,"div",7),C.TgZ(12,"div",8),C.TgZ(13,"ul",9),C.TgZ(14,"li",10),C.TgZ(15,"b"),C._uU(16),C.ALo(17,"translate"),C.qZA(),C.TgZ(18,"div",11),C._uU(19),C.qZA(),C.qZA(),C.TgZ(20,"li",10),C.TgZ(21,"b"),C._uU(22),C.ALo(23,"translate"),C.qZA(),C.TgZ(24,"div",11),C._uU(25),C.ALo(26,"date"),C.qZA(),C.qZA(),C.TgZ(27,"li",10),C.TgZ(28,"b"),C._uU(29),C.ALo(30,"translate"),C.qZA(),C.TgZ(31,"div",11),C._uU(32),C.ALo(33,"date"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA()),2&e&&(C.xp6(6),C.hij(" ",C.lcZ(7,7,"SCHEDULE.VIEWTITLE"),""),C.xp6(10),C.hij("",C.lcZ(17,9,"SCHEDULE.LIST.SCHEDULE")," "),C.xp6(3),C.Oqu(t.calendar.title),C.xp6(3),C.hij("",C.lcZ(23,11,"SCHEDULE.LIST.START-DATE")," "),C.xp6(3),C.hij(" ",C.xi3(26,13,t.calendar.startDate,"dd-MM-yyyy hh:mm a"),""),C.xp6(4),C.hij("",C.lcZ(30,16,"SCHEDULE.LIST.END-DATE")," "),C.xp6(3),C.hij(" ",C.xi3(33,18,t.calendar.endDate,"dd-MM-yyyy hh:mm a"),""))},directives:[g.lW,p.Hw,Z.xY],pipes:[R.X$,c.uU],styles:[""]}),e}(),H=function(){function e(t){r(this,e),this.id=t.id||this.getRandomID(),this.lead_time=t.lead_time||"",this.schedule_name=t.schedule_name||"",this.schedule_owner=t.schedule_owner||"",this.schedule_view=t.schedule_view||"",this.schedule_view_assignment=t.schedule_view_assignment||"",this.startDate=(0,c.p6)(new Date,"yyyy-MM-dd","en")||"",this.endDate=(0,c.p6)(new Date,"yyyy-MM-dd","en")||""}return s(e,[{key:"getRandomID",value:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()}}]),e}(),F=o(60352),Y=o(11757),B=["calendar"];function z(e,t){if(1&e){var n=C.EpF();C.TgZ(0,"li"),C.TgZ(1,"mat-checkbox",18),C.NdJ("change",function(e){var t=C.CHM(n).$implicit;return C.oxw().changeCategory(e,t)}),C._uU(2),C.qZA(),C.qZA()}if(2&e){var i=t.$implicit;C.xp6(1),C.Q6J("checked",i.checked)("value",i.status),C.xp6(1),C.hij(" ",i.status," ")}}var G,J=[{path:"",component:(G=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(o,n);var a=t(o);function o(e,t,n,s){var c;return r(this,o),(c=a.call(this)).fb=e,c.dialog=t,c.calendarService=n,c.snackBar=s,c.scheduleList=[],c.filterOptions="All",c.calendarData=[],c.filterItems=[],c.calendarOptions={headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},initialView:"dayGridMonth",weekends:!0,editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,eventClick:c.handleEventClick.bind(i(c)),eventsSet:c.handleEvents.bind(i(c))},c.dialogTitle="Add New Event",c.calendar=new H({}),c.addCusForm=c.createCalendarForm(c.calendar),c.getScheduleList(),c}return s(o,[{key:"ngOnInit",value:function(){this.getScheduleDetails()}},{key:"getScheduleDetails",value:function(){var e=this;this.calendarData=[],this.calendarService.getScheduleDetailsForInstructor(sessionStorage.client,sessionStorage.currentUser).subscribe(function(t){console.log("----res['data']----",t.data);for(var n=0;n<t.data.length;n++)e.scheduleList.push({status:t.data[n].status,checked:!0}),e.filterItems.push(t.data[n].status),e.calendarData.push({title:t.data[n].status,start:new Date(t.data[n].startDate),end:new Date(t.data[n].endDate),className:t.data[n].schedule_color,id:t.data[n].id,lead_time:t.data[n].lead_time,schedule_name:t.data[n].schedule_id,schedule_view:t.data[n].schedule_view,schedule_view_assignment:t.data[n].schedule_assignment,startDate:new Date(t.data[n].startDate),endDate:new Date(t.data[n].endDate)});e.calendarEvents=e.calendarData,e.tempEvents=e.calendarEvents,e.calendarOptions.events=e.calendarEvents})}},{key:"getScheduleList",value:function(){this.calendarService.getScheduleList().subscribe(function(e){})}},{key:"changeCategory",value:function(e,t){console.log("---------",t),e.checked?this.filterItems.push(t.status):this.filterItems.splice(this.filterItems.indexOf(t.status),1),this.filterEvent(this.filterItems)}},{key:"filterEvent",value:function(e){var t=this.calendarEvents.filter(function(t){return e.map(function(e){return e}).includes(t.title)});this.calendarOptions.events=t}},{key:"handleEventClick",value:function(e){this.eventClick(e)}},{key:"eventClick",value:function(e){var t=this;console.log("row===",e.event._def.extendedProps);var n,i={id:e.event.id,title:e.event.title,lead_time:e.event._def.extendedProps.lead_time,schedule_name:e.event._def.extendedProps.schedule_name,schedule_view:e.event._def.extendedProps.schedule_view,schedule_view_assignment:e.event._def.extendedProps.schedule_view_assignment,startDate:e.event.start,endDate:e.event.end};n="true"===localStorage.getItem("isRtl")?"rtl":"ltr";var a=this.dialog.open(N,{data:{calendar:i,action:"edit"},direction:n});this.subs.sink=a.afterClosed().subscribe(function(e){"submit"===e?(t.getScheduleDetails(),t.addCusForm.reset()):"delete"===e&&t.getScheduleDetails()})}},{key:"handleEvents",value:function(e){}},{key:"createCalendarForm",value:function(e){return this.fb.group({id:[e.id],lead_time:[e.lead_time,[l.kI.required,l.kI.pattern("[a-zA-Z]+([a-zA-Z ]+)*")]],schedule_name:[e.schedule_name],schedule_view:[e.schedule_view],schedule_view_assignment:[e.schedule_view_assignment],startDate:[e.startDate,[l.kI.required]],endDate:[e.endDate,[l.kI.required]]})}},{key:"showNotification",value:function(e,t,n,i){this.snackBar.open(t,"",{duration:2e3,verticalPosition:n,horizontalPosition:i,panelClass:e})}}]),o}(F.n),G.\u0275fac=function(e){return new(e||G)(C.Y36(l.qu),C.Y36(Z.uw),C.Y36(M),C.Y36(v.ux))},G.\u0275cmp=C.Xpm({type:G,selectors:[["app-add-schedule"]],viewQuery:function(e,t){var n;1&e&&C.Gf(B,5),2&e&&C.iGM(n=C.CRH())&&(t.calendar=n.first)},features:[C.qOj],decls:23,vars:5,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12","col-sm-12"],[1,"card"],[1,"card-body"],[1,"col-md-2","col-sm-12","p-l-30"],[1,"m-b-25"],[1,"filter-container"],[4,"ngFor","ngForOf"],[1,"col-md-10","col-sm-12"],[1,"panel-body"],[3,"options"],["color","primary",3,"checked","value","change"]],template:function(e,t){1&e&&(C.TgZ(0,"section",0),C.TgZ(1,"div",1),C.TgZ(2,"div",2),C.TgZ(3,"div",3),C.TgZ(4,"div",4),C.TgZ(5,"ul",5),C.TgZ(6,"li",6),C.TgZ(7,"h4",7),C._uU(8),C.ALo(9,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(10,"div",3),C.TgZ(11,"div",8),C.TgZ(12,"div",9),C.TgZ(13,"div",10),C.TgZ(14,"div",3),C.TgZ(15,"div",11),C._UZ(16,"div",12),C.TgZ(17,"div",13),C.TgZ(18,"ul"),C.YNc(19,z,3,3,"li",14),C.qZA(),C.qZA(),C.qZA(),C.TgZ(20,"div",15),C.TgZ(21,"div",16),C._UZ(22,"full-calendar",17),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA()),2&e&&(C.xp6(8),C.Oqu(C.lcZ(9,3,"SCHEDULE.TITLE")),C.xp6(11),C.Q6J("ngForOf",t.scheduleList),C.xp6(3),C.Q6J("options",t.calendarOptions))},directives:[c.sg,Y.woE,A.oG],pipes:[R.X$],styles:[""]}),G)}],X=function(){var e=function e(){r(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[[S.Bz.forChild(J)],S.Bz]}),e}(),W=o(79961),Q=o(46739),V=o(17647),$=o(95522),K=o(37192),ee=o(279),te=o(9451),ne=o(85256),ie=o(52352);Y.z1U.registerPlugins([ee.ZP,te.ZP,ne.Z,ie.ZP]);var ae,re=((ae=function e(){r(this,e)}).\u0275fac=function(e){return new(e||ae)},ae.\u0275mod=C.oAB({type:ae}),ae.\u0275inj=C.cJS({providers:[M],imports:[[V.xD,$.Hi,Q.d,c.ez,l.u5,l.UX,d.p0,u.TU,h.lN,f.c,v.ZX,g.ot,p.Ps,Z.Is,y.JX,_.g0,m.LD,w.FA,A.p9,b.Nh,k.Tx,T.Ad,X,D.Cq,q.T5,E.yI,R.aw,W.Bb,Y.z1U,K.Ll,K.x]]}),ae)}}])}();