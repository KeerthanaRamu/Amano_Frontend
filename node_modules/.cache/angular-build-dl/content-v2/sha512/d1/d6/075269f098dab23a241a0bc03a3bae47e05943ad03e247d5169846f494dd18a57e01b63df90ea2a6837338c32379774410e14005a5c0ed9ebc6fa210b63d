(self.webpackChunksmart=self.webpackChunksmart||[]).push([[3424],{93424:function(e,a,t){"use strict";t.r(a),t.d(a,{PackageModule:function(){return Xe}});var i=t(61116),s=t(31041),r=t(39199),o=t(5609),l=t(13070),c=t(9550),n=t(63589),p=t(84369),g=t(77307),d=t(13841),u=t(92935),m=t(59241),h=t(37112),A=t(69024),Z=t(40994),_=t(1325),T=t(57173),f=t(97070),P=t(87672),k=t(44716),q=t(51601),v=t(35729),C=t(17647),y=t(35366),E=t(42693),L=t(91681),x=t(529);let I=(()=>{class e{constructor(e){this.http=e}setLicenseDetails(e,a,t){return this.http.post(`${x.N.apiUrl}/webRoutes/setLicenseDetails`,{licenseData:e,authToken:a,client:t}).pipe((0,L.U)(e=>e))}getLicenseListPerClient(e){return this.http.post(`${x.N.apiUrl}/webRoutes/getLicenseListPerClient`,{client:e}).pipe((0,L.U)(e=>e))}getLicenseClassList(e){return this.http.post(`${x.N.apiUrl}/webRoutes/getLicenseClassList`,{client:e}).pipe((0,L.U)(e=>e))}getPakageTypeList(){return this.http.get(`${x.N.apiUrl}/webRoutes/getPakageTypeList`).pipe((0,L.U)(e=>e))}getPaymentPhases(){return this.http.get(`${x.N.apiUrl}/webRoutes/getPaymentPhases`).pipe((0,L.U)(e=>e))}setPackageDetails(e){return this.http.post(`${x.N.apiUrl}/webRoutes/setPackageDetails`,e).pipe((0,L.U)(e=>e))}getPackageListPerClient(e){return this.http.post(`${x.N.apiUrl}/webRoutes/getPackageListPerClient`,{client:e}).pipe((0,L.U)(e=>e))}getPackageToEdit(e,a){return this.http.post(`${x.N.apiUrl}/webRoutes/getPackageToEdit`,{packageId:e,client:a}).pipe((0,L.U)(e=>e))}updatePackageDetails(e){return this.http.post(`${x.N.apiUrl}/webRoutes/updatePackageDetails`,e).pipe((0,L.U)(e=>e))}deletePackageDetails(e,a,t){return this.http.post(`${x.N.apiUrl}/webRoutes/deletePackageDetails`,{rowToDelete:e,authToken:a,client:t}).pipe((0,L.U)(e=>e))}getClientCodeForFolder(e){return this.http.post(`${x.N.apiUrl}/webRoutes/getClientCodeForFolder`,{client:e}).pipe((0,L.U)(e=>e))}}return e.\u0275fac=function(a){return new(a||e)(y.LFG(E.eN))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=t(24486),S=t(50518),N=t(60649);function U(e,a){if(1&e&&(y.TgZ(0,"td",38),y._UZ(1,"img",39),y.qZA()),2&e){const e=a.value;y.xp6(1),y.s9C("src",e||"assets/images/nologo.png",y.LSH)}}function w(e,a){if(1&e){const e=y.EpF();y.TgZ(0,"span"),y.TgZ(1,"button",40),y.NdJ("click",function(){const a=y.CHM(e),t=a.row,i=a.rowIndex;return y.oxw().editPackage(t,i)}),y.TgZ(2,"mat-icon",41),y._uU(3,"edit "),y.qZA(),y.qZA(),y.TgZ(4,"button",42),y.NdJ("click",function(){const a=y.CHM(e),t=a.row,i=a.rowIndex,s=y.oxw(),r=y.MAs(62);return s.deletePackage(t,i,r)}),y.TgZ(5,"mat-icon",43),y._uU(6,"delete "),y.qZA(),y.qZA(),y.qZA()}}function G(e,a){if(1&e){const e=y.EpF();y.TgZ(0,"div",44),y.TgZ(1,"h4",45),y.TgZ(2,"div",46),y.TgZ(3,"div",47),y.TgZ(4,"div",48),y._uU(5),y.ALo(6,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(7,"button",49),y.NdJ("click",function(){return y.CHM(e).$implicit.dismiss("Cross click")}),y.TgZ(8,"span",50),y.TgZ(9,"i",51),y._uU(10,"close"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(11,"div",52),y.TgZ(12,"p"),y._uU(13),y.ALo(14,"translate"),y.qZA(),y.TgZ(15,"div",53),y.TgZ(16,"div",54),y.TgZ(17,"button",55),y.NdJ("click",function(){return y.CHM(e),y.oxw().deletePackageDetails()}),y._uU(18),y.ALo(19,"translate"),y.qZA(),y.TgZ(20,"button",56),y.NdJ("click",function(){return y.CHM(e).$implicit.close()}),y._uU(21),y.ALo(22,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA()}2&e&&(y.xp6(5),y.hij(" ",y.lcZ(6,4,"PACKAGE.DELETETITLE"),""),y.xp6(8),y.Oqu(y.lcZ(14,6,"BUTTON.CONFIRMATION")),y.xp6(5),y.Oqu(y.lcZ(19,8,"BUTTON.DEL-BTN")),y.xp6(3),y.Oqu(y.lcZ(22,10,"BUTTON.CANCEL-BTN")))}let F=(()=>{class e{constructor(e,a,t,i,s,r,o){this.httpClient=e,this.dialog=a,this.packageService=t,this.snackBar=i,this.router=s,this.modalService=r,this.toastrService=o,this.columns=[{name:"License Type"},{name:"Package Type"},{name:"Final Package Price"},{name:"Payment Phase"},{name:"Global View"}],this.data=[],this.filteredData=[],this.translateVal="ml"==localStorage.lang?"malay":"english"}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNewPackage(){this.router.navigate(["/admin/package/add-package"])}loadData(){this.packageService.getPackageListPerClient(sessionStorage.client).subscribe(e=>{console.log("Pack data!!!!!!!!",e.data);for(let a=0;a<e.data.length;a++)e.data[a].global_view=1==e.data[a].global_view,e.data[a].package_type=e.data[a][this.translateVal],e.data[a].payment_phase=e.data[a]["phase_"+this.translateVal];this.data=e.data,this.filteredData=e.data})}filterDatatable(e){const a=e.target.value.toLowerCase(),t=this.columns.length,i=Object.keys(this.filteredData[0]);this.data=this.filteredData.filter(function(e){for(let s=0;s<t;s++)if(-1!==e[i[s]].toString().toLowerCase().indexOf(a)||!a)return!0}),this.table.offset=0}editPackage(e,a){console.log("rowww===",e),this.router.navigate(["/admin/package/edit-package",e.id])}deletePackage(e,a,t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}),this.rowToDelete=e}deletePackageDetails(){this.packageService.deletePackageDetails(this.rowToDelete,sessionStorage.currentUser,sessionStorage.client).subscribe(e=>{"Success"==e.status&&(this.toastrService.success("Deleted Successfully!!!"),this.modalService.dismissAll(),this.loadData())})}}return e.\u0275fac=function(a){return new(a||e)(y.Y36(E.eN),y.Y36(u.uw),y.Y36(I),y.Y36(n.ux),y.Y36(v.F0),y.Y36(b.FF),y.Y36(S._W))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-package-list"]],viewQuery:function(e,a){if(1&e&&y.Gf(C.nE,5),2&e){let e;y.iGM(e=y.CRH())&&(a.table=e.first)}},decls:63,vars:39,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12"],[1,"mt-5"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ml-0"],[1,"dropdown"],[1,"dropdown","m-l-20"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"col-4"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],[1,"material",3,"rows","columns","sortType","columnMode","headerHeight","footerHeight","rowHeight","limit"],["table",""],["name","Image","sortable","false","prop","package_image",3,"width"],["ngx-datatable-cell-template",""],["prop","license_data",3,"name","width"],["prop","package_type",3,"name","width"],["prop","final_package_price",3,"name","width"],["prop","payment_phase",3,"name","width"],["prop","global_view",3,"name","width"],["sortable","false",3,"name","width"],["deleteRecord",""],[1,"table-img","padding-0"],["width","40",3,"src"],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"click"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-button","","type","button",3,"click"]],template:function(e,a){1&e&&(y.TgZ(0,"section",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"div",4),y.TgZ(5,"ul",5),y.TgZ(6,"li",6),y.TgZ(7,"h4",7),y._uU(8),y.ALo(9,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(10,"div",3),y.TgZ(11,"div",8),y.TgZ(12,"div",9),y.TgZ(13,"div",10),y.TgZ(14,"div",11),y.TgZ(15,"div",12),y.TgZ(16,"div",13),y.TgZ(17,"div",14),y.TgZ(18,"div",3),y.TgZ(19,"div",15),y.TgZ(20,"ul",16),y.TgZ(21,"li",17),y.TgZ(22,"h2"),y.TgZ(23,"strong"),y._uU(24),y.ALo(25,"translate"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(26,"li",18),y.TgZ(27,"label",19),y.TgZ(28,"i",20),y._uU(29,"search"),y.qZA(),y.qZA(),y.TgZ(30,"input",21),y.NdJ("keyup",function(e){return a.filterDatatable(e)}),y.qZA(),y.qZA(),y._UZ(31,"li"),y.qZA(),y.qZA(),y.TgZ(32,"div",22),y.TgZ(33,"ul",23),y.TgZ(34,"li"),y.TgZ(35,"div",24),y.TgZ(36,"button",25),y.NdJ("click",function(){return a.addNewPackage()}),y.TgZ(37,"mat-icon",26),y._uU(38,"add"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(39,"li"),y.TgZ(40,"div",24),y.TgZ(41,"button",25),y.NdJ("click",function(){return a.refresh()}),y.TgZ(42,"mat-icon",26),y._uU(43,"refresh "),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(44,"ngx-datatable",27,28),y.TgZ(46,"ngx-datatable-column",29),y.YNc(47,U,2,1,"ng-template",30),y.qZA(),y._UZ(48,"ngx-datatable-column",31),y.ALo(49,"translate"),y._UZ(50,"ngx-datatable-column",32),y.ALo(51,"translate"),y._UZ(52,"ngx-datatable-column",33),y.ALo(53,"translate"),y._UZ(54,"ngx-datatable-column",34),y.ALo(55,"translate"),y._UZ(56,"ngx-datatable-column",35),y.ALo(57,"translate"),y.TgZ(58,"ngx-datatable-column",36),y.ALo(59,"translate"),y.YNc(60,w,7,0,"ng-template",30),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.YNc(61,G,23,12,"ng-template",null,37,y.W1O)),2&e&&(y.xp6(8),y.Oqu(y.lcZ(9,23,"PACKAGE.LISTTITLE")),y.xp6(16),y.Oqu(y.lcZ(25,25,"PACKAGE.LISTTITLE")),y.xp6(20),y.Q6J("rows",a.data)("columns",a.columns)("sortType","multi")("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","60")("limit",10),y.xp6(2),y.Q6J("width",100),y.xp6(2),y.s9C("name",y.lcZ(49,27,"PACKAGE.LIST.LICENSE-TYPE")),y.Q6J("width",130),y.xp6(2),y.s9C("name",y.lcZ(51,29,"PACKAGE.LIST.PACKAGE-TYPE")),y.Q6J("width",130),y.xp6(2),y.s9C("name",y.lcZ(53,31,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")),y.Q6J("width",200),y.xp6(2),y.s9C("name",y.lcZ(55,33,"PACKAGE.LIST.PAYMENT-PHASE")),y.Q6J("width",200),y.xp6(2),y.s9C("name",y.lcZ(57,35,"PACKAGE.LIST.GLOBAL-VIEW")),y.Q6J("width",200),y.xp6(2),y.s9C("name",y.lcZ(59,37,"PACKAGE.ACTION")),y.Q6J("width",120))},directives:[p.lW,g.Hw,C.nE,C.UC,C.vq],pipes:[N.X$],styles:[""]}),e})();var K=t(99235),J=t(81258),Y=t(22567),O=t(94784),Q=t(95522),D=t(79961),j=t(87064),M=t(46739);const H=["autocompleteTrigger"],R=["licenceInput"];function V(e,a){1&e&&(y.TgZ(0,"mat-icon",56),y._uU(1,"cancel"),y.qZA())}function $(e,a){if(1&e){const e=y.EpF();y.TgZ(0,"mat-chip",54),y.NdJ("removed",function(){const a=y.CHM(e).$implicit;return y.oxw().remove(a)}),y._uU(1),y.YNc(2,V,2,0,"mat-icon",55),y.qZA()}if(2&e){const e=a.$implicit,t=y.oxw();y.Q6J("selectable",t.selectable)("removable",t.removable),y.xp6(1),y.hij(" ",e," "),y.xp6(1),y.Q6J("ngIf",t.removable)}}function B(e,a){if(1&e&&(y.TgZ(0,"mat-option",57),y._UZ(1,"mat-checkbox",58),y._uU(2),y.qZA()),2&e){const e=a.$implicit,t=y.oxw();y.Q6J("value",e.license_class),y.xp6(1),y.Q6J("checked",t.license_selected.indexOf(e.license_class)>=0),y.xp6(1),y.hij(" ",e.license_class," ")}}function W(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.LICENSE-TYPE")," is required "))}function X(e,a){if(1&e&&(y.TgZ(0,"mat-option",57),y._uU(1),y.qZA()),2&e){const e=a.$implicit,t=y.oxw();y.Q6J("value",e),y.xp6(1),y.hij(" ",e[t.translateVal]," ")}}function z(e,a){if(1&e&&(y.TgZ(0,"div"),y._uU(1),y.qZA()),2&e){const e=y.oxw().$implicit;y.xp6(1),y.hij(" ",e.message," ")}}function ee(e,a){if(1&e&&(y.TgZ(0,"mat-error"),y.YNc(1,z,2,1,"div",26),y.qZA()),2&e){const e=a.$implicit,t=y.oxw();y.xp6(1),y.Q6J("ngIf",t.package_type.hasError(e.type))}}function ae(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-IMAGE")," is required "))}function te(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-OFFERS")," is required "))}function ie(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-ENG")," is required "))}function se(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-MALAY")," is required "))}function re(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PRICE")," is required "))}function oe(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PROMO-DIS")," is required "))}function le(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")," is required "))}function ce(e,a){if(1&e&&(y.TgZ(0,"mat-option",57),y._uU(1),y.qZA()),2&e){const e=a.$implicit,t=y.oxw();y.Q6J("value",e),y.xp6(1),y.hij(" ",e[t.translateVal]," ")}}function ne(e,a){if(1&e&&(y.TgZ(0,"div"),y._uU(1),y.qZA()),2&e){const e=y.oxw().$implicit;y.xp6(1),y.hij(" ",e.message," ")}}function pe(e,a){if(1&e&&(y.TgZ(0,"mat-error"),y.YNc(1,ne,2,1,"div",26),y.qZA()),2&e){const e=a.$implicit,t=y.oxw();y.xp6(1),y.Q6J("ngIf",t.payment_phase.hasError(e.type))}}function ge(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1")," is required "))}function de(e,a){if(1&e&&(y.TgZ(0,"div",38),y.TgZ(1,"mat-form-field",15),y.TgZ(2,"mat-label"),y._uU(3),y.ALo(4,"translate"),y.qZA(),y._UZ(5,"input",59),y.YNc(6,ge,3,3,"mat-error",26),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.xp6(3),y.hij("",y.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),y.xp6(3),y.Q6J("ngIf",e.addPackageForm.get("first_phase_amount").hasError("required"))}}function ue(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2")," is required "))}function me(e,a){if(1&e&&(y.TgZ(0,"div",38),y.TgZ(1,"mat-form-field",15),y.TgZ(2,"mat-label"),y._uU(3),y.ALo(4,"translate"),y.qZA(),y._UZ(5,"input",60),y.YNc(6,ue,3,3,"mat-error",26),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.xp6(3),y.hij("",y.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),y.xp6(3),y.Q6J("ngIf",e.addPackageForm.get("second_phase_amount").hasError("required"))}}function he(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3")," is required "))}function Ae(e,a){if(1&e&&(y.TgZ(0,"div",38),y.TgZ(1,"mat-form-field",15),y.TgZ(2,"mat-label"),y._uU(3),y.ALo(4,"translate"),y.qZA(),y._UZ(5,"input",61),y.YNc(6,he,3,3,"mat-error",26),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.xp6(3),y.hij("",y.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),y.xp6(3),y.Q6J("ngIf",e.addPackageForm.get("third_phase_amount").hasError("required"))}}function Ze(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-ENG")," is required "))}function _e(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-MALAY")," is required "))}function Te(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG")," is required "))}function fe(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY")," is required "))}const Pe=["autocompleteTrigger"],ke=["licenceInput"];function qe(e,a){1&e&&(y.TgZ(0,"mat-icon",58),y._uU(1,"cancel"),y.qZA())}function ve(e,a){if(1&e){const e=y.EpF();y.TgZ(0,"mat-chip",56),y.NdJ("removed",function(){const a=y.CHM(e).$implicit;return y.oxw().remove(a)}),y._uU(1),y.YNc(2,qe,2,0,"mat-icon",57),y.qZA()}if(2&e){const e=a.$implicit,t=y.oxw();y.Q6J("selectable",t.selectable)("removable",t.removable),y.xp6(1),y.hij(" ",e," "),y.xp6(1),y.Q6J("ngIf",t.removable)}}function Ce(e,a){if(1&e&&(y.TgZ(0,"mat-option",59),y._UZ(1,"mat-checkbox",60),y._uU(2),y.qZA()),2&e){const e=a.$implicit,t=y.oxw();y.Q6J("value",e.license_class),y.xp6(1),y.Q6J("checked",t.license_selected.indexOf(e.license_class)>=0),y.xp6(1),y.hij(" ",e.license_class," ")}}function ye(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.LICENSE-TYPE")," is required "))}function Ee(e,a){if(1&e&&(y.TgZ(0,"mat-option",59),y._uU(1),y.qZA()),2&e){const e=a.$implicit,t=y.oxw();y.Q6J("value",e),y.xp6(1),y.hij(" ",e[t.translateVal]," ")}}function Le(e,a){if(1&e&&(y.TgZ(0,"div"),y._uU(1),y.qZA()),2&e){const e=y.oxw().$implicit;y.xp6(1),y.hij(" ",e.message," ")}}function xe(e,a){if(1&e&&(y.TgZ(0,"mat-error"),y.YNc(1,Le,2,1,"div",26),y.qZA()),2&e){const e=a.$implicit,t=y.oxw();y.xp6(1),y.Q6J("ngIf",t.package_type.hasError(e.type))}}function Ie(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-IMAGE")," is required "))}function be(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-OFFERS")," is required "))}function Se(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-ENG")," is required "))}function Ne(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-MALAY")," is required "))}function Ue(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PRICE")," is required "))}function we(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PROMO-DIS")," is required "))}function Ge(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")," is required "))}function Fe(e,a){if(1&e&&(y.TgZ(0,"mat-option",59),y._uU(1),y.qZA()),2&e){const e=a.$implicit,t=y.oxw();y.Q6J("value",e),y.xp6(1),y.hij(" ",e[t.translateVal]," ")}}function Ke(e,a){if(1&e&&(y.TgZ(0,"div"),y._uU(1),y.qZA()),2&e){const e=y.oxw().$implicit;y.xp6(1),y.hij(" ",e.message," ")}}function Je(e,a){if(1&e&&(y.TgZ(0,"mat-error"),y.YNc(1,Ke,2,1,"div",26),y.qZA()),2&e){const e=a.$implicit,t=y.oxw();y.xp6(1),y.Q6J("ngIf",t.payment_phase.hasError(e.type))}}function Ye(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1")," is required "))}function Oe(e,a){if(1&e&&(y.TgZ(0,"div",40),y.TgZ(1,"mat-form-field",15),y.TgZ(2,"mat-label"),y._uU(3),y.ALo(4,"translate"),y.qZA(),y._UZ(5,"input",61),y.YNc(6,Ye,3,3,"mat-error",26),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.xp6(3),y.hij("",y.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),y.xp6(3),y.Q6J("ngIf",e.editPackageForm.get("first_phase_amount").hasError("required"))}}function Qe(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2")," is required "))}function De(e,a){if(1&e&&(y.TgZ(0,"div",40),y.TgZ(1,"mat-form-field",15),y.TgZ(2,"mat-label"),y._uU(3),y.ALo(4,"translate"),y.qZA(),y._UZ(5,"input",62),y.YNc(6,Qe,3,3,"mat-error",26),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.xp6(3),y.hij("",y.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),y.xp6(3),y.Q6J("ngIf",e.editPackageForm.get("second_phase_amount").hasError("required"))}}function je(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3")," is required "))}function Me(e,a){if(1&e&&(y.TgZ(0,"div",40),y.TgZ(1,"mat-form-field",15),y.TgZ(2,"mat-label"),y._uU(3),y.ALo(4,"translate"),y.qZA(),y._UZ(5,"input",63),y.YNc(6,je,3,3,"mat-error",26),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.xp6(3),y.hij("",y.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),y.xp6(3),y.Q6J("ngIf",e.editPackageForm.get("third_phase_amount").hasError("required"))}}function He(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-ENG")," is required "))}function Re(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-MALAY")," is required "))}function Ve(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG")," is required "))}function $e(e,a){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY")," is required "))}const Be=[{path:"package-list",component:F},{path:"add-package",component:(()=>{class e{constructor(e,a,t,i,r,o){this.cdRef=e,this.fb=a,this.languageService=t,this.toastrService=i,this.packageService=r,this.router=o,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[K.K5,K.OC],this.license_selected=[],this.show2Phase=!1,this.show3Phase=!1,this.translateVal="ml"==localStorage.lang?"malay":"english",this.license_type=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.package_type=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.payment_phase=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.Editor=Y,this.validation_msgs={license_type:[{type:"invalidAutocompleteObject",message:"License Type not recognized. Click one of the options."},{type:"required",message:"License Type is required."}],package_type:[{type:"invalidAutocompleteObject",message:"Package Type not recognized. Click one of the options."},{type:"required",message:"Package Type is required."}],payment_phase:[{type:"invalidAutocompleteObject",message:"Payment Phase not recognized. Click one of the options."},{type:"required",message:"Payment Phase is required."}]}}ngOnInit(){this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases(),this.packageService.getClientCodeForFolder(sessionStorage.client).subscribe(e=>{this.clientCode=e.data[0].client_code}),this.addPackageForm=this.fb.group({package_price:["",s.kI.required],package_offers:["",s.kI.required],package_english:["",s.kI.required],package_malay:["",s.kI.required],promo_discount:["",s.kI.required],package_desc_english:["",s.kI.required],package_desc_malay:["",s.kI.required],final_package_price:["",s.kI.required],first_phase_amount:[""],second_phase_amount:[""],third_phase_amount:[""],package_phase_desc_english:["",s.kI.required],package_phase_desc_malay:["",s.kI.required],package_image:["",s.kI.required],package_image_name:["",s.kI.required],global_view:[""]}),this.languageService.languageChanged.subscribe(e=>{this.translateVal="ml"==localStorage.lang?"malay":"english",this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases()})}getPackageTypeList(){this.packageService.getPakageTypeList().subscribe(e=>{this.packageTypeData=e.data,this.packageTypeList=this.package_type.valueChanges.pipe((0,J.O)(""),(0,L.U)(e=>"string"==typeof e?e:e[this.translateVal]),(0,L.U)(e=>e?this._filterPackageType(e):this.packageTypeData.slice()))})}getLicenseClassList(){this.packageService.getLicenseClassList(sessionStorage.client).subscribe(e=>{this.licenseTypeData=e.data,console.log("this.this.license_type=========",this.license_type),this.licenseTypeList=this.license_type.valueChanges.pipe((0,J.O)(""),(0,L.U)(e=>e?this._filterLicenseType(e):this.licenseTypeData.slice()))})}getPaymentPhases(){this.packageService.getPaymentPhases().subscribe(e=>{console.log("res['data']===0",e.data),this.paymentPhaseData=e.data,this.paymentPhaseList=this.payment_phase.valueChanges.pipe((0,J.O)(""),(0,L.U)(e=>"string"==typeof e?e:e[this.translateVal]),(0,L.U)(e=>e?this._filterpaymentPhase(e):this.paymentPhaseData.slice()))})}displayFn(e){return e&&e.license_class?e.license_class:""}displayFnPackageType(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}displayFnPaymentPhase(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}_filterLicenseType(e){console.log("name=====",e);const a=e.toLowerCase();return this.licenseTypeData.filter(e=>e.license_class.toLowerCase().includes(a))}_filterPackageType(e){const a=e.toLowerCase();return this.packageTypeData.filter(e=>e[this.translateVal].toLowerCase().includes(a))}_filterpaymentPhase(e){const a=e.toLowerCase();return this.paymentPhaseData.filter(e=>e[this.translateVal].toLowerCase().includes(a))}add(e){const a=e.input,t=e.value;console.log("------------",t),(t||"").trim()&&this.license_selected.push(t),a&&(a.value=""),this.license_type.setValue(null)}remove(e){const a=this.license_selected.indexOf(e);a>=0&&this.license_selected.splice(a,1)}selectedListType(e){const a=e.option.viewValue;if(console.log("newValue=======",e.option.viewValue),this.license_selected.includes(a)?this.license_selected=[...this.license_selected.filter(e=>e!==a)]:this.license_selected.push(e.option.viewValue),this.licenceInput.nativeElement.value="",this.license_type.setValue(null),this.license_selected.length>1){var t=this.packageTypeData.filter(e=>1==e.id);this.package_type.setValue(t[0])}else t=this.packageTypeData.filter(e=>2==e.id),this.package_type.setValue(t[0]);requestAnimationFrame(()=>{this.openAuto(this.matACTrigger)})}selectedPaymentPhase(){2==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!1):3==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!0):(this.show2Phase=!1,this.show3Phase=!1)}openAuto(e){e.openPanel(),this.licenceInput.nativeElement.focus(),console.log(e)}setPackageDetails(){console.log("this.addPackageForm.value====",this.addPackageForm.value,this.package_type,this.license_selected);const e=new FormData;e.append("baseRoot","root/"+this.clientCode+"/Package/"+this.addPackageForm.value.package_english),e.append("PackageFormData",JSON.stringify(this.addPackageForm.value)),e.append("package_type",JSON.stringify(this.package_type.value)),e.append("license_type",JSON.stringify(this.license_selected)),e.append("payment_phase",this.payment_phase.value.id),e.append("authToken",sessionStorage.currentUser),e.append("client",sessionStorage.client),e.append("file",this.addPackageForm.value.package_image),2==this.payment_phase.value.id?""!=this.addPackageForm.value.first_phase_amount&&""!=this.addPackageForm.value.second_phase_amount?this.packageService.setPackageDetails(e).subscribe(e=>{"Success"==e.status?(this.toastrService.success("Registered Successfully!!"),this.addPackageForm.reset(),this.router.navigate(["/admin/package/package-list"])):this.toastrService.error(e.status)}):this.toastrService.error("Please provide Phase Amounts"):3==this.payment_phase.value.id?""!=this.addPackageForm.value.first_phase_amount&&""!=this.addPackageForm.value.second_phase_amount&&""!=this.addPackageForm.value.third_phase_amount?this.packageService.setPackageDetails(e).subscribe(e=>{"Success"==e.status?(this.toastrService.success("Registered Successfully!!"),this.addPackageForm.reset(),this.router.navigate(["/admin/package/package-list"])):this.toastrService.error(e.status)}):this.toastrService.error("Please provide Phase Amounts"):this.packageService.setPackageDetails(e).subscribe(e=>{"Success"==e.status?(this.toastrService.success("Registered Successfully!!"),this.addPackageForm.reset(),this.router.navigate(["/admin/package/package-list"])):this.toastrService.error(e.status)})}onFileChangePackageImage(e){const a=new FileReader;if(e.target.files&&e.target.files.length){const[t]=e.target.files;a.readAsDataURL(t),a.onload=()=>{this.addPackageForm.patchValue({package_image:t}),console.log("this.documentForm===",this.addPackageForm)}}}goBack(){this.router.navigate(["/admin/package/package-list"])}changeFinalPackagePrice(){let e=Number(Number(this.addPackageForm.value.package_price*this.addPackageForm.value.promo_discount)/100).toFixed(),a=Number(this.addPackageForm.value.package_price)-Number(e);this.addPackageForm.patchValue({final_package_price:a}),console.log(this.addPackageForm.value)}}return e.\u0275fac=function(a){return new(a||e)(y.Y36(y.sBO),y.Y36(s.qu),y.Y36(O.T),y.Y36(S._W),y.Y36(I),y.Y36(v.F0))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-add-package"]],viewQuery:function(e,a){if(1&e&&(y.Gf(H,5),y.Gf(R,5)),2&e){let e;y.iGM(e=y.CRH())&&(a.matACTrigger=e.first),y.iGM(e=y.CRH())&&(a.licenceInput=e.first)}},decls:162,vars:106,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-4"],["appearance","outline",1,"example-full-width","mb-3"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","text","matInput","",3,"matChipInputFor","matChipInputSeparatorKeyCodes","formControl","matAutocomplete","matChipInputTokenEnd"],["licenceInput","","autocompleteTrigger","matAutocompleteTrigger"],["autoActiveFirstOption","",3,"optionSelected"],["autoLicense","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix","",2,"width","34px","height","34px",3,"click"],[2,"width","34px"],[4,"ngIf"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith"],["autoPackage","matAutocomplete"],[4,"ngFor","ngForOf"],["formControlName","package_image_name","required","",3,"change"],["matSuffix",""],["formControlName","package_offers","required",""],["value","Affordable"],["value","Premium"],["matInput","","formControlName","package_english"],["matInput","","formControlName","package_malay"],[1,"col-3"],["matInput","","formControlName","package_price",3,"blur"],["matInput","","formControlName","promo_discount",3,"blur"],["matInput","","formControlName","final_package_price"],[3,"displayWith","optionSelected"],["autoPaymentPhase","matAutocomplete"],["class","col-3",4,"ngIf"],["formControlName","global_view",1,"example-margin"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","package_desc_english",3,"editor"],["formControlName","package_desc_malay",3,"editor"],["formControlName","package_phase_desc_english",3,"editor"],["formControlName","package_phase_desc_malay",3,"editor"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],["color","primary",2,"padding","0 12px",3,"checked"],["matInput","","formControlName","first_phase_amount"],["matInput","","formControlName","second_phase_amount"],["matInput","","formControlName","third_phase_amount"]],template:function(e,a){if(1&e){const e=y.EpF();y.TgZ(0,"section",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"div",4),y.TgZ(5,"ul",5),y.TgZ(6,"li",6),y.TgZ(7,"h4",7),y._uU(8),y.ALo(9,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(10,"div",8),y.TgZ(11,"div",9),y.TgZ(12,"div",10),y.TgZ(13,"div",11),y.TgZ(14,"h2"),y._uU(15),y.ALo(16,"translate"),y.qZA(),y.qZA(),y.TgZ(17,"div",12),y.TgZ(18,"form",13),y.TgZ(19,"div",3),y.TgZ(20,"div",14),y.TgZ(21,"mat-form-field",15),y.TgZ(22,"mat-chip-list",16,17),y.YNc(24,$,3,4,"mat-chip",18),y.TgZ(25,"mat-label"),y._uU(26),y.ALo(27,"translate"),y.qZA(),y.TgZ(28,"input",19,20),y.NdJ("matChipInputTokenEnd",function(e){return a.add(e)}),y.qZA(),y.qZA(),y.TgZ(31,"mat-autocomplete",21,22),y.NdJ("optionSelected",function(e){return a.selectedListType(e)}),y.YNc(33,B,3,3,"mat-option",23),y.ALo(34,"async"),y.qZA(),y.TgZ(35,"button",24),y.NdJ("click",function(){y.CHM(e);const t=y.MAs(30);return a.openAuto(t)}),y.TgZ(36,"mat-icon",25),y._uU(37,"expand_more"),y.qZA(),y.qZA(),y.YNc(38,W,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(39,"div",14),y.TgZ(40,"mat-form-field",15),y.TgZ(41,"mat-label"),y._uU(42),y.ALo(43,"translate"),y.qZA(),y._UZ(44,"input",27),y.TgZ(45,"mat-autocomplete",28,29),y.YNc(47,X,2,2,"mat-option",23),y.ALo(48,"async"),y.qZA(),y.YNc(49,ee,2,1,"mat-error",30),y.qZA(),y.qZA(),y.TgZ(50,"div",14),y.TgZ(51,"mat-form-field",15),y.TgZ(52,"mat-label"),y._uU(53),y.ALo(54,"translate"),y.qZA(),y.TgZ(55,"ngx-mat-file-input",31),y.NdJ("change",function(e){return a.onFileChangePackageImage(e)}),y.qZA(),y.TgZ(56,"mat-icon",32),y._uU(57,"cloud_upload"),y.qZA(),y.YNc(58,ae,3,3,"mat-error",26),y.qZA(),y.qZA(),y.qZA(),y.TgZ(59,"div",3),y.TgZ(60,"div",14),y.TgZ(61,"mat-form-field",15),y.TgZ(62,"mat-label"),y._uU(63),y.ALo(64,"translate"),y.qZA(),y.TgZ(65,"mat-select",33),y.TgZ(66,"mat-option",34),y._uU(67),y.ALo(68,"translate"),y.qZA(),y.TgZ(69,"mat-option",35),y._uU(70),y.ALo(71,"translate"),y.qZA(),y.qZA(),y.YNc(72,te,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(73,"div",14),y.TgZ(74,"mat-form-field",15),y.TgZ(75,"mat-label"),y._uU(76),y.ALo(77,"translate"),y.qZA(),y._UZ(78,"input",36),y.YNc(79,ie,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(80,"div",14),y.TgZ(81,"mat-form-field",15),y.TgZ(82,"mat-label"),y._uU(83),y.ALo(84,"translate"),y.qZA(),y._UZ(85,"input",37),y.YNc(86,se,3,3,"mat-error",26),y.qZA(),y.qZA(),y.qZA(),y.TgZ(87,"div",3),y.TgZ(88,"div",38),y.TgZ(89,"mat-form-field",15),y.TgZ(90,"mat-label"),y._uU(91),y.ALo(92,"translate"),y.qZA(),y.TgZ(93,"input",39),y.NdJ("blur",function(){return a.changeFinalPackagePrice()}),y.qZA(),y.YNc(94,re,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(95,"div",38),y.TgZ(96,"mat-form-field",15),y.TgZ(97,"mat-label"),y._uU(98),y.ALo(99,"translate"),y.qZA(),y.TgZ(100,"input",40),y.NdJ("blur",function(){return a.changeFinalPackagePrice()}),y.qZA(),y.YNc(101,oe,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(102,"div",38),y.TgZ(103,"mat-form-field",15),y.TgZ(104,"mat-label"),y._uU(105),y.ALo(106,"translate"),y.qZA(),y._UZ(107,"input",41),y.YNc(108,le,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(109,"div",38),y.TgZ(110,"mat-form-field",15),y.TgZ(111,"mat-label"),y._uU(112),y.ALo(113,"translate"),y.qZA(),y._UZ(114,"input",27),y.TgZ(115,"mat-autocomplete",42,43),y.NdJ("optionSelected",function(){return a.selectedPaymentPhase()}),y.YNc(117,ce,2,2,"mat-option",23),y.ALo(118,"async"),y.qZA(),y.YNc(119,pe,2,1,"mat-error",30),y.qZA(),y.qZA(),y.qZA(),y.TgZ(120,"div",3),y.YNc(121,de,7,4,"div",44),y.YNc(122,me,7,4,"div",44),y.YNc(123,Ae,7,4,"div",44),y.TgZ(124,"div",38),y.TgZ(125,"mat-checkbox",45),y._uU(126),y.ALo(127,"translate"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(128,"div",3),y.TgZ(129,"div",46),y.TgZ(130,"mat-label"),y._uU(131),y.ALo(132,"translate"),y.qZA(),y._UZ(133,"ckeditor",47),y.YNc(134,Ze,3,3,"mat-error",26),y.qZA(),y.TgZ(135,"div",46),y.TgZ(136,"mat-label"),y._uU(137),y.ALo(138,"translate"),y.qZA(),y._UZ(139,"ckeditor",48),y.YNc(140,_e,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(141,"div",3),y.TgZ(142,"div",46),y.TgZ(143,"mat-label"),y._uU(144),y.ALo(145,"translate"),y.qZA(),y._UZ(146,"ckeditor",49),y.YNc(147,Te,3,3,"mat-error",26),y.qZA(),y.TgZ(148,"div",46),y.TgZ(149,"mat-label"),y._uU(150),y.ALo(151,"translate"),y.qZA(),y._UZ(152,"ckeditor",50),y.YNc(153,fe,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(154,"div",3),y.TgZ(155,"div",51),y.TgZ(156,"button",52),y.NdJ("click",function(){return a.setPackageDetails()}),y._uU(157),y.ALo(158,"translate"),y.qZA(),y.TgZ(159,"button",53),y.NdJ("click",function(){return a.goBack()}),y._uU(160),y.ALo(161,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){const e=y.MAs(23),t=y.MAs(32),i=y.MAs(46),s=y.MAs(116);y.xp6(8),y.Oqu(y.lcZ(9,58,"PACKAGE.TITLE")),y.xp6(7),y.Oqu(y.lcZ(16,60,"PACKAGE.TITLE")),y.xp6(3),y.Q6J("formGroup",a.addPackageForm),y.xp6(6),y.Q6J("ngForOf",a.license_selected),y.xp6(2),y.hij("",y.lcZ(27,62,"PACKAGE.LIST.LICENSE-TYPE"),"*"),y.xp6(2),y.Q6J("matChipInputFor",e)("matChipInputSeparatorKeyCodes",a.separatorKeysCodes)("formControl",a.license_type)("matAutocomplete",t),y.xp6(5),y.Q6J("ngForOf",y.lcZ(34,64,a.licenseTypeList)),y.xp6(5),y.Q6J("ngIf",0==a.license_selected.length),y.xp6(4),y.hij("",y.lcZ(43,66,"PACKAGE.LIST.PACKAGE-TYPE"),"*"),y.xp6(2),y.Q6J("formControl",a.package_type)("matAutocomplete",i),y.xp6(1),y.Q6J("displayWith",a.displayFnPackageType),y.xp6(2),y.Q6J("ngForOf",y.lcZ(48,68,a.packageTypeList)),y.xp6(2),y.Q6J("ngForOf",a.validation_msgs.package_type),y.xp6(4),y.Oqu(y.lcZ(54,70,"PACKAGE.LIST.PACKAGE-IMAGE")),y.xp6(5),y.Q6J("ngIf",a.addPackageForm.get("package_image_name").hasError("required")),y.xp6(5),y.Oqu(y.lcZ(64,72,"PACKAGE.LIST.PACKAGE-OFFERS")),y.xp6(4),y.Oqu(y.lcZ(68,74,"PACKAGE.LIST.AFFORDABLE")),y.xp6(3),y.Oqu(y.lcZ(71,76,"PACKAGE.LIST.PREMIUM")),y.xp6(2),y.Q6J("ngIf",a.addPackageForm.get("package_offers").hasError("required")),y.xp6(4),y.hij("",y.lcZ(77,78,"PACKAGE.LIST.PACKAGE-ENG"),"*"),y.xp6(3),y.Q6J("ngIf",a.addPackageForm.get("package_english").hasError("required")),y.xp6(4),y.hij("",y.lcZ(84,80,"PACKAGE.LIST.PACKAGE-MALAY"),"*"),y.xp6(3),y.Q6J("ngIf",a.addPackageForm.get("package_malay").hasError("required")),y.xp6(5),y.hij("",y.lcZ(92,82,"PACKAGE.LIST.PACKAGE-PRICE"),"*"),y.xp6(3),y.Q6J("ngIf",a.addPackageForm.get("package_price").hasError("required")),y.xp6(4),y.hij("",y.lcZ(99,84,"PACKAGE.LIST.PROMO-DIS"),"*"),y.xp6(3),y.Q6J("ngIf",a.addPackageForm.get("promo_discount").hasError("required")),y.xp6(4),y.hij("",y.lcZ(106,86,"PACKAGE.LIST.FIANL-PACKAGE-PRICE"),"*"),y.xp6(3),y.Q6J("ngIf",a.addPackageForm.get("final_package_price").hasError("required")),y.xp6(4),y.hij("",y.lcZ(113,88,"PACKAGE.LIST.PAYMENT-PHASE"),"*"),y.xp6(2),y.Q6J("formControl",a.payment_phase)("matAutocomplete",s),y.xp6(1),y.Q6J("displayWith",a.displayFnPaymentPhase),y.xp6(2),y.Q6J("ngForOf",y.lcZ(118,90,a.paymentPhaseList)),y.xp6(2),y.Q6J("ngForOf",a.validation_msgs.payment_phase),y.xp6(2),y.Q6J("ngIf",a.show2Phase),y.xp6(1),y.Q6J("ngIf",a.show2Phase),y.xp6(1),y.Q6J("ngIf",a.show3Phase),y.xp6(3),y.Oqu(y.lcZ(127,92,"PACKAGE.LIST.GLOBAL-VIEW")),y.xp6(5),y.hij("",y.lcZ(132,94,"PACKAGE.LIST.PACKAGE-DESC-ENG"),"*"),y.xp6(2),y.Q6J("editor",a.Editor),y.xp6(1),y.Q6J("ngIf",a.addPackageForm.get("package_desc_english").hasError("required")),y.xp6(3),y.hij("",y.lcZ(138,96,"PACKAGE.LIST.PACKAGE-DESC-MALAY"),"*"),y.xp6(2),y.Q6J("editor",a.Editor),y.xp6(1),y.Q6J("ngIf",a.addPackageForm.get("package_desc_malay").hasError("required")),y.xp6(4),y.hij("",y.lcZ(145,98,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG"),"*"),y.xp6(2),y.Q6J("editor",a.Editor),y.xp6(1),y.Q6J("ngIf",a.addPackageForm.get("package_phase_desc_english").hasError("required")),y.xp6(3),y.hij("",y.lcZ(151,100,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY"),"*"),y.xp6(2),y.Q6J("editor",a.Editor),y.xp6(1),y.Q6J("ngIf",a.addPackageForm.get("package_phase_desc_malay").hasError("required")),y.xp6(3),y.Q6J("disabled",!a.addPackageForm.valid||0==a.license_selected.length),y.xp6(1),y.hij(" ",y.lcZ(158,102,"BUTTON.ADD-BTN"),""),y.xp6(3),y.Oqu(y.lcZ(161,104,"BUTTON.CANCEL-BTN"))}},directives:[s._Y,s.JL,s.sg,l.KE,Q.qn,i.sg,l.hX,c.Nt,Q.oH,s.Fj,D.ZL,s.JJ,s.oH,D.XC,p.lW,l.R9,g.Hw,i.O5,_.Yh,s.u,s.Q7,d.gD,j.ey,Z.oG,M.u,Q.HS,Q.qH,l.TO],pipes:[N.X$,i.Ov],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),e})()},{path:"edit-package/:id",component:(()=>{class e{constructor(e,a,t,i,r,o,l){this.cdRef=e,this.fb=a,this.languageService=t,this.toastrService=i,this.router=r,this.route=o,this.packageService=l,this.Editor=Y,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[K.K5,K.OC],this.license_selected=[],this.show2Phase=!1,this.show3Phase=!1,this.translateVal="ml"==localStorage.lang?"malay":"english",this.license_type=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null]}),this.package_type=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.payment_phase=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.validation_msgs={license_type:[{type:"invalidAutocompleteObject",message:"License Type not recognized. Click one of the options."},{type:"required",message:"License Type is required."}],package_type:[{type:"invalidAutocompleteObject",message:"Package Type not recognized. Click one of the options."},{type:"required",message:"Package is required."}],payment_phase:[{type:"invalidAutocompleteObject",message:"Payment Phase not recognized. Click one of the options."},{type:"required",message:"Payment Phase is required."}]},this.packageId=this.route.snapshot.paramMap.get("id"),this.editPackageForm=this.fb.group({id:[""],package_offers:["",s.kI.required],package_price:["",s.kI.required],prev_package_english:["",s.kI.required],prev_package_malay:["",s.kI.required],package_english:["",s.kI.required],package_malay:["",s.kI.required],promo_discount:["",s.kI.required],package_desc_english:["",s.kI.required],package_desc_malay:["",s.kI.required],final_package_price:["",s.kI.required],first_phase_amount:[""],second_phase_amount:[""],third_phase_amount:[""],package_phase_desc_english:["",s.kI.required],package_phase_desc_malay:["",s.kI.required],package_image:["",s.kI.required],package_image_name:["",s.kI.required],global_view:[""]})}ngOnInit(){this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases(),this.packageService.getClientCodeForFolder(sessionStorage.client).subscribe(e=>{this.clientCode=e.data[0].client_code}),this.languageService.languageChanged.subscribe(e=>{this.translateVal="ml"==localStorage.lang?"malay":"english",this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases()}),this.packageService.getPackageToEdit(this.packageId,sessionStorage.client).subscribe(e=>{let a=e.data[0];this.editPackageForm.patchValue({id:a.id,package_price:a.package_price,prev_package_english:a.package_english,prev_package_malay:a.package_malay,package_english:a.package_english,package_malay:a.package_malay,promo_discount:a.promo_discount,package_desc_english:a.package_desc_english,package_desc_malay:a.package_desc_malay,package_offers:a.package_offers,final_package_price:a.final_package_price,first_phase_amount:a.first_phase_amount,second_phase_amount:a.second_phase_amount,third_phase_amount:a.third_phase_amount,package_phase_desc_english:a.package_phase_desc_english,package_phase_desc_malay:a.package_phase_desc_malay,package_image:a.package_image,package_image_name:a.package_image,global_view:1==a.global_view});var t=a.license_data,i=this.packageTypeData.filter(e=>e.id==a.package_type_id),s=this.paymentPhaseData.filter(e=>e.id==a.payment_phase);console.log("licenseObj--------",t),this.license_selected=a.license_list,this.license_type.setValue(t),this.package_type.setValue(i[0]),this.payment_phase.setValue(s[0]),2==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!1):3==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!0):(this.show2Phase=!1,this.show3Phase=!1)})}getPackageTypeList(){this.packageService.getPakageTypeList().subscribe(e=>{this.packageTypeData=e.data,this.packageTypeList=this.package_type.valueChanges.pipe((0,J.O)(""),(0,L.U)(e=>"string"==typeof e?e:e[this.translateVal]),(0,L.U)(e=>e?this._filterPackageType(e):this.packageTypeData.slice()))})}getPaymentPhases(){this.packageService.getPaymentPhases().subscribe(e=>{console.log("res['data']===0",e.data),this.paymentPhaseData=e.data,this.paymentPhaseList=this.payment_phase.valueChanges.pipe((0,J.O)(""),(0,L.U)(e=>"string"==typeof e?e:e[this.translateVal]),(0,L.U)(e=>e?this._filterpaymentPhase(e):this.paymentPhaseData.slice()))})}getLicenseClassList(){this.packageService.getLicenseClassList(sessionStorage.client).subscribe(e=>{this.licenseTypeData=e.data,console.log("this.this.license_type=========",this.license_type),this.licenseTypeList=this.license_type.valueChanges.pipe((0,J.O)(""),(0,L.U)(e=>e?this._filterLicenseType(e):this.licenseTypeData.slice()))})}displayFn(e){return e&&e.license_class?e.license_class:""}displayFnPackageType(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}displayFnPaymentPhase(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}_filterLicenseType(e){console.log("name=====",e);const a=e.toLowerCase();return this.licenseTypeData.filter(e=>e.license_class.toLowerCase().includes(a))}_filterPackageType(e){const a=e.toLowerCase();return this.packageTypeData.filter(e=>e[this.translateVal].toLowerCase().includes(a))}_filterpaymentPhase(e){const a=e.toLowerCase();return this.paymentPhaseData.filter(e=>e[this.translateVal].toLowerCase().includes(a))}add(e){const a=e.input,t=e.value;console.log("------------",t),(t||"").trim()&&this.license_selected.push(t),a&&(a.value=""),this.license_type.setValue(null)}remove(e){const a=this.license_selected.indexOf(e);a>=0&&this.license_selected.splice(a,1)}selectedListType(e){const a=e.option.viewValue;if(console.log("newValue=======",e.option.viewValue),this.license_selected.includes(a)?this.license_selected=[...this.license_selected.filter(e=>e!==a)]:this.license_selected.push(e.option.viewValue),this.licenceInput.nativeElement.value="",this.license_type.setValue(null),this.license_selected.length>1){var t=this.packageTypeData.filter(e=>1==e.id);this.package_type.setValue(t[0])}else t=this.packageTypeData.filter(e=>2==e.id),this.package_type.setValue(t[0]);requestAnimationFrame(()=>{this.openAuto(this.matACTrigger)})}selectedPaymentPhase(){2==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!1):3==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!0):(this.show2Phase=!1,this.show3Phase=!1)}openAuto(e){e.openPanel(),this.licenceInput.nativeElement.focus(),console.log(e)}onFileChangePackageImage(e){const a=new FileReader;if(e.target.files&&e.target.files.length){const[t]=e.target.files;a.readAsDataURL(t),a.onload=()=>{this.package_preview=a.result,this.editPackageForm.patchValue({package_image:t}),console.log("this.documentForm===",this.editPackageForm)}}}goBack(){this.router.navigate(["/admin/package/package-list"])}updatePackageDetails(){const e=new FormData;e.append("baseRoot","root/"+this.clientCode+"/Package/"+this.editPackageForm.value.package_english),e.append("PackageFormData",JSON.stringify(this.editPackageForm.value)),e.append("package_type",JSON.stringify(this.package_type.value)),e.append("license_type",JSON.stringify(this.license_selected)),e.append("payment_phase",this.payment_phase.value.id),e.append("authToken",sessionStorage.currentUser),e.append("client",sessionStorage.client),e.append("file",this.editPackageForm.value.package_image),this.packageService.updatePackageDetails(e).subscribe(e=>{"Success"==e.status&&(this.toastrService.success("Updated Successfully!!"),this.router.navigate(["/admin/package/package-list"]))})}}return e.\u0275fac=function(a){return new(a||e)(y.Y36(y.sBO),y.Y36(s.qu),y.Y36(O.T),y.Y36(S._W),y.Y36(v.F0),y.Y36(v.gz),y.Y36(I))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-edit-package"]],viewQuery:function(e,a){if(1&e&&(y.Gf(Pe,5),y.Gf(ke,5)),2&e){let e;y.iGM(e=y.CRH())&&(a.matACTrigger=e.first),y.iGM(e=y.CRH())&&(a.licenceInput=e.first)}},decls:166,vars:107,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-4"],["appearance","outline",1,"example-full-width","mb-3"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","text","matInput","",3,"matChipInputFor","matChipInputSeparatorKeyCodes","formControl","matAutocomplete","matChipInputTokenEnd"],["licenceInput","","autocompleteTrigger","matAutocompleteTrigger"],["autoActiveFirstOption","",3,"optionSelected"],["autoLicense","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix","",2,"width","34px","height","34px",3,"click"],[2,"width","34px"],[4,"ngIf"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith"],["autoPackage","matAutocomplete"],[4,"ngFor","ngForOf"],[1,"col-6"],[2,"width","100%","height","50%",3,"src"],["formControlName","package_image_name","required","",3,"change"],["matSuffix",""],["formControlName","package_offers","required",""],["value","Affordable"],["value","Premium"],["matInput","","formControlName","package_english"],["matInput","","formControlName","package_malay"],[1,"col-3"],["matInput","","formControlName","package_price"],["matInput","","formControlName","promo_discount"],["matInput","","formControlName","final_package_price"],[3,"displayWith","optionSelected"],["autoPaymentPhase","matAutocomplete"],["class","col-3",4,"ngIf"],["formControlName","global_view",1,"example-margin"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","package_desc_english",3,"editor"],["formControlName","package_desc_malay",3,"editor"],["formControlName","package_phase_desc_english",3,"editor"],["formControlName","package_phase_desc_malay",3,"editor"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],["color","primary",2,"padding","0 12px",3,"checked"],["matInput","","formControlName","first_phase_amount"],["matInput","","formControlName","second_phase_amount"],["matInput","","formControlName","third_phase_amount"]],template:function(e,a){if(1&e){const e=y.EpF();y.TgZ(0,"section",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"div",4),y.TgZ(5,"ul",5),y.TgZ(6,"li",6),y.TgZ(7,"h4",7),y._uU(8),y.ALo(9,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(10,"div",8),y.TgZ(11,"div",9),y.TgZ(12,"div",10),y.TgZ(13,"div",11),y.TgZ(14,"h2"),y._uU(15),y.ALo(16,"translate"),y.qZA(),y.qZA(),y.TgZ(17,"div",12),y.TgZ(18,"form",13),y.TgZ(19,"div",3),y.TgZ(20,"div",14),y.TgZ(21,"mat-form-field",15),y.TgZ(22,"mat-chip-list",16,17),y.YNc(24,ve,3,4,"mat-chip",18),y.TgZ(25,"mat-label"),y._uU(26),y.ALo(27,"translate"),y.qZA(),y.TgZ(28,"input",19,20),y.NdJ("matChipInputTokenEnd",function(e){return a.add(e)}),y.qZA(),y.qZA(),y.TgZ(31,"mat-autocomplete",21,22),y.NdJ("optionSelected",function(e){return a.selectedListType(e)}),y.YNc(33,Ce,3,3,"mat-option",23),y.ALo(34,"async"),y.qZA(),y.TgZ(35,"button",24),y.NdJ("click",function(){y.CHM(e);const t=y.MAs(30);return a.openAuto(t)}),y.TgZ(36,"mat-icon",25),y._uU(37,"expand_more"),y.qZA(),y.qZA(),y.YNc(38,ye,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(39,"div",14),y.TgZ(40,"mat-form-field",15),y.TgZ(41,"mat-label"),y._uU(42),y.ALo(43,"translate"),y.qZA(),y._UZ(44,"input",27),y.TgZ(45,"mat-autocomplete",28,29),y.YNc(47,Ee,2,2,"mat-option",23),y.ALo(48,"async"),y.qZA(),y.YNc(49,xe,2,1,"mat-error",30),y.qZA(),y.qZA(),y.TgZ(50,"div",14),y.TgZ(51,"div",3),y.TgZ(52,"div",31),y._UZ(53,"img",32),y.qZA(),y.TgZ(54,"div",31),y.TgZ(55,"mat-form-field",15),y.TgZ(56,"mat-label"),y._uU(57),y.ALo(58,"translate"),y.qZA(),y.TgZ(59,"ngx-mat-file-input",33),y.NdJ("change",function(e){return a.onFileChangePackageImage(e)}),y.qZA(),y.TgZ(60,"mat-icon",34),y._uU(61,"cloud_upload"),y.qZA(),y.YNc(62,Ie,3,3,"mat-error",26),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(63,"div",3),y.TgZ(64,"div",14),y.TgZ(65,"mat-form-field",15),y.TgZ(66,"mat-label"),y._uU(67),y.ALo(68,"translate"),y.qZA(),y.TgZ(69,"mat-select",35),y.TgZ(70,"mat-option",36),y._uU(71),y.ALo(72,"translate"),y.qZA(),y.TgZ(73,"mat-option",37),y._uU(74),y.ALo(75,"translate"),y.qZA(),y.qZA(),y.YNc(76,be,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(77,"div",14),y.TgZ(78,"mat-form-field",15),y.TgZ(79,"mat-label"),y._uU(80),y.ALo(81,"translate"),y.qZA(),y._UZ(82,"input",38),y.YNc(83,Se,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(84,"div",14),y.TgZ(85,"mat-form-field",15),y.TgZ(86,"mat-label"),y._uU(87),y.ALo(88,"translate"),y.qZA(),y._UZ(89,"input",39),y.YNc(90,Ne,3,3,"mat-error",26),y.qZA(),y.qZA(),y.qZA(),y.TgZ(91,"div",3),y.TgZ(92,"div",40),y.TgZ(93,"mat-form-field",15),y.TgZ(94,"mat-label"),y._uU(95),y.ALo(96,"translate"),y.qZA(),y._UZ(97,"input",41),y.YNc(98,Ue,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(99,"div",40),y.TgZ(100,"mat-form-field",15),y.TgZ(101,"mat-label"),y._uU(102),y.ALo(103,"translate"),y.qZA(),y._UZ(104,"input",42),y.YNc(105,we,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(106,"div",40),y.TgZ(107,"mat-form-field",15),y.TgZ(108,"mat-label"),y._uU(109),y.ALo(110,"translate"),y.qZA(),y._UZ(111,"input",43),y.YNc(112,Ge,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(113,"div",40),y.TgZ(114,"mat-form-field",15),y.TgZ(115,"mat-label"),y._uU(116),y.ALo(117,"translate"),y.qZA(),y._UZ(118,"input",27),y.TgZ(119,"mat-autocomplete",44,45),y.NdJ("optionSelected",function(){return a.selectedPaymentPhase()}),y.YNc(121,Fe,2,2,"mat-option",23),y.ALo(122,"async"),y.qZA(),y.YNc(123,Je,2,1,"mat-error",30),y.qZA(),y.qZA(),y.qZA(),y.TgZ(124,"div",3),y.YNc(125,Oe,7,4,"div",46),y.YNc(126,De,7,4,"div",46),y.YNc(127,Me,7,4,"div",46),y.TgZ(128,"div",40),y.TgZ(129,"mat-checkbox",47),y._uU(130),y.ALo(131,"translate"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(132,"div",3),y.TgZ(133,"div",48),y.TgZ(134,"mat-label"),y._uU(135),y.ALo(136,"translate"),y.qZA(),y._UZ(137,"ckeditor",49),y.YNc(138,He,3,3,"mat-error",26),y.qZA(),y.TgZ(139,"div",48),y.TgZ(140,"mat-label"),y._uU(141),y.ALo(142,"translate"),y.qZA(),y._UZ(143,"ckeditor",50),y.YNc(144,Re,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(145,"div",3),y.TgZ(146,"div",48),y.TgZ(147,"mat-label"),y._uU(148),y.ALo(149,"translate"),y.qZA(),y._UZ(150,"ckeditor",51),y.YNc(151,Ve,3,3,"mat-error",26),y.qZA(),y.TgZ(152,"div",48),y.TgZ(153,"mat-label"),y._uU(154),y.ALo(155,"translate"),y.qZA(),y._UZ(156,"ckeditor",52),y.YNc(157,$e,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(158,"div",3),y.TgZ(159,"div",53),y.TgZ(160,"button",54),y.NdJ("click",function(){return a.updatePackageDetails()}),y._uU(161),y.ALo(162,"translate"),y.qZA(),y.TgZ(163,"button",55),y.NdJ("click",function(){return a.goBack()}),y._uU(164),y.ALo(165,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){const e=y.MAs(23),t=y.MAs(32),i=y.MAs(46),s=y.MAs(120);y.xp6(8),y.Oqu(y.lcZ(9,59,"PACKAGE.EDITTITLE")),y.xp6(7),y.Oqu(y.lcZ(16,61,"PACKAGE.EDITTITLE")),y.xp6(3),y.Q6J("formGroup",a.editPackageForm),y.xp6(6),y.Q6J("ngForOf",a.license_selected),y.xp6(2),y.hij("",y.lcZ(27,63,"PACKAGE.LIST.LICENSE-TYPE"),"*"),y.xp6(2),y.Q6J("matChipInputFor",e)("matChipInputSeparatorKeyCodes",a.separatorKeysCodes)("formControl",a.license_type)("matAutocomplete",t),y.xp6(5),y.Q6J("ngForOf",y.lcZ(34,65,a.licenseTypeList)),y.xp6(5),y.Q6J("ngIf",0==a.license_selected.length),y.xp6(4),y.hij("",y.lcZ(43,67,"PACKAGE.LIST.PACKAGE-TYPE"),"*"),y.xp6(2),y.Q6J("formControl",a.package_type)("matAutocomplete",i),y.xp6(1),y.Q6J("displayWith",a.displayFnPackageType),y.xp6(2),y.Q6J("ngForOf",y.lcZ(48,69,a.packageTypeList)),y.xp6(2),y.Q6J("ngForOf",a.validation_msgs.package_type),y.xp6(4),y.s9C("src",a.package_preview?a.package_preview:a.editPackageForm.value.package_image,y.LSH),y.xp6(4),y.Oqu(y.lcZ(58,71,"PACKAGE.LIST.PACKAGE-IMAGE")),y.xp6(5),y.Q6J("ngIf",a.editPackageForm.get("package_image_name").hasError("required")),y.xp6(5),y.Oqu(y.lcZ(68,73,"PACKAGE.LIST.PACKAGE-OFFERS")),y.xp6(4),y.Oqu(y.lcZ(72,75,"PACKAGE.LIST.AFFORDABLE")),y.xp6(3),y.Oqu(y.lcZ(75,77,"PACKAGE.LIST.PREMIUM")),y.xp6(2),y.Q6J("ngIf",a.editPackageForm.get("package_offers").hasError("required")),y.xp6(4),y.hij("",y.lcZ(81,79,"PACKAGE.LIST.PACKAGE-ENG"),"*"),y.xp6(3),y.Q6J("ngIf",a.editPackageForm.get("package_english").hasError("required")),y.xp6(4),y.hij("",y.lcZ(88,81,"PACKAGE.LIST.PACKAGE-MALAY"),"*"),y.xp6(3),y.Q6J("ngIf",a.editPackageForm.get("package_malay").hasError("required")),y.xp6(5),y.hij("",y.lcZ(96,83,"PACKAGE.LIST.PACKAGE-PRICE"),"*"),y.xp6(3),y.Q6J("ngIf",a.editPackageForm.get("package_price").hasError("required")),y.xp6(4),y.hij("",y.lcZ(103,85,"PACKAGE.LIST.PROMO-DIS"),"*"),y.xp6(3),y.Q6J("ngIf",a.editPackageForm.get("promo_discount").hasError("required")),y.xp6(4),y.hij("",y.lcZ(110,87,"PACKAGE.LIST.FIANL-PACKAGE-PRICE"),"*"),y.xp6(3),y.Q6J("ngIf",a.editPackageForm.get("final_package_price").hasError("required")),y.xp6(4),y.hij("",y.lcZ(117,89,"PACKAGE.LIST.PAYMENT-PHASE"),"*"),y.xp6(2),y.Q6J("formControl",a.payment_phase)("matAutocomplete",s),y.xp6(1),y.Q6J("displayWith",a.displayFnPaymentPhase),y.xp6(2),y.Q6J("ngForOf",y.lcZ(122,91,a.paymentPhaseList)),y.xp6(2),y.Q6J("ngForOf",a.validation_msgs.payment_phase),y.xp6(2),y.Q6J("ngIf",a.show2Phase),y.xp6(1),y.Q6J("ngIf",a.show2Phase),y.xp6(1),y.Q6J("ngIf",a.show3Phase),y.xp6(3),y.Oqu(y.lcZ(131,93,"PACKAGE.LIST.GLOBAL-VIEW")),y.xp6(5),y.hij("",y.lcZ(136,95,"PACKAGE.LIST.PACKAGE-DESC-ENG"),"*"),y.xp6(2),y.Q6J("editor",a.Editor),y.xp6(1),y.Q6J("ngIf",a.editPackageForm.get("package_desc_english").hasError("required")),y.xp6(3),y.hij("",y.lcZ(142,97,"PACKAGE.LIST.PACKAGE-DESC-MALAY"),"*"),y.xp6(2),y.Q6J("editor",a.Editor),y.xp6(1),y.Q6J("ngIf",a.editPackageForm.get("package_desc_malay").hasError("required")),y.xp6(4),y.hij("",y.lcZ(149,99,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG"),"*"),y.xp6(2),y.Q6J("editor",a.Editor),y.xp6(1),y.Q6J("ngIf",a.editPackageForm.get("package_phase_desc_english").hasError("required")),y.xp6(3),y.hij("",y.lcZ(155,101,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY"),"*"),y.xp6(2),y.Q6J("editor",a.Editor),y.xp6(1),y.Q6J("ngIf",a.editPackageForm.get("package_phase_desc_malay").hasError("required")),y.xp6(3),y.Q6J("disabled",!a.editPackageForm.valid||0==a.license_selected.length),y.xp6(1),y.Oqu(y.lcZ(162,103,"BUTTON.EDIT-BTN")),y.xp6(3),y.Oqu(y.lcZ(165,105,"BUTTON.CANCEL-BTN"))}},directives:[s._Y,s.JL,s.sg,l.KE,Q.qn,i.sg,l.hX,c.Nt,Q.oH,s.Fj,D.ZL,s.JJ,s.oH,D.XC,p.lW,l.R9,g.Hw,i.O5,_.Yh,s.u,s.Q7,d.gD,j.ey,Z.oG,M.u,Q.HS,Q.qH,l.TO],pipes:[N.X$,i.Ov],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),e})()}];let We=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[v.Bz.forChild(Be)],v.Bz]}),e})(),Xe=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[I],imports:[[C.xD,Q.Hi,M.d,i.ez,s.u5,s.UX,r.p0,o.TU,l.lN,c.c,n.ZX,p.ot,g.Ps,u.Is,m.JX,h.g0,d.LD,A.FA,Z.p9,T.Nh,f.Tx,_.Ad,We,P.Cq,k.T5,q.yI,N.aw,D.Bb]]}),e})()}}]);