!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,i){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,a,n=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(n.push(r.value),!i||n.length!==i);l=!0);}catch(c){o=!0,a=c}finally{try{l||null==t.return||t.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,i){(null==i||i>e.length)&&(i=e.length);for(var t=0,r=new Array(i);t<i;t++)r[t]=e[t];return r}function t(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function r(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,i,t){return i&&r(e.prototype,i),t&&r(e,t),e}(self.webpackChunksmart=self.webpackChunksmart||[]).push([[2538],{2538:function(i,r,n){"use strict";n.r(r),n.d(r,{LicenseModule:function(){return oe}});var l=n(61116),o=n(31041),c=n(39199),s=n(5609),d=n(13070),u=n(9550),Z=n(63589),g=n(84369),m=n(77307),p=n(13841),f=n(92935),A=n(59241),T=n(37112),h=n(69024),L=n(40994),q=n(1325),v=n(57173),_=n(97070),E=n(87672),I=n(44716),b=n(51601),S=n(35729),N=n(17647),C=n(35366),x=n(42693),w=n(97425),U=n(91681),y=n(529),k=function(){var e=function(){function e(i){t(this,e),this.http=i,this.isTblLoading=!0,this.dataChange=new w.X([])}return a(e,[{key:"data",get:function(){return this.dataChange.value}},{key:"setLicenseDetails",value:function(e){return this.http.post("".concat(y.N.apiUrl,"/webRoutes/setLicenseDetails"),e).pipe((0,U.U)(function(e){return e}))}},{key:"getLicenseListPerClient",value:function(){var e=this;return this.http.get("".concat(y.N.apiUrl,"/webRoutes/getLicenseListPerClient")).pipe((0,U.U)(function(i){return e.isTblLoading=!1,e.dataChange.next(i),i}))}},{key:"deleteLicenseDetails",value:function(e){return this.http.post("".concat(y.N.apiUrl,"/webRoutes/deleteLicenseDetails"),{rowToDelete:e}).pipe((0,U.U)(function(e){return e}))}},{key:"getLicenseToEdit",value:function(e){return this.http.post("".concat(y.N.apiUrl,"/webRoutes/getLicenseToEdit"),{licenseId:e}).pipe((0,U.U)(function(e){return e}))}},{key:"updateLicenseDetails",value:function(e){return this.http.post("".concat(y.N.apiUrl,"/webRoutes/updateLicenseDetails"),e).pipe((0,U.U)(function(e){return e}))}},{key:"getClientCodeForFolder",value:function(e){return this.http.get("".concat(y.N.apiUrl,"/webRoutes/getClientCodeForFolder")).pipe((0,U.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(i){return new(i||e)(C.LFG(x.eN))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),F=n(24486),D=n(50518),J=n(31269),O=n(94784),Y=n(60649);function R(e,i){if(1&e){var t=C.EpF();C.TgZ(0,"span"),C.TgZ(1,"button",37),C.NdJ("click",function(){var e=C.CHM(t),i=e.row,r=e.rowIndex;return C.oxw().editLicense(i,r)}),C.TgZ(2,"mat-icon",38),C._uU(3,"edit "),C.qZA(),C.qZA(),C.TgZ(4,"button",39),C.NdJ("click",function(){var e=C.CHM(t),i=e.row,r=e.rowIndex,a=C.oxw(),n=C.MAs(59);return a.deleteLicense(i,r,n)}),C.TgZ(5,"mat-icon",40),C._uU(6,"delete "),C.qZA(),C.qZA(),C.qZA()}}function G(e,i){if(1&e){var t=C.EpF();C.TgZ(0,"div",41),C.TgZ(1,"h4",42),C.TgZ(2,"div",43),C.TgZ(3,"div",44),C.TgZ(4,"div",45),C._uU(5),C.ALo(6,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(7,"button",46),C.NdJ("click",function(){return C.CHM(t).$implicit.dismiss("Cross click")}),C.TgZ(8,"span",47),C.TgZ(9,"i",48),C._uU(10,"close"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(11,"div",49),C.TgZ(12,"p"),C._uU(13),C.ALo(14,"translate"),C.qZA(),C.TgZ(15,"div",50),C.TgZ(16,"div",51),C.TgZ(17,"button",52),C.NdJ("click",function(){return C.CHM(t),C.oxw().deleteLicensDetails()}),C._uU(18),C.ALo(19,"translate"),C.qZA(),C.TgZ(20,"button",53),C.NdJ("click",function(){return C.CHM(t).$implicit.close()}),C._uU(21),C.ALo(22,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA()}2&e&&(C.xp6(5),C.hij(" ",C.lcZ(6,4,"LICENSE.DELETETITLE"),""),C.xp6(8),C.Oqu(C.lcZ(14,6,"BUTTON.CONFIRMATION")),C.xp6(5),C.Oqu(C.lcZ(19,8,"BUTTON.DEL-BTN")),C.xp6(3),C.Oqu(C.lcZ(22,10,"BUTTON.CANCEL-BTN")))}var Q=function(){var e=function(){function e(i,r,a,n,l,o,c,s,d){t(this,e),this.httpClient=i,this.dialog=r,this.licenseService=a,this.snackBar=n,this.router=l,this.modalService=o,this.toastrService=c,this.spinner=s,this.languageService=d,this.columns=[{name:"License Class"},{name:"Minimum Age"},{name:"License Description"},{name:"Actions"}],this.data=[],this.filteredData=[],this.translateVal="ml"==localStorage.lang?"malay":"english"}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.loadData(),this.languageService.languageChanged.subscribe(function(i){e.translateVal="ml"==localStorage.lang?"malay":"english",e.loadData()})}},{key:"refresh",value:function(){this.loadData()}},{key:"addNewLicense",value:function(){this.router.navigate(["/admin/license/add-license"])}},{key:"loadData",value:function(){var e=this;this.spinner.show(),this.licenseService.getLicenseListPerClient().subscribe(function(i){e.spinner.hide();for(var t=0;t<i.data.length;t++)i.data[t].license_desc=i.data[t]["license_desc_"+e.translateVal];e.data=i.data,e.filteredData=i.data})}},{key:"filterDatatable",value:function(e){var i=e.target.value.toLowerCase(),t=this.columns.length,r=Object.keys(this.filteredData[0]);this.data=this.filteredData.filter(function(e){for(var a=0;a<t;a++)if(-1!==e[r[a]].toString().toLowerCase().indexOf(i)||!i)return!0}),this.table.offset=0}},{key:"editLicense",value:function(e,i){console.log("rowww===",e),this.router.navigate(["/admin/license/edit-license",e.id])}},{key:"deleteLicense",value:function(e,i,t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}),this.rowToDelete=e}},{key:"deleteLicensDetails",value:function(){var e=this;this.licenseService.deleteLicenseDetails(this.rowToDelete).subscribe(function(i){"Success"==i.status&&(e.toastrService.success("Deleted Successfully!!!"),e.modalService.dismissAll(),e.loadData()),"Session Expired"==i.status&&(e.toastrService.error("Session Expired!!!"),e.router.navigate(["/authentication/signin"]))})}}]),e}();return e.\u0275fac=function(i){return new(i||e)(C.Y36(x.eN),C.Y36(f.uw),C.Y36(k),C.Y36(Z.ux),C.Y36(S.F0),C.Y36(F.FF),C.Y36(D._W),C.Y36(J.t2),C.Y36(O.T))},e.\u0275cmp=C.Xpm({type:e,selectors:[["app-license-list"]],viewQuery:function(e,i){var t;(1&e&&C.Gf(N.nE,5),2&e)&&(C.iGM(t=C.CRH())&&(i.table=t.first))},decls:60,vars:30,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12"],[1,"mt-5"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ml-0"],[1,"dropdown"],[1,"dropdown","m-l-20"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"col-4"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],[1,"material",3,"rows","columns","sortType","columnMode","headerHeight","footerHeight","rowHeight","limit"],["table",""],["prop","license_class",3,"flexGrow","name"],["prop","minimum_age",3,"flexGrow","name"],["prop","license_desc",3,"flexGrow","name"],["sortable","false",3,"flexGrow","name"],["ngx-datatable-cell-template",""],["deleteRecord",""],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"click"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-button","","type","button",3,"click"]],template:function(e,i){1&e&&(C.TgZ(0,"ngx-spinner",0),C.TgZ(1,"p",1),C._uU(2,"Loading..."),C.qZA(),C.qZA(),C.TgZ(3,"section",2),C.TgZ(4,"div",3),C.TgZ(5,"div",4),C.TgZ(6,"div",5),C.TgZ(7,"div",6),C.TgZ(8,"ul",7),C.TgZ(9,"li",8),C.TgZ(10,"h4",9),C._uU(11),C.ALo(12,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(13,"div",5),C.TgZ(14,"div",10),C.TgZ(15,"div",11),C.TgZ(16,"div",12),C.TgZ(17,"div",13),C.TgZ(18,"div",14),C.TgZ(19,"div",15),C.TgZ(20,"div",16),C.TgZ(21,"div",5),C.TgZ(22,"div",17),C.TgZ(23,"ul",18),C.TgZ(24,"li",19),C.TgZ(25,"h2"),C.TgZ(26,"strong"),C._uU(27),C.ALo(28,"translate"),C.qZA(),C.qZA(),C.qZA(),C.TgZ(29,"li",20),C.TgZ(30,"label",21),C.TgZ(31,"i",22),C._uU(32,"search"),C.qZA(),C.qZA(),C.TgZ(33,"input",23),C.NdJ("keyup",function(e){return i.filterDatatable(e)}),C.qZA(),C.qZA(),C._UZ(34,"li"),C.qZA(),C.qZA(),C.TgZ(35,"div",24),C.TgZ(36,"ul",25),C.TgZ(37,"li"),C.TgZ(38,"div",26),C.TgZ(39,"button",27),C.NdJ("click",function(){return i.addNewLicense()}),C.TgZ(40,"mat-icon",28),C._uU(41,"add"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(42,"li"),C.TgZ(43,"div",26),C.TgZ(44,"button",27),C.NdJ("click",function(){return i.refresh()}),C.TgZ(45,"mat-icon",28),C._uU(46,"refresh "),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(47,"ngx-datatable",29,30),C._UZ(49,"ngx-datatable-column",31),C.ALo(50,"translate"),C._UZ(51,"ngx-datatable-column",32),C.ALo(52,"translate"),C._UZ(53,"ngx-datatable-column",33),C.ALo(54,"translate"),C.TgZ(55,"ngx-datatable-column",34),C.ALo(56,"translate"),C.YNc(57,R,7,0,"ng-template",35),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.YNc(58,G,23,12,"ng-template",null,36,C.W1O)),2&e&&(C.xp6(11),C.Oqu(C.lcZ(12,18,"LICENSE.LISTTITLE")),C.xp6(16),C.Oqu(C.lcZ(28,20,"LICENSE.LISTTITLE")),C.xp6(20),C.Q6J("rows",i.data)("columns",i.columns)("sortType","multi")("columnMode","flex")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10),C.xp6(2),C.s9C("name",C.lcZ(50,22,"LICENSE.LIST.LICENSE-CLASS")),C.Q6J("flexGrow",1),C.xp6(2),C.s9C("name",C.lcZ(52,24,"LICENSE.LIST.MIN-AGE")),C.Q6J("flexGrow",1),C.xp6(2),C.s9C("name",C.lcZ(54,26,"LICENSE.LIST.LICENSE-DESC")),C.Q6J("flexGrow",5),C.xp6(2),C.s9C("name",C.lcZ(56,28,"LICENSE.ACTIONS")),C.Q6J("flexGrow",1))},directives:[J.Ro,g.lW,m.Hw,N.nE,N.UC,N.vq],pipes:[Y.X$],styles:[""]}),e}(),M=n(22567),j=n(46739);function B(e,i){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"LICENSE.LIST.LICENSE-CLASS")," is required "))}function H(e,i){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"LICENSE.LIST.LICENSE-ENGLISH")," is required "))}function P(e,i){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"LICENSE.LIST.LICENSE-MALAY")," is required "))}function z(e,i){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"LICENSE.LIST.CRITERIA-ENGLISH")," is required "))}function X(e,i){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"LICENSE.LIST.CRITERIA-MALAY")," is required "))}function V(e,i){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"LICENSE.LIST.LICENSE-CLASS")," is required "))}function W(e,i){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"LICENSE.LIST.LICENSE-ENGLISH")," is required "))}function $(e,i){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"LICENSE.LIST.LICENSE-MALAY")," is required "))}function K(e,i){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"LICENSE.LIST.CRITERIA-ENGLISH")," is required "))}function ee(e,i){1&e&&(C.TgZ(0,"mat-error"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"LICENSE.LIST.CRITERIA-MALAY")," is required "))}var ie,te,re,ae=[{path:"license-list",component:Q},{path:"add-license",component:(te=function(){function i(e,r,a,n,l,o,c,s){t(this,i),this.cdRef=e,this.fb=r,this.languageService=a,this.toastrService=n,this.licenseService=l,this.router=o,this.route=c,this.spinner=s,this.disableSubmit=!1,this.Editor=M}return a(i,[{key:"ngOnInit",value:function(){this.addLicenseForm=this.fb.group({license_class:["",o.kI.required],minimum_age:[""],license_desc_english:["",o.kI.required],license_desc_malay:["",o.kI.required],criteria_english:["",o.kI.required],criteria_malay:["",o.kI.required],license_flow:["",o.kI.required],license_flow_name:["",o.kI.required],license_image:["",o.kI.required],license_image_name:["",o.kI.required],cdl_req:[""],gdlPractical:[!1],psvPractical:[!1]})}},{key:"onFileChangeLicenseFlow",value:function(i){var t=this,r=new FileReader;if(i.target.files&&i.target.files.length){var a=e(i.target.files,1)[0];r.readAsDataURL(a),r.onload=function(){t.addLicenseForm.patchValue({license_flow:a}),console.log("this.documentForm===",t.addLicenseForm)}}}},{key:"onFileChangeLicenseImage",value:function(i){var t=this,r=new FileReader;if(i.target.files&&i.target.files.length){var a=e(i.target.files,1)[0];r.readAsDataURL(a),r.onload=function(){t.addLicenseForm.patchValue({license_image:a}),console.log("this.documentForm===",t.addLicenseForm)}}}},{key:"setLicenseDetails",value:function(){var e=this;this.disableSubmit=!0,this.spinner.show(),console.log("Editor===",this.addLicenseForm.value);var i=new FormData;i.append("baseRoot","root/License/"+this.addLicenseForm.value.license_class),i.append("licenseData",JSON.stringify(this.addLicenseForm.value)),i.append("licenseImage",this.addLicenseForm.value.license_image),i.append("licenseFlow",this.addLicenseForm.value.license_flow),this.licenseService.setLicenseDetails(i).subscribe(function(i){e.spinner.hide(),e.disableSubmit=!1,"Success"==i.status?(e.toastrService.success("Registered Successfully!!"),e.addLicenseForm.reset(),e.router.navigate(["/admin/license/license-list"])):"Session Expired"==i.status?(e.toastrService.error("Session Expired!!!"),e.router.navigate(["/authentication/signin"])):e.toastrService.error(i.status)})}},{key:"goBack",value:function(){this.router.navigate(["/admin/license/license-list"])}}]),i}(),te.\u0275fac=function(e){return new(e||te)(C.Y36(C.sBO),C.Y36(o.qu),C.Y36(O.T),C.Y36(D._W),C.Y36(k),C.Y36(S.F0),C.Y36(S.gz),C.Y36(J.t2))},te.\u0275cmp=C.Xpm({type:te,selectors:[["app-add-license"]],decls:100,vars:50,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-xl-4","col-lg-4","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","license_class","required",""],[4,"ngIf"],["matInput","","formControlName","minimum_age","maxlength","2"],["formControlName","cdl_req",1,"example-margin"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","license_desc_english",3,"editor"],["formControlName","license_desc_malay",3,"editor"],["formControlName","criteria_english",3,"editor"],["formControlName","criteria_malay",3,"editor"],["formControlName","license_image_name","required","",3,"change"],["matSuffix",""],["formControlName","license_flow_name","required","",3,"change"],["formControlName","gdlPractical",1,"example-margin"],["formControlName","psvPractical",1,"example-margin"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"]],template:function(e,i){1&e&&(C.TgZ(0,"ngx-spinner",0),C.TgZ(1,"p",1),C._uU(2,"Loading..."),C.qZA(),C.qZA(),C.TgZ(3,"section",2),C.TgZ(4,"div",3),C.TgZ(5,"div",4),C.TgZ(6,"div",5),C.TgZ(7,"div",6),C.TgZ(8,"ul",7),C.TgZ(9,"li",8),C.TgZ(10,"h4",9),C._uU(11),C.ALo(12,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(13,"div",10),C.TgZ(14,"div",11),C.TgZ(15,"div",12),C.TgZ(16,"div",13),C.TgZ(17,"h2"),C._uU(18),C.ALo(19,"translate"),C.qZA(),C.qZA(),C.TgZ(20,"div",14),C.TgZ(21,"form",15),C.TgZ(22,"div",5),C.TgZ(23,"div",16),C.TgZ(24,"mat-form-field",17),C.TgZ(25,"mat-label"),C._uU(26),C.ALo(27,"translate"),C.qZA(),C._UZ(28,"input",18),C.YNc(29,B,3,3,"mat-error",19),C.qZA(),C.qZA(),C.TgZ(30,"div",16),C.TgZ(31,"mat-form-field",17),C.TgZ(32,"mat-label"),C._uU(33),C.ALo(34,"translate"),C.qZA(),C._UZ(35,"input",20),C.qZA(),C.qZA(),C.TgZ(36,"div",16),C.TgZ(37,"mat-checkbox",21),C._uU(38),C.ALo(39,"translate"),C.qZA(),C.qZA(),C.qZA(),C.TgZ(40,"div",5),C.TgZ(41,"div",22),C.TgZ(42,"mat-label"),C._uU(43),C.ALo(44,"translate"),C.qZA(),C._UZ(45,"ckeditor",23),C.YNc(46,H,3,3,"mat-error",19),C.qZA(),C.TgZ(47,"div",22),C.TgZ(48,"mat-label"),C._uU(49),C.ALo(50,"translate"),C.qZA(),C._UZ(51,"ckeditor",24),C.YNc(52,P,3,3,"mat-error",19),C.qZA(),C.qZA(),C.TgZ(53,"div",5),C.TgZ(54,"div",22),C.TgZ(55,"mat-label"),C._uU(56),C.ALo(57,"translate"),C.qZA(),C._UZ(58,"ckeditor",25),C.YNc(59,z,3,3,"mat-error",19),C.qZA(),C.TgZ(60,"div",22),C.TgZ(61,"mat-label"),C._uU(62),C.ALo(63,"translate"),C.qZA(),C._UZ(64,"ckeditor",26),C.YNc(65,X,3,3,"mat-error",19),C.qZA(),C.qZA(),C.TgZ(66,"div",5),C.TgZ(67,"div",22),C.TgZ(68,"mat-form-field",17),C.TgZ(69,"mat-label"),C._uU(70),C.ALo(71,"translate"),C.qZA(),C.TgZ(72,"ngx-mat-file-input",27),C.NdJ("change",function(e){return i.onFileChangeLicenseImage(e)}),C.qZA(),C.TgZ(73,"mat-icon",28),C._uU(74,"cloud_upload"),C.qZA(),C.qZA(),C.qZA(),C.TgZ(75,"div",22),C.TgZ(76,"mat-form-field",17),C.TgZ(77,"mat-label"),C._uU(78),C.ALo(79,"translate"),C.qZA(),C.TgZ(80,"ngx-mat-file-input",29),C.NdJ("change",function(e){return i.onFileChangeLicenseFlow(e)}),C.qZA(),C.TgZ(81,"mat-icon",28),C._uU(82,"cloud_upload"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(83,"div",5),C.TgZ(84,"div",22),C.TgZ(85,"div",5),C.TgZ(86,"div",22),C.TgZ(87,"mat-checkbox",30),C._uU(88,"GDL Practical"),C.qZA(),C.qZA(),C.TgZ(89,"div",22),C.TgZ(90,"mat-checkbox",31),C._uU(91,"PSV Practical"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(92,"div",5),C.TgZ(93,"div",32),C.TgZ(94,"button",33),C.NdJ("click",function(){return i.setLicenseDetails()}),C._uU(95),C.ALo(96,"translate"),C.qZA(),C.TgZ(97,"button",34),C.NdJ("click",function(){return i.goBack()}),C._uU(98),C.ALo(99,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA()),2&e&&(C.xp6(11),C.Oqu(C.lcZ(12,24,"LICENSE.TITLE")),C.xp6(7),C.Oqu(C.lcZ(19,26,"LICENSE.TITLE")),C.xp6(3),C.Q6J("formGroup",i.addLicenseForm),C.xp6(5),C.Oqu(C.lcZ(27,28,"LICENSE.LIST.LICENSE-CLASS")),C.xp6(3),C.Q6J("ngIf",i.addLicenseForm.get("license_class").hasError("required")),C.xp6(4),C.Oqu(C.lcZ(34,30,"LICENSE.LIST.MIN-AGE")),C.xp6(5),C.Oqu(C.lcZ(39,32,"LICENSE.LIST.CDL-REQ")),C.xp6(5),C.hij("",C.lcZ(44,34,"LICENSE.LIST.LICENSE-ENGLISH"),"*"),C.xp6(2),C.Q6J("editor",i.Editor),C.xp6(1),C.Q6J("ngIf",i.addLicenseForm.get("license_desc_english").hasError("required")),C.xp6(3),C.hij("",C.lcZ(50,36,"LICENSE.LIST.LICENSE-MALAY"),"*"),C.xp6(2),C.Q6J("editor",i.Editor),C.xp6(1),C.Q6J("ngIf",i.addLicenseForm.get("license_desc_malay").hasError("required")),C.xp6(4),C.hij("",C.lcZ(57,38,"LICENSE.LIST.CRITERIA-ENGLISH"),"*"),C.xp6(2),C.Q6J("editor",i.Editor),C.xp6(1),C.Q6J("ngIf",i.addLicenseForm.get("criteria_english").hasError("required")),C.xp6(3),C.hij("",C.lcZ(63,40,"LICENSE.LIST.CRITERIA-MALAY"),"*"),C.xp6(2),C.Q6J("editor",i.Editor),C.xp6(1),C.Q6J("ngIf",i.addLicenseForm.get("criteria_malay").hasError("required")),C.xp6(5),C.Oqu(C.lcZ(71,42,"LICENSE.LIST.LICENSE-IMAGE")),C.xp6(8),C.Oqu(C.lcZ(79,44,"LICENSE.LIST.LICENSE-FLOW")),C.xp6(16),C.Q6J("disabled",!i.addLicenseForm.valid||i.disableSubmit),C.xp6(1),C.Oqu(C.lcZ(96,46,"BUTTON.ADD-BTN")),C.xp6(3),C.Oqu(C.lcZ(99,48,"BUTTON.CANCEL-BTN")))},directives:[J.Ro,o._Y,o.JL,o.sg,d.KE,d.hX,u.Nt,o.Fj,o.JJ,o.u,o.Q7,l.O5,o.nD,L.oG,j.u,q.Yh,m.Hw,d.R9,g.lW,d.TO],pipes:[Y.X$],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),te)},{path:"edit-license/:id",component:(ie=function(){function i(e,r,a,n,l,c,s,d){t(this,i),this.cdRef=e,this.fb=r,this.languageService=a,this.toastrService=n,this.licenseService=l,this.router=c,this.route=s,this.spinner=d,this.Editor=M,this.apiURL=y.N.apiUrl,this.licenseId=this.route.snapshot.paramMap.get("id"),this.editLicenseForm=this.fb.group({id:[""],prev_license_class:["",o.kI.required],license_class:["",o.kI.required],minimum_age:[""],license_desc_english:["",o.kI.required],license_desc_malay:["",o.kI.required],criteria_english:["",o.kI.required],criteria_malay:["",o.kI.required],license_flow:["",o.kI.required],license_flow_name:["",o.kI.required],license_image:["",o.kI.required],license_image_name:["",o.kI.required],cdl_req:[""],gdlPractical:[!1],psvPractical:[!1]})}return a(i,[{key:"ngOnInit",value:function(){var e=this;this.spinner.show(),this.licenseService.getLicenseToEdit(this.licenseId).subscribe(function(i){if(e.spinner.hide(),"Session Expired"==i.status)e.toastrService.error("Session Expired!!!"),e.router.navigate(["/authentication/signin"]);else if(i.data.length>0){var t=i.data[0];e.editLicenseForm.patchValue({id:t.id,prev_license_class:t.license_class,license_class:t.license_class,cdl_req:1==t.cdl_requirement,gdlPractical:1==t.gdl_practical,psvPractical:1==t.psv_practical,minimum_age:t.minimum_age,license_desc_english:t.license_desc_english,license_desc_malay:t.license_desc_malay,criteria_english:t.criteria_english,criteria_malay:t.criteria_malay,license_flow:t.license_flow,license_flow_name:t.license_flow,license_image:t.license_image,license_image_name:t.license_image})}else e.toastrService.error("No Data Found!!!")})}},{key:"onFileChangeLicenseFlow",value:function(i){var t=this,r=new FileReader;if(i.target.files&&i.target.files.length){var a=e(i.target.files,1)[0];r.readAsDataURL(a),r.onload=function(){t.licenseFlow_preview=r.result,t.editLicenseForm.patchValue({license_flow:a}),console.log("this.documentForm===",t.editLicenseForm)}}}},{key:"onFileChangeLicenseImage",value:function(i){var t=this,r=new FileReader;if(i.target.files&&i.target.files.length){var a=e(i.target.files,1)[0];r.readAsDataURL(a),r.onload=function(){t.licenseImg_preview=r.result,t.editLicenseForm.patchValue({license_image:a}),console.log("this.documentForm===",t.editLicenseForm)}}}},{key:"goBack",value:function(){this.router.navigate(["/admin/license/license-list"])}},{key:"updateLicenseDetails",value:function(){var e=this;console.log("Editor===",this.editLicenseForm.value),this.spinner.show();var i=new FormData;i.append("baseRoot","root/License/"+this.editLicenseForm.value.license_class),i.append("licenseData",JSON.stringify(this.editLicenseForm.value)),i.append("licenseImage",this.editLicenseForm.value.license_image),i.append("licenseFlow",this.editLicenseForm.value.license_flow),this.licenseService.updateLicenseDetails(i).subscribe(function(i){e.spinner.hide(),"Success"==i.status?(e.toastrService.success("Updated Successfully!!"),e.editLicenseForm.reset(),e.router.navigate(["/admin/license/license-list"])):"Session Expired"==i.status?(e.toastrService.error("Session Expired!!!"),e.router.navigate(["/authentication/signin"])):e.toastrService.error(i.status)})}}]),i}(),ie.\u0275fac=function(e){return new(e||ie)(C.Y36(C.sBO),C.Y36(o.qu),C.Y36(O.T),C.Y36(D._W),C.Y36(k),C.Y36(S.F0),C.Y36(S.gz),C.Y36(J.t2))},ie.\u0275cmp=C.Xpm({type:ie,selectors:[["app-edit-license"]],decls:108,vars:52,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-xl-4","col-lg-4","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","license_class","readonly",""],[4,"ngIf"],["matInput","","formControlName","minimum_age"],["formControlName","cdl_req",1,"example-margin"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","license_desc_english",3,"editor"],["formControlName","license_desc_malay",3,"editor"],["formControlName","criteria_english",3,"editor"],["formControlName","criteria_malay",3,"editor"],[2,"width","100%","height","50%",3,"src"],["formControlName","license_image_name","required","",3,"change"],["matSuffix",""],["formControlName","license_flow_name","required","",3,"change"],["formControlName","gdlPractical",1,"example-margin"],["formControlName","psvPractical",1,"example-margin"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"]],template:function(e,i){1&e&&(C.TgZ(0,"ngx-spinner",0),C.TgZ(1,"p",1),C._uU(2,"Loading..."),C.qZA(),C.qZA(),C.TgZ(3,"section",2),C.TgZ(4,"div",3),C.TgZ(5,"div",4),C.TgZ(6,"div",5),C.TgZ(7,"div",6),C.TgZ(8,"ul",7),C.TgZ(9,"li",8),C.TgZ(10,"h4",9),C._uU(11),C.ALo(12,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(13,"div",10),C.TgZ(14,"div",11),C.TgZ(15,"div",12),C.TgZ(16,"div",13),C.TgZ(17,"h2"),C._uU(18),C.ALo(19,"translate"),C.qZA(),C.qZA(),C.TgZ(20,"div",14),C.TgZ(21,"form",15),C.TgZ(22,"div",5),C.TgZ(23,"div",16),C.TgZ(24,"mat-form-field",17),C.TgZ(25,"mat-label"),C._uU(26),C.ALo(27,"translate"),C.qZA(),C._UZ(28,"input",18),C.YNc(29,V,3,3,"mat-error",19),C.qZA(),C.qZA(),C.TgZ(30,"div",16),C.TgZ(31,"mat-form-field",17),C.TgZ(32,"mat-label"),C._uU(33),C.ALo(34,"translate"),C.qZA(),C._UZ(35,"input",20),C.qZA(),C.qZA(),C.TgZ(36,"div",16),C.TgZ(37,"mat-checkbox",21),C._uU(38),C.ALo(39,"translate"),C.qZA(),C.qZA(),C.qZA(),C.TgZ(40,"div",5),C.TgZ(41,"div",22),C.TgZ(42,"mat-label"),C._uU(43),C.ALo(44,"translate"),C.qZA(),C._UZ(45,"ckeditor",23),C.YNc(46,W,3,3,"mat-error",19),C.qZA(),C.TgZ(47,"div",22),C.TgZ(48,"mat-label"),C._uU(49),C.ALo(50,"translate"),C.qZA(),C._UZ(51,"ckeditor",24),C.YNc(52,$,3,3,"mat-error",19),C.qZA(),C.qZA(),C.TgZ(53,"div",5),C.TgZ(54,"div",22),C.TgZ(55,"mat-label"),C._uU(56),C.ALo(57,"translate"),C.qZA(),C._UZ(58,"ckeditor",25),C.YNc(59,K,3,3,"mat-error",19),C.qZA(),C.TgZ(60,"div",22),C.TgZ(61,"mat-label"),C._uU(62),C.ALo(63,"translate"),C.qZA(),C._UZ(64,"ckeditor",26),C.YNc(65,ee,3,3,"mat-error",19),C.qZA(),C.qZA(),C.TgZ(66,"div",5),C.TgZ(67,"div",22),C.TgZ(68,"div",5),C.TgZ(69,"div",22),C._UZ(70,"img",27),C.qZA(),C.TgZ(71,"div",22),C.TgZ(72,"mat-form-field",17),C.TgZ(73,"mat-label"),C._uU(74),C.ALo(75,"translate"),C.qZA(),C.TgZ(76,"ngx-mat-file-input",28),C.NdJ("change",function(e){return i.onFileChangeLicenseImage(e)}),C.qZA(),C.TgZ(77,"mat-icon",29),C._uU(78,"cloud_upload"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(79,"div",22),C.TgZ(80,"div",5),C.TgZ(81,"div",22),C._UZ(82,"img",27),C.qZA(),C.TgZ(83,"div",22),C.TgZ(84,"mat-form-field",17),C.TgZ(85,"mat-label"),C._uU(86),C.ALo(87,"translate"),C.qZA(),C.TgZ(88,"ngx-mat-file-input",30),C.NdJ("change",function(e){return i.onFileChangeLicenseFlow(e)}),C.qZA(),C.TgZ(89,"mat-icon",29),C._uU(90,"cloud_upload"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(91,"div",5),C.TgZ(92,"div",22),C.TgZ(93,"div",5),C.TgZ(94,"div",22),C.TgZ(95,"mat-checkbox",31),C._uU(96,"GDL Practical"),C.qZA(),C.qZA(),C.TgZ(97,"div",22),C.TgZ(98,"mat-checkbox",32),C._uU(99,"PSV Practical"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(100,"div",5),C.TgZ(101,"div",33),C.TgZ(102,"button",34),C.NdJ("click",function(){return i.updateLicenseDetails()}),C._uU(103),C.ALo(104,"translate"),C.qZA(),C.TgZ(105,"button",35),C.NdJ("click",function(){return i.goBack()}),C._uU(106),C.ALo(107,"translate"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA()),2&e&&(C.xp6(11),C.Oqu(C.lcZ(12,26,"LICENSE.EDITTITLE")),C.xp6(7),C.Oqu(C.lcZ(19,28,"LICENSE.EDITTITLE")),C.xp6(3),C.Q6J("formGroup",i.editLicenseForm),C.xp6(5),C.Oqu(C.lcZ(27,30,"LICENSE.LIST.LICENSE-CLASS")),C.xp6(3),C.Q6J("ngIf",i.editLicenseForm.get("license_class").hasError("required")),C.xp6(4),C.Oqu(C.lcZ(34,32,"LICENSE.LIST.MIN-AGE")),C.xp6(5),C.Oqu(C.lcZ(39,34,"LICENSE.LIST.CDL-REQ")),C.xp6(5),C.hij("",C.lcZ(44,36,"LICENSE.LIST.LICENSE-ENGLISH"),"*"),C.xp6(2),C.Q6J("editor",i.Editor),C.xp6(1),C.Q6J("ngIf",i.editLicenseForm.get("license_desc_english").hasError("required")),C.xp6(3),C.hij("",C.lcZ(50,38,"LICENSE.LIST.LICENSE-MALAY"),"*"),C.xp6(2),C.Q6J("editor",i.Editor),C.xp6(1),C.Q6J("ngIf",i.editLicenseForm.get("license_desc_malay").hasError("required")),C.xp6(4),C.hij("",C.lcZ(57,40,"LICENSE.LIST.CRITERIA-ENGLISH"),"*"),C.xp6(2),C.Q6J("editor",i.Editor),C.xp6(1),C.Q6J("ngIf",i.editLicenseForm.get("criteria_english").hasError("required")),C.xp6(3),C.hij("",C.lcZ(63,42,"LICENSE.LIST.CRITERIA-MALAY"),"*"),C.xp6(2),C.Q6J("editor",i.Editor),C.xp6(1),C.Q6J("ngIf",i.editLicenseForm.get("criteria_malay").hasError("required")),C.xp6(5),C.s9C("src",i.licenseImg_preview?i.licenseImg_preview:i.apiURL+"/"+i.editLicenseForm.value.license_image,C.LSH),C.xp6(4),C.Oqu(C.lcZ(75,44,"LICENSE.LIST.LICENSE-IMAGE")),C.xp6(8),C.s9C("src",i.licenseFlow_preview?i.licenseFlow_preview:i.apiURL+"/"+i.editLicenseForm.value.license_flow,C.LSH),C.xp6(4),C.Oqu(C.lcZ(87,46,"LICENSE.LIST.LICENSE-FLOW")),C.xp6(16),C.Q6J("disabled",!i.editLicenseForm.valid),C.xp6(1),C.Oqu(C.lcZ(104,48,"BUTTON.EDIT-BTN")),C.xp6(3),C.Oqu(C.lcZ(107,50,"BUTTON.CANCEL-BTN")))},directives:[J.Ro,o._Y,o.JL,o.sg,d.KE,d.hX,u.Nt,o.Fj,o.JJ,o.u,l.O5,L.oG,j.u,q.Yh,o.Q7,m.Hw,d.R9,g.lW,d.TO],pipes:[Y.X$],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),ie)}],ne=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[[S.Bz.forChild(ae)],S.Bz]}),e}(),le=n(79961),oe=((re=function e(){t(this,e)}).\u0275fac=function(e){return new(e||re)},re.\u0275mod=C.oAB({type:re}),re.\u0275inj=C.cJS({providers:[k],imports:[[N.xD,j.d,l.ez,o.u5,o.UX,c.p0,s.TU,d.lN,u.c,Z.ZX,g.ot,m.Ps,f.Is,A.JX,T.g0,p.LD,h.FA,L.p9,v.Nh,_.Tx,q.Ad,ne,E.Cq,I.T5,b.yI,Y.aw,le.Bb,J.ef]]}),re)}}])}();