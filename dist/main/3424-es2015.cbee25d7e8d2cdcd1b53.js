(self.webpackChunksmart=self.webpackChunksmart||[]).push([[3424],{59365:function(e,t){"use strict";var a=function(){function e(){}return e.EOL="\r\n",e.BOM="\ufeff",e.DEFAULT_FIELD_SEPARATOR=",",e.DEFAULT_DECIMAL_SEPARATOR=".",e.DEFAULT_QUOTE='"',e.DEFAULT_SHOW_TITLE=!1,e.DEFAULT_TITLE="My Report",e.DEFAULT_FILENAME="mycsv.csv",e.DEFAULT_SHOW_LABELS=!1,e.DEFAULT_USE_BOM=!0,e.DEFAULT_HEADER=[],e.DEFAULT_NO_DOWNLOAD=!1,e.DEFAULT_REMOVE_EMPTY_VALUES=!1,e}();t.hd={filename:a.DEFAULT_FILENAME,fieldSeparator:a.DEFAULT_FIELD_SEPARATOR,quoteStrings:a.DEFAULT_QUOTE,decimalseparator:a.DEFAULT_DECIMAL_SEPARATOR,showLabels:a.DEFAULT_SHOW_LABELS,showTitle:a.DEFAULT_SHOW_TITLE,title:a.DEFAULT_TITLE,useBom:a.DEFAULT_USE_BOM,headers:a.DEFAULT_HEADER,noDownload:a.DEFAULT_NO_DOWNLOAD,removeEmptyValues:a.DEFAULT_REMOVE_EMPTY_VALUES},t.J0=function(){function e(e,a,l){this.csv="";var r=l||{};this.data="object"!=typeof e?JSON.parse(e):e,this._options=function(e){for(var t,a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];for(var r,n=o(e),c=1;c<arguments.length;c++){for(var p in t=Object(arguments[c]))i.call(t,p)&&(n[p]=t[p]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(t);for(var h=0;h<r.length;h++)s.call(t,r[h])&&(n[r[h]]=t[r[h]])}}return n}({},t.hd,r),this._options.filename&&(this._options.filename=a),this.generateCsv()}return e.prototype.generateCsv=function(){if(this._options.useBom&&(this.csv+=a.BOM),this._options.showTitle&&(this.csv+=this._options.title+"\r\n\n"),this.getHeaders(),this.getBody(),""!=this.csv){if(this._options.noDownload)return this.csv;var e=new Blob([this.csv],{type:"text/csv;charset=utf8;"});if(navigator.msSaveBlob){var t=this._options.filename.replace(/ /g,"_")+".csv";navigator.msSaveBlob(e,t)}else{encodeURI(this.csv);var i=document.createElement("a");i.href=URL.createObjectURL(e),i.setAttribute("visibility","hidden"),i.download=this._options.filename.replace(/ /g,"_")+".csv",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}else console.log("Invalid data")},e.prototype.getHeaders=function(){var e=this;if(this._options.headers.length>0){var t=this._options.headers.reduce(function(t,a){return t+a+e._options.fieldSeparator},"");t=t.slice(0,-1),this.csv+=t+a.EOL}},e.prototype.getBody=function(){for(var e=0;e<this.data.length;e++){var t="";for(var i in this.data[e])t+=this.formartData(this.data[e][i])+this._options.fieldSeparator;t=t.slice(0,-1),this.csv+=t+a.EOL}},e.prototype.formartData=function(t){return this._options.removeEmptyValues&&!t?"":"locale"===this._options.decimalseparator&&e.isFloat(t)?t.toLocaleString():"."!==this._options.decimalseparator&&e.isFloat(t)?t.toString().replace(".",this._options.decimalseparator):"string"==typeof t?(t=t.replace(/"/g,'""'),(this._options.quoteStrings||t.indexOf(",")>-1||t.indexOf("\n")>-1||t.indexOf("\r")>-1)&&(t=this._options.quoteStrings+t+this._options.quoteStrings),t):"boolean"==typeof t?t?"TRUE":"FALSE":t},e.prototype.getCsv=function(){return this.csv},e.isFloat=function(e){return+e===e&&(!isFinite(e)||Boolean(e%1))},e}();var i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}},93424:function(e,t,a){"use strict";a.r(t),a.d(t,{PackageModule:function(){return rt}});var i=a(61116),s=a(31041),o=a(39199),l=a(5609),r=a(13070),n=a(9550),c=a(63589),p=a(84369),h=a(77307),g=a(13841),d=a(92935),u=a(59241),m=a(37112),A=a(69024),Z=a(40994),_=a(1325),T=a(57173),f=a(97070),P=a(87672),k=a(44716),v=a(51601),q=a(35729),E=a(17647),L=a(59365),y=a(35366),b=a(42693),C=a(91681),x=a(529);let S=(()=>{class e{constructor(e){this.http=e}setLicenseDetails(e){return this.http.post(`${x.N.apiUrl}/webRoutes/setLicenseDetails`,{licenseData:e}).pipe((0,C.U)(e=>e))}getLicenseListPerClient(){return this.http.get(`${x.N.apiUrl}/webRoutes/getLicenseListPerClient`).pipe((0,C.U)(e=>e))}getLicenseClassList(){return this.http.get(`${x.N.apiUrl}/webRoutes/getLicenseClassList`).pipe((0,C.U)(e=>e))}getPakageTypeList(){return this.http.get(`${x.N.apiUrl}/webRoutes/getPakageTypeList`).pipe((0,C.U)(e=>e))}getPaymentPhases(){return this.http.get(`${x.N.apiUrl}/webRoutes/getPaymentPhases`).pipe((0,C.U)(e=>e))}setPackageDetails(e,t,a,i){return this.http.post(`${x.N.apiUrl}/webRoutes/setPackageDetails`,{PackageFormData:e,package_type:t,license_type:a,payment_phase:i}).pipe((0,C.U)(e=>e))}getPackageListPerClient(){return this.http.get(`${x.N.apiUrl}/webRoutes/getPackageListPerClient`).pipe((0,C.U)(e=>e))}getPackageInfoToExport(){return this.http.get(`${x.N.apiUrl}/webRoutes/getPackageInfoToExport`).pipe((0,C.U)(e=>e))}getPackageToEdit(e){return this.http.post(`${x.N.apiUrl}/webRoutes/getPackageToEdit`,{packageId:e}).pipe((0,C.U)(e=>e))}updatePackageDetails(e,t,a,i){return this.http.post(`${x.N.apiUrl}/webRoutes/updatePackageDetails`,{PackageFormData:e,package_type:t,license_type:a,payment_phase:i}).pipe((0,C.U)(e=>e))}deletePackageDetails(e){return this.http.post(`${x.N.apiUrl}/webRoutes/deletePackageDetails`,{rowToDelete:e}).pipe((0,C.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(y.LFG(b.eN))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var I=a(24486),N=a(50518),w=a(94784),U=a(31269),F=a(60649);function O(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"span"),y.TgZ(1,"button",43),y.NdJ("click",function(){const t=y.CHM(e),a=t.row,i=t.rowIndex;return y.oxw().editPackage(a,i)}),y.TgZ(2,"mat-icon",44),y._uU(3,"edit "),y.qZA(),y.qZA(),y.TgZ(4,"button",45),y.NdJ("click",function(){const t=y.CHM(e),a=t.row,i=t.rowIndex,s=y.oxw(),o=y.MAs(70);return s.deletePackage(a,i,o)}),y.TgZ(5,"mat-icon",46),y._uU(6,"delete "),y.qZA(),y.qZA(),y.qZA()}}function G(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"div",47),y.TgZ(1,"h4",48),y.TgZ(2,"div",49),y.TgZ(3,"div",50),y.TgZ(4,"div",51),y._uU(5),y.ALo(6,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(7,"button",52),y.NdJ("click",function(){return y.CHM(e).$implicit.dismiss("Cross click")}),y.TgZ(8,"span",53),y.TgZ(9,"i",54),y._uU(10,"close"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(11,"div",55),y.TgZ(12,"p"),y._uU(13),y.ALo(14,"translate"),y.qZA(),y.TgZ(15,"div",56),y.TgZ(16,"div",57),y.TgZ(17,"button",58),y.NdJ("click",function(){return y.CHM(e),y.oxw().deletePackageDetails()}),y._uU(18),y.ALo(19,"translate"),y.qZA(),y.TgZ(20,"button",59),y.NdJ("click",function(){return y.CHM(e).$implicit.close()}),y._uU(21),y.ALo(22,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA()}2&e&&(y.xp6(5),y.hij(" ",y.lcZ(6,4,"PACKAGE.DELETETITLE"),""),y.xp6(8),y.Oqu(y.lcZ(14,6,"BUTTON.CONFIRMATION")),y.xp6(5),y.Oqu(y.lcZ(19,8,"BUTTON.DEL-BTN")),y.xp6(3),y.Oqu(y.lcZ(22,10,"BUTTON.CANCEL-BTN")))}let J=(()=>{class e{constructor(e,t,a,i,s,o,l,r,n){this.httpClient=e,this.dialog=t,this.packageService=a,this.snackBar=i,this.router=s,this.modalService=o,this.toastrService=l,this.languageService=r,this.spinner=n,this.columns=[{name:"License Type"},{name:"Package Type"},{name:"Final Package Price"},{name:"Payment Phase"},{name:"Global View"}],this.data=[],this.filteredData=[],this.translateVal="ml"==localStorage.lang?"malay":"english"}ngOnInit(){this.loadData(),this.languageService.languageChanged.subscribe(e=>{this.translateVal="ml"==localStorage.lang?"malay":"english",this.loadData()})}refresh(){this.loadData()}addNewPackage(){this.router.navigate(["/admin/package/add-package"])}loadData(){this.spinner.show(),this.packageService.getPackageListPerClient().subscribe(e=>{this.spinner.hide(),console.log("Pack data!!!!!!!!",e.data);for(let t=0;t<e.data.length;t++)e.data[t].global_view=1==e.data[t].global_view,e.data[t].package_type=e.data[t][this.translateVal],e.data[t].payment_phase=e.data[t]["phase_"+this.translateVal];this.data=e.data,this.filteredData=e.data})}filterDatatable(e){const t=e.target.value.toLowerCase(),a=this.columns.length,i=Object.keys(this.filteredData[0]);this.data=this.filteredData.filter(function(e){for(let s=0;s<a;s++)if(-1!==e[i[s]].toString().toLowerCase().indexOf(t)||!t)return!0}),this.table.offset=0}editPackage(e,t){console.log("rowww===",e),this.router.navigate(["/admin/package/edit-package",e.id])}deletePackage(e,t,a){this.modalService.open(a,{ariaLabelledBy:"modal-basic-title"}),this.rowToDelete=e}deletePackageDetails(){this.spinner.show(),this.packageService.deletePackageDetails(this.rowToDelete).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(this.toastrService.success("Deleted Successfully!!!"),this.modalService.dismissAll(),this.loadData()),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))})}exportToExcel(){console.log("this.filteredData==========",this.filteredData),this.filteredData.length>0&&(this.spinner.show(),this.packageService.getPackageInfoToExport().subscribe(e=>{this.spinner.hide(),console.log("this.filteredData========",this.filteredData,"Package List");for(let a=0;a<e.data.length;a++)e.data[a].first_phase_amount=null==e.data[a].first_phase_amount?0:e.data[a].first_phase_amount,e.data[a].second_phase_amount=null==e.data[a].second_phase_amount?0:e.data[a].second_phase_amount,e.data[a].third_phase_amount=null==e.data[a].third_phase_amount?0:e.data[a].third_phase_amount,e.data[a].global_view=1==e.data[a].global_view,e.data[a].package_desc_english=e.data[a].package_desc_english.replace(/<(.|\n)*?>/g,""),e.data[a].package_desc_malay=e.data[a].package_desc_malay.replace(/<(.|\n)*?>/g,""),e.data[a].package_phase_desc_english=e.data[a].package_phase_desc_english.replace(/<(.|\n)*?>/g,""),e.data[a].package_phase_desc_malay=e.data[a].package_phase_desc_malay.replace(/<(.|\n)*?>/g,"");const t=e.data;console.log("result======",t),new L.J0(t,"Package List",{fieldSeparator:",",quoteStrings:'"',decimalseparator:".",showLabels:!0,showTitle:!0,title:"Package List",useBom:!0,noDownload:!1,headers:["Package Type","Package Offers","Package English","Package Malay","Payment Phase","License Type","License Price","First Phase Amount","Second Phase Amount","Third Phase Amount","Package Price","Promo Discount","Final Package Price","Package Description in English","Package Description in Malay","Package Phase Description in English","Package Phase Description in Malay","Global View"]})}))}}return e.\u0275fac=function(t){return new(t||e)(y.Y36(b.eN),y.Y36(d.uw),y.Y36(S),y.Y36(c.ux),y.Y36(q.F0),y.Y36(I.FF),y.Y36(N._W),y.Y36(w.T),y.Y36(U.t2))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-package-list"]],viewQuery:function(e,t){if(1&e&&y.Gf(E.nE,5),2&e){let e;y.iGM(e=y.CRH())&&(t.table=e.first)}},decls:71,vars:45,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"col-md-12"],[1,"mt-5"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ml-0"],[1,"dropdown"],[1,"dropdown","m-l-20"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"col-2",2,"padding","10px"],["mat-raised-button","",1,"btn","btn-success",3,"click"],[1,"fas","fa-file-excel"],[1,"col-2"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],[1,"material",3,"rows","columns","sortType","columnMode","headerHeight","footerHeight","rowHeight","limit"],["table",""],["prop","license_data",3,"name","width"],["prop","package_type",3,"name","width"],["prop","package_offers",3,"name","width"],["prop","final_package_price",3,"name","width"],["prop","payment_phase",3,"name","width"],["prop","global_view",3,"name","width"],["sortable","false",3,"name","width"],["ngx-datatable-cell-template",""],["deleteRecord",""],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"click"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-button","","type","button",3,"click"]],template:function(e,t){1&e&&(y.TgZ(0,"ngx-spinner",0),y.TgZ(1,"p",1),y._uU(2,"Loading..."),y.qZA(),y.qZA(),y.TgZ(3,"section",2),y.TgZ(4,"div",3),y.TgZ(5,"div",4),y.TgZ(6,"div",5),y.TgZ(7,"div",6),y.TgZ(8,"ul",7),y.TgZ(9,"li",8),y.TgZ(10,"h4",9),y._uU(11),y.ALo(12,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(13,"div",5),y.TgZ(14,"div",10),y.TgZ(15,"div",11),y.TgZ(16,"div",12),y.TgZ(17,"div",13),y.TgZ(18,"div",14),y.TgZ(19,"div",15),y.TgZ(20,"div",16),y.TgZ(21,"div",5),y.TgZ(22,"div",17),y.TgZ(23,"ul",18),y.TgZ(24,"li",19),y.TgZ(25,"h2"),y.TgZ(26,"strong"),y._uU(27),y.ALo(28,"translate"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(29,"li",20),y.TgZ(30,"label",21),y.TgZ(31,"i",22),y._uU(32,"search"),y.qZA(),y.qZA(),y.TgZ(33,"input",23),y.NdJ("keyup",function(e){return t.filterDatatable(e)}),y.qZA(),y.qZA(),y._UZ(34,"li"),y.qZA(),y.qZA(),y.TgZ(35,"div",24),y.TgZ(36,"button",25),y.NdJ("click",function(){return t.exportToExcel()}),y._uU(37),y.ALo(38,"translate"),y._UZ(39,"i",26),y.qZA(),y.qZA(),y.TgZ(40,"div",27),y.TgZ(41,"ul",28),y.TgZ(42,"li"),y.TgZ(43,"div",29),y.TgZ(44,"button",30),y.NdJ("click",function(){return t.addNewPackage()}),y.TgZ(45,"mat-icon",31),y._uU(46,"add"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(47,"li"),y.TgZ(48,"div",29),y.TgZ(49,"button",30),y.NdJ("click",function(){return t.refresh()}),y.TgZ(50,"mat-icon",31),y._uU(51,"refresh "),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(52,"ngx-datatable",32,33),y._UZ(54,"ngx-datatable-column",34),y.ALo(55,"translate"),y._UZ(56,"ngx-datatable-column",35),y.ALo(57,"translate"),y._UZ(58,"ngx-datatable-column",36),y.ALo(59,"translate"),y._UZ(60,"ngx-datatable-column",37),y.ALo(61,"translate"),y._UZ(62,"ngx-datatable-column",38),y.ALo(63,"translate"),y._UZ(64,"ngx-datatable-column",39),y.ALo(65,"translate"),y.TgZ(66,"ngx-datatable-column",40),y.ALo(67,"translate"),y.YNc(68,O,7,0,"ng-template",41),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.YNc(69,G,23,12,"ng-template",null,42,y.W1O)),2&e&&(y.xp6(11),y.Oqu(y.lcZ(12,25,"PACKAGE.LISTTITLE")),y.xp6(16),y.Oqu(y.lcZ(28,27,"PACKAGE.LISTTITLE")),y.xp6(10),y.hij("",y.lcZ(38,29,"BUTTON.EXCEL-BTN")," "),y.xp6(15),y.Q6J("rows",t.data)("columns",t.columns)("sortType","multi")("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","60")("limit",5),y.xp6(2),y.s9C("name",y.lcZ(55,31,"PACKAGE.LIST.LICENSE-TYPE")),y.Q6J("width",130),y.xp6(2),y.s9C("name",y.lcZ(57,33,"PACKAGE.LIST.PACKAGE-TYPE")),y.Q6J("width",130),y.xp6(2),y.s9C("name",y.lcZ(59,35,"PACKAGE.LIST.PACKAGE-OFFERS")),y.Q6J("width",130),y.xp6(2),y.s9C("name",y.lcZ(61,37,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")),y.Q6J("width",200),y.xp6(2),y.s9C("name",y.lcZ(63,39,"PACKAGE.LIST.PAYMENT-PHASE")),y.Q6J("width",200),y.xp6(2),y.s9C("name",y.lcZ(65,41,"PACKAGE.LIST.GLOBAL-VIEW")),y.Q6J("width",200),y.xp6(2),y.s9C("name",y.lcZ(67,43,"PACKAGE.ACTION")),y.Q6J("width",120))},directives:[U.Ro,p.lW,h.Hw,E.nE,E.UC,E.vq],pipes:[F.X$],styles:[""]}),e})();var K=a(99235),D=a(81258),M=a(22567),Y=a(95522),Q=a(79961),j=a(87064),H=a(46739);const R=["autocompleteTrigger"],V=["licenceInput"];function B(e,t){1&e&&(y.TgZ(0,"mat-icon",61),y._uU(1,"cancel"),y.qZA())}function $(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"mat-chip",59),y.NdJ("removed",function(){const t=y.CHM(e).$implicit;return y.oxw().remove(t)}),y._uU(1),y.YNc(2,B,2,0,"mat-icon",60),y.qZA()}if(2&e){const e=t.$implicit,a=y.oxw();y.Q6J("selectable",a.selectable)("removable",a.removable),y.xp6(1),y.hij(" ",e," "),y.xp6(1),y.Q6J("ngIf",a.removable)}}function W(e,t){if(1&e&&(y.TgZ(0,"mat-option",62),y._UZ(1,"mat-checkbox",63),y._uU(2),y.qZA()),2&e){const e=t.$implicit,a=y.oxw();y.Q6J("value",e),y.xp6(1),y.Q6J("checked",a.license_display.indexOf(e.license_class)>=0),y.xp6(1),y.hij(" ",e.license_class," ")}}function z(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.LICENSE-TYPE")," is required "))}function X(e,t){if(1&e&&(y.TgZ(0,"mat-option",62),y._uU(1),y.qZA()),2&e){const e=t.$implicit,a=y.oxw();y.Q6J("value",e),y.xp6(1),y.hij(" ",e[a.translateVal]," ")}}function ee(e,t){if(1&e&&(y.TgZ(0,"div"),y._uU(1),y.qZA()),2&e){const e=y.oxw().$implicit;y.xp6(1),y.hij(" ",e.message," ")}}function te(e,t){if(1&e&&(y.TgZ(0,"mat-error"),y.YNc(1,ee,2,1,"div",28),y.qZA()),2&e){const e=t.$implicit,a=y.oxw();y.xp6(1),y.Q6J("ngIf",a.package_type.hasError(e.type))}}function ae(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-OFFERS")," is required "))}function ie(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-ENG")," is required "))}function se(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-MALAY")," is required "))}function oe(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PRICE")," is required "))}function le(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PROMO-DIS")," is required "))}function re(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")," is required "))}function ne(e,t){if(1&e&&(y.TgZ(0,"mat-option",62),y._uU(1),y.qZA()),2&e){const e=t.$implicit,a=y.oxw();y.Q6J("value",e),y.xp6(1),y.hij(" ",e[a.translateVal]," ")}}function ce(e,t){if(1&e&&(y.TgZ(0,"div"),y._uU(1),y.qZA()),2&e){const e=y.oxw().$implicit;y.xp6(1),y.hij(" ",e.message," ")}}function pe(e,t){if(1&e&&(y.TgZ(0,"mat-error"),y.YNc(1,ce,2,1,"div",28),y.qZA()),2&e){const e=t.$implicit,a=y.oxw();y.xp6(1),y.Q6J("ngIf",a.payment_phase.hasError(e.type))}}function he(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1")," is required "))}function ge(e,t){if(1&e&&(y.TgZ(0,"div",39),y.TgZ(1,"mat-form-field",17),y.TgZ(2,"mat-label"),y._uU(3),y.ALo(4,"translate"),y.qZA(),y._UZ(5,"input",64),y.YNc(6,he,3,3,"mat-error",28),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.xp6(3),y.hij("",y.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),y.xp6(3),y.Q6J("ngIf",e.addPackageForm.get("first_phase_amount").hasError("required"))}}function de(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2")," is required "))}function ue(e,t){if(1&e&&(y.TgZ(0,"div",39),y.TgZ(1,"mat-form-field",17),y.TgZ(2,"mat-label"),y._uU(3),y.ALo(4,"translate"),y.qZA(),y._UZ(5,"input",65),y.YNc(6,de,3,3,"mat-error",28),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.xp6(3),y.hij("",y.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),y.xp6(3),y.Q6J("ngIf",e.addPackageForm.get("second_phase_amount").hasError("required"))}}function me(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3")," is required "))}function Ae(e,t){if(1&e&&(y.TgZ(0,"div",39),y.TgZ(1,"mat-form-field",17),y.TgZ(2,"mat-label"),y._uU(3),y.ALo(4,"translate"),y.qZA(),y._UZ(5,"input",66),y.YNc(6,me,3,3,"mat-error",28),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.xp6(3),y.hij("",y.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),y.xp6(3),y.Q6J("ngIf",e.addPackageForm.get("third_phase_amount").hasError("required"))}}function Ze(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-ENG")," is required "))}function _e(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-MALAY")," is required "))}function Te(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG")," is required "))}function fe(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY")," is required "))}function Pe(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"mat-form-field",17),y.TgZ(1,"mat-label"),y._uU(2),y.ALo(3,"translate"),y.qZA(),y.TgZ(4,"input",82),y.NdJ("ngModelChange",function(t){return y.CHM(e),y.oxw().$implicit.first_phase=t}),y.qZA(),y.qZA()}if(2&e){const e=y.oxw().$implicit;y.xp6(2),y.hij("",y.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),y.xp6(2),y.Q6J("ngModel",e.first_phase)}}function ke(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"mat-form-field",17),y.TgZ(1,"mat-label"),y._uU(2),y.ALo(3,"translate"),y.qZA(),y.TgZ(4,"input",82),y.NdJ("ngModelChange",function(t){return y.CHM(e),y.oxw().$implicit.second_phase=t}),y.qZA(),y.qZA()}if(2&e){const e=y.oxw().$implicit;y.xp6(2),y.hij("",y.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),y.xp6(2),y.Q6J("ngModel",e.second_phase)}}function ve(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"mat-form-field",17),y.TgZ(1,"mat-label"),y._uU(2),y.ALo(3,"translate"),y.qZA(),y.TgZ(4,"input",82),y.NdJ("ngModelChange",function(t){return y.CHM(e),y.oxw().$implicit.third_phase=t}),y.qZA(),y.qZA()}if(2&e){const e=y.oxw().$implicit;y.xp6(2),y.hij("",y.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),y.xp6(2),y.Q6J("ngModel",e.third_phase)}}function qe(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"div"),y.TgZ(1,"div",81),y.TgZ(2,"div",76),y.TgZ(3,"h5"),y._uU(4),y.ALo(5,"translate"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(6,"div",5),y.TgZ(7,"div",39),y.TgZ(8,"mat-form-field",17),y.TgZ(9,"mat-label"),y._uU(10),y.ALo(11,"translate"),y.qZA(),y.TgZ(12,"input",82),y.NdJ("ngModelChange",function(t){return y.CHM(e).$implicit.license_price=t}),y.qZA(),y.qZA(),y.qZA(),y.TgZ(13,"div",39),y.YNc(14,Pe,5,4,"mat-form-field",83),y.qZA(),y.TgZ(15,"div",39),y.YNc(16,ke,5,4,"mat-form-field",83),y.qZA(),y.TgZ(17,"div",39),y.YNc(18,ve,5,4,"mat-form-field",83),y.qZA(),y.qZA(),y.qZA()}if(2&e){const e=t.$implicit,a=y.oxw(2);y.xp6(4),y.AsE("",y.lcZ(5,7,"PACKAGE.LIST.LICENSE-TYPE")," : ",e.license_class,""),y.xp6(6),y.hij("",y.lcZ(11,9,"PACKAGE.LIST.LICENSE-PRICE"),"*"),y.xp6(2),y.Q6J("ngModel",e.license_price),y.xp6(2),y.Q6J("ngIf",a.showLi2Phase),y.xp6(2),y.Q6J("ngIf",a.showLi2Phase),y.xp6(2),y.Q6J("ngIf",a.showLi3Phase)}}function Ee(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"div",67),y.TgZ(1,"h4",68),y.TgZ(2,"div",69),y.TgZ(3,"div",70),y.TgZ(4,"div",71),y._uU(5),y.ALo(6,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(7,"button",72),y.NdJ("click",function(){return y.CHM(e).$implicit.dismiss("Cross click")}),y.TgZ(8,"span",73),y.TgZ(9,"i",74),y._uU(10,"close"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(11,"div",75),y.TgZ(12,"div",5),y.TgZ(13,"div",76),y.TgZ(14,"h5"),y._uU(15),y.ALo(16,"translate"),y.qZA(),y.qZA(),y.qZA(),y.YNc(17,qe,19,11,"div",32),y.TgZ(18,"div",77),y.TgZ(19,"div",78),y.TgZ(20,"button",79),y.NdJ("click",function(){return y.CHM(e),y.oxw().setLicensePrice()}),y._uU(21),y.ALo(22,"translate"),y.qZA(),y.TgZ(23,"button",80),y.NdJ("click",function(){return y.CHM(e).$implicit.close()}),y._uU(24),y.ALo(25,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){const e=y.oxw();y.xp6(5),y.hij(" ",y.lcZ(6,6,"PACKAGE.LIST.LICENSE-PRICE-TITLE"),""),y.xp6(10),y.AsE("",y.lcZ(16,8,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")," : ",e.finalPackageValue,""),y.xp6(2),y.Q6J("ngForOf",e.license_selected),y.xp6(4),y.Oqu(y.lcZ(22,10,"BUTTON.CONFIRM-BTN")),y.xp6(3),y.Oqu(y.lcZ(25,12,"BUTTON.CANCEL-BTN"))}}const Le=["autocompleteTrigger"],ye=["licenceInput"];function be(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"mat-chip",57),y.NdJ("removed",function(){const t=y.CHM(e).$implicit;return y.oxw().remove(t)}),y._uU(1),y.qZA()}if(2&e){const e=t.$implicit,a=y.oxw();y.Q6J("selectable",a.selectable)("removable",a.removable),y.xp6(1),y.hij(" ",e," ")}}function Ce(e,t){if(1&e&&(y.TgZ(0,"mat-option",58),y._UZ(1,"mat-checkbox",59),y._uU(2),y.qZA()),2&e){const e=t.$implicit,a=y.oxw();y.Q6J("value",e.license_class),y.xp6(1),y.Q6J("checked",a.license_display.indexOf(e.license_class)>=0),y.xp6(1),y.hij(" ",e.license_class," ")}}function xe(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.LICENSE-TYPE")," is required "))}function Se(e,t){if(1&e&&(y.TgZ(0,"mat-option",58),y._uU(1),y.qZA()),2&e){const e=t.$implicit,a=y.oxw();y.Q6J("value",e),y.xp6(1),y.hij(" ",e[a.translateVal]," ")}}function Ie(e,t){if(1&e&&(y.TgZ(0,"div"),y._uU(1),y.qZA()),2&e){const e=y.oxw().$implicit;y.xp6(1),y.hij(" ",e.message," ")}}function Ne(e,t){if(1&e&&(y.TgZ(0,"mat-error"),y.YNc(1,Ie,2,1,"div",26),y.qZA()),2&e){const e=t.$implicit,a=y.oxw();y.xp6(1),y.Q6J("ngIf",a.package_type.hasError(e.type))}}function we(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-OFFERS")," is required "))}function Ue(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-ENG")," is required "))}function Fe(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-MALAY")," is required "))}function Oe(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PRICE")," is required "))}function Ge(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PROMO-DIS")," is required "))}function Je(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")," is required "))}function Ke(e,t){if(1&e&&(y.TgZ(0,"mat-option",58),y._uU(1),y.qZA()),2&e){const e=t.$implicit,a=y.oxw();y.Q6J("value",e),y.xp6(1),y.hij(" ",e[a.translateVal]," ")}}function De(e,t){if(1&e&&(y.TgZ(0,"div"),y._uU(1),y.qZA()),2&e){const e=y.oxw().$implicit;y.xp6(1),y.hij(" ",e.message," ")}}function Me(e,t){if(1&e&&(y.TgZ(0,"mat-error"),y.YNc(1,De,2,1,"div",26),y.qZA()),2&e){const e=t.$implicit,a=y.oxw();y.xp6(1),y.Q6J("ngIf",a.payment_phase.hasError(e.type))}}function Ye(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1")," is required "))}function Qe(e,t){if(1&e&&(y.TgZ(0,"div",37),y.TgZ(1,"mat-form-field",17),y.TgZ(2,"mat-label"),y._uU(3),y.ALo(4,"translate"),y.qZA(),y._UZ(5,"input",60),y.YNc(6,Ye,3,3,"mat-error",26),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.xp6(3),y.hij("",y.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),y.xp6(3),y.Q6J("ngIf",e.editPackageForm.get("first_phase_amount").hasError("required"))}}function je(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2")," is required "))}function He(e,t){if(1&e&&(y.TgZ(0,"div",37),y.TgZ(1,"mat-form-field",17),y.TgZ(2,"mat-label"),y._uU(3),y.ALo(4,"translate"),y.qZA(),y._UZ(5,"input",61),y.YNc(6,je,3,3,"mat-error",26),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.xp6(3),y.hij("",y.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),y.xp6(3),y.Q6J("ngIf",e.editPackageForm.get("second_phase_amount").hasError("required"))}}function Re(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3")," is required "))}function Ve(e,t){if(1&e&&(y.TgZ(0,"div",37),y.TgZ(1,"mat-form-field",17),y.TgZ(2,"mat-label"),y._uU(3),y.ALo(4,"translate"),y.qZA(),y._UZ(5,"input",62),y.YNc(6,Re,3,3,"mat-error",26),y.qZA(),y.qZA()),2&e){const e=y.oxw();y.xp6(3),y.hij("",y.lcZ(4,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),y.xp6(3),y.Q6J("ngIf",e.editPackageForm.get("third_phase_amount").hasError("required"))}}function Be(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"div",37),y.TgZ(1,"button",63),y.NdJ("click",function(){y.CHM(e);const t=y.oxw(),a=y.MAs(164);return t.viewPrice(a)}),y._uU(2),y.ALo(3,"translate"),y.qZA(),y.qZA()}2&e&&(y.xp6(2),y.Oqu(y.lcZ(3,1,"BUTTON.VIEW-PRICE-BTN")))}function $e(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-ENG")," is required "))}function We(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-DESC-MALAY")," is required "))}function ze(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG")," is required "))}function Xe(e,t){1&e&&(y.TgZ(0,"mat-error"),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&e&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY")," is required "))}function et(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"mat-form-field",17),y.TgZ(1,"mat-label"),y._uU(2),y.ALo(3,"translate"),y.qZA(),y.TgZ(4,"input",79),y.NdJ("ngModelChange",function(t){return y.CHM(e),y.oxw().$implicit.first_phase_amount=t}),y.qZA(),y.qZA()}if(2&e){const e=y.oxw().$implicit;y.xp6(2),y.hij("",y.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-1"),"*"),y.xp6(2),y.Q6J("ngModel",e.first_phase_amount)}}function tt(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"mat-form-field",17),y.TgZ(1,"mat-label"),y._uU(2),y.ALo(3,"translate"),y.qZA(),y.TgZ(4,"input",79),y.NdJ("ngModelChange",function(t){return y.CHM(e),y.oxw().$implicit.second_phase_amount=t}),y.qZA(),y.qZA()}if(2&e){const e=y.oxw().$implicit;y.xp6(2),y.hij("",y.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-2"),"*"),y.xp6(2),y.Q6J("ngModel",e.second_phase_amount)}}function at(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"mat-form-field",17),y.TgZ(1,"mat-label"),y._uU(2),y.ALo(3,"translate"),y.qZA(),y.TgZ(4,"input",79),y.NdJ("ngModelChange",function(t){return y.CHM(e),y.oxw().$implicit.third_phase_amount=t}),y.qZA(),y.qZA()}if(2&e){const e=y.oxw().$implicit;y.xp6(2),y.hij("",y.lcZ(3,2,"PACKAGE.LIST.PAYMENT-PHASE-AMT-3"),"*"),y.xp6(2),y.Q6J("ngModel",e.third_phase_amount)}}function it(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"div"),y.TgZ(1,"div",78),y.TgZ(2,"div",73),y.TgZ(3,"h5"),y._uU(4),y.ALo(5,"translate"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(6,"div",5),y.TgZ(7,"div",37),y.TgZ(8,"mat-form-field",17),y.TgZ(9,"mat-label"),y._uU(10),y.ALo(11,"translate"),y.qZA(),y.TgZ(12,"input",79),y.NdJ("ngModelChange",function(t){return y.CHM(e).$implicit.license_price=t}),y.qZA(),y.qZA(),y.qZA(),y.TgZ(13,"div",37),y.YNc(14,et,5,4,"mat-form-field",80),y.qZA(),y.TgZ(15,"div",37),y.YNc(16,tt,5,4,"mat-form-field",80),y.qZA(),y.TgZ(17,"div",37),y.YNc(18,at,5,4,"mat-form-field",80),y.qZA(),y.qZA(),y.qZA()}if(2&e){const e=t.$implicit,a=y.oxw(2);y.xp6(4),y.AsE("",y.lcZ(5,7,"PACKAGE.LIST.LICENSE-TYPE")," : ",e.license_class,""),y.xp6(6),y.hij("",y.lcZ(11,9,"PACKAGE.LIST.LICENSE-PRICE"),"*"),y.xp6(2),y.Q6J("ngModel",e.license_price),y.xp6(2),y.Q6J("ngIf",a.showLi2Phase),y.xp6(2),y.Q6J("ngIf",a.showLi2Phase),y.xp6(2),y.Q6J("ngIf",a.showLi3Phase)}}function st(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"div",64),y.TgZ(1,"h4",65),y.TgZ(2,"div",66),y.TgZ(3,"div",67),y.TgZ(4,"div",68),y._uU(5),y.ALo(6,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(7,"button",69),y.NdJ("click",function(){return y.CHM(e).$implicit.dismiss("Cross click")}),y.TgZ(8,"span",70),y.TgZ(9,"i",71),y._uU(10,"close"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(11,"div",72),y.TgZ(12,"div",5),y.TgZ(13,"div",73),y.TgZ(14,"h5"),y._uU(15),y.ALo(16,"translate"),y.qZA(),y.qZA(),y.qZA(),y.YNc(17,it,19,11,"div",30),y.TgZ(18,"div",74),y.TgZ(19,"div",75),y.TgZ(20,"button",76),y.NdJ("click",function(){return y.CHM(e),y.oxw().setLicensePrice()}),y._uU(21),y.ALo(22,"translate"),y.qZA(),y.TgZ(23,"button",77),y.NdJ("click",function(){return y.CHM(e).$implicit.close()}),y._uU(24),y.ALo(25,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){const e=y.oxw();y.xp6(5),y.hij(" ",y.lcZ(6,6,"PACKAGE.LIST.LICENSE-PRICE-TITLE"),""),y.xp6(10),y.AsE("",y.lcZ(16,8,"PACKAGE.LIST.FIANL-PACKAGE-PRICE")," : ",e.finalPackageValue,""),y.xp6(2),y.Q6J("ngForOf",e.license_selected),y.xp6(4),y.Oqu(y.lcZ(22,10,"BUTTON.CONFIRM-BTN")),y.xp6(3),y.Oqu(y.lcZ(25,12,"BUTTON.CANCEL-BTN"))}}const ot=[{path:"package-list",component:J},{path:"add-package",component:(()=>{class e{constructor(e,t,a,i,o,l,r,n){this.cdRef=e,this.fb=t,this.languageService=a,this.toastrService=i,this.packageService=o,this.router=l,this.spinner=r,this.modalService=n,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[K.K5,K.OC],this.license_selected=[],this.license_display=[],this.show2Phase=!1,this.show3Phase=!1,this.showLi2Phase=!1,this.showLi3Phase=!1,this.translateVal="ml"==localStorage.lang?"malay":"english",this.license_type=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.package_type=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.payment_phase=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.license_price=new s.NI("",{validators:[s.kI.required]}),this.Editor=M,this.validation_msgs={license_type:[{type:"invalidAutocompleteObject",message:"License Type not recognized. Click one of the options."},{type:"required",message:"License Type is required."}],package_type:[{type:"invalidAutocompleteObject",message:"Package Type not recognized. Click one of the options."},{type:"required",message:"Package Type is required."}],payment_phase:[{type:"invalidAutocompleteObject",message:"Payment Phase not recognized. Click one of the options."},{type:"required",message:"Payment Phase is required."}]}}ngOnInit(){this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases(),this.addPackageForm=this.fb.group({package_price:["",s.kI.required],package_offers:["",s.kI.required],package_english:["",s.kI.required],package_malay:["",s.kI.required],promo_discount:["",s.kI.required],package_desc_english:["",s.kI.required],package_desc_malay:["",s.kI.required],final_package_price:["",s.kI.required],first_phase_amount:[""],second_phase_amount:[""],third_phase_amount:[""],package_phase_desc_english:["",s.kI.required],package_phase_desc_malay:["",s.kI.required],package_image:[""],package_image_name:[""],global_view:[""],upgrade:[""],l_license:[""]}),this.languageService.languageChanged.subscribe(e=>{this.translateVal="ml"==localStorage.lang?"malay":"english",this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases()})}getPackageTypeList(){this.packageService.getPakageTypeList().subscribe(e=>{this.packageTypeData=e.data,this.packageTypeList=this.package_type.valueChanges.pipe((0,D.O)(""),(0,C.U)(e=>"string"==typeof e?e:e[this.translateVal]),(0,C.U)(e=>e?this._filterPackageType(e):this.packageTypeData.slice()))})}getLicenseClassList(){this.packageService.getLicenseClassList().subscribe(e=>{this.licenseTypeData=e.data,console.log("this.this.license_type=========",this.license_type),this.licenseTypeList=this.license_type.valueChanges.pipe((0,D.O)(""),(0,C.U)(e=>e?this._filterLicenseType(e):this.licenseTypeData.slice()))})}getPaymentPhases(){this.packageService.getPaymentPhases().subscribe(e=>{console.log("res['data']===0",e.data),this.paymentPhaseData=e.data,this.paymentPhaseList=this.payment_phase.valueChanges.pipe((0,D.O)(""),(0,C.U)(e=>"string"==typeof e?e:e[this.translateVal]),(0,C.U)(e=>e?this._filterpaymentPhase(e):this.paymentPhaseData.slice()))})}displayFn(e){return e&&e.license_class?e.license_class:""}displayFnPackageType(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}displayFnPaymentPhase(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}_filterLicenseType(e){console.log("name=====",e);const t=e.toLowerCase();return this.licenseTypeData.filter(e=>e.license_class.toLowerCase().includes(t))}_filterPackageType(e){const t=e.toLowerCase();return this.packageTypeData.filter(e=>e[this.translateVal].toLowerCase().includes(t))}_filterpaymentPhase(e){const t=e.toLowerCase();return this.paymentPhaseData.filter(e=>e[this.translateVal].toLowerCase().includes(t))}add(e){alert("hii");const t=e.input,a=e.value;console.log("------------",a),(a||"").trim()&&this.license_selected.push(a),t&&(t.value=""),this.license_type.setValue(null)}remove(e){console.log("license====",e);const t=this.license_display.indexOf(e);if(t>=0&&this.license_display.splice(t,1),this.license_selected=this.license_selected.filter(t=>t.license_class!=e),console.log("license_selected====",this.license_selected),this.payment_phase.patchValue(""),this.addPackageForm.patchValue({first_phase_amount:0,second_phase_amount:0,third_phase_amount:0}),this.show2Phase=!1,this.show3Phase=!1,this.license_selected.length>1){var a=this.packageTypeData.filter(e=>1==e.id);this.package_type.setValue(a[0])}else a=this.packageTypeData.filter(e=>2==e.id),this.package_type.setValue(a[0])}selectedListType(e){const t=e.option.value.license_class;if(console.log("newValue=======",e.option,this.license_selected.length),this.license_display.includes(t)?(this.license_display=[...this.license_display.filter(e=>e!==t)],this.license_selected=[...this.license_selected.filter(t=>t.id!==e.option.value.id)]):this.license_selected.length<=1?(this.license_display.push(t),this.license_selected.push({id:e.option.value.id,license_class:e.option.value.license_class,license_price:0,first_phase:0,second_phase:0,third_phase:0})):this.toastrService.warning("Only two is Allowed!!"),this.payment_phase.patchValue(""),this.addPackageForm.patchValue({first_phase_amount:0,second_phase_amount:0,third_phase_amount:0}),this.show2Phase=!1,this.show3Phase=!1,this.licenceInput.nativeElement.value="",this.license_type.setValue(null),this.license_selected.length>1){var a=this.packageTypeData.filter(e=>1==e.id);this.package_type.setValue(a[0])}else a=this.packageTypeData.filter(e=>2==e.id),this.package_type.setValue(a[0]);requestAnimationFrame(()=>{this.openAuto(this.matACTrigger)}),console.log("---final----",this.license_selected)}setLicensePrice(){let e=0,t=0;for(let a=0;a<this.license_selected.length;a++){let i=0;e+=Number(this.license_selected[a].license_price),i+=Number(Number(this.license_selected[a].first_phase)+Number(this.license_selected[a].second_phase)+Number(this.license_selected[a].third_phase)),console.log("subPhaseAmt------",this.license_selected[a].license_price,i),this.license_selected[a].license_price!=i&&t++}console.log("TotalLicensePrice---",e,this.finalPackageValue),e==this.finalPackageValue?this.payment_phase.value.id>1&&t>0?this.toastrService.warning("Please check the sum of Phase amount equals the license price!!"):this.modalService.dismissAll():this.toastrService.warning("Sum of license price does not equals Final package price!!!!"),console.log("this.license_selected----",this.license_selected)}selectedPaymentPhase(e){""!=this.addPackageForm.value.final_package_price?(this.finalPackageValue=this.addPackageForm.value.final_package_price,1==this.package_type.value.id?(this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"lg"}),2==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!1):3==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!0):(this.showLi2Phase=!1,this.showLi3Phase=!1)):2==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!1):3==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!0):(this.show2Phase=!1,this.show3Phase=!1)):(this.toastrService.warning("Please fill the Final package price!!"),this.payment_phase.patchValue(""))}openAuto(e){e.openPanel(),this.licenceInput.nativeElement.focus(),console.log(e)}setPackageDetails(){if(console.log("this.addPackageForm.value====",this.addPackageForm.value,this.package_type,this.license_selected),2==this.package_type.value.id)if(2==this.payment_phase.value.id)if(""!=this.addPackageForm.value.first_phase_amount&&""!=this.addPackageForm.value.second_phase_amount){let e=Number(this.addPackageForm.value.first_phase_amount)+Number(this.addPackageForm.value.second_phase_amount);Number(this.addPackageForm.value.final_package_price)==e?(this.spinner.show(),this.packageService.setPackageDetails(this.addPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(e=>{this.spinner.hide(),"Success"==e.status?(this.toastrService.success("Registered Successfully!!"),this.addPackageForm.reset(),this.router.navigate(["/admin/package/package-list"])):"Session Expired"==e.status?(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"])):this.toastrService.error(e.status)})):this.toastrService.error("Sum Of Phase amount does not equal Final Package price!!")}else this.toastrService.error("Please provide Phase Amounts");else if(3==this.payment_phase.value.id)if(""!=this.addPackageForm.value.first_phase_amount&&""!=this.addPackageForm.value.second_phase_amount&&""!=this.addPackageForm.value.third_phase_amount){let e=Number(this.addPackageForm.value.first_phase_amount)+Number(this.addPackageForm.value.second_phase_amount)+Number(this.addPackageForm.value.third_phase_amount);Number(this.addPackageForm.value.final_package_price)==e?(this.spinner.show(),this.packageService.setPackageDetails(this.addPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(e=>{this.spinner.hide(),"Success"==e.status?(this.toastrService.success("Registered Successfully!!"),this.addPackageForm.reset(),this.router.navigate(["/admin/package/package-list"])):"Session Expired"==e.status?(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"])):this.toastrService.error(e.status)})):this.toastrService.error("Sum Of Phase amount does not equal Final Package price!!")}else this.toastrService.error("Please provide Phase Amounts");else this.spinner.show(),this.packageService.setPackageDetails(this.addPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(e=>{this.spinner.hide(),"Success"==e.status?(this.toastrService.success("Registered Successfully!!"),this.addPackageForm.reset(),this.router.navigate(["/admin/package/package-list"])):"Session Expired"==e.status?(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"])):this.toastrService.error(e.status)});if(1==this.package_type.value.id){let e=0,t=0;for(let a=0;a<this.license_selected.length;a++){let i=0;e+=Number(this.license_selected[a].license_price),i+=Number(Number(this.license_selected[a].first_phase)+Number(this.license_selected[a].second_phase)+Number(this.license_selected[a].third_phase)),console.log("subPhaseAmt------",this.license_selected[a].license_price,i),this.license_selected[a].license_price!=i&&t++}console.log("TotalLicensePrice---",e,this.finalPackageValue),e==this.finalPackageValue?this.payment_phase.value.id>1&&t>0?this.toastrService.warning("Please check the sum of Phase amount equals the license price!!"):(this.spinner.show(),this.packageService.setPackageDetails(this.addPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(e=>{this.spinner.hide(),"Success"==e.status?(this.toastrService.success("Registered Successfully!!"),this.addPackageForm.reset(),this.router.navigate(["/admin/package/package-list"])):"Session Expired"==e.status?(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"])):this.toastrService.error(e.status)})):this.toastrService.warning("Sum of license price does not equals Final package price!!!!")}}goBack(){this.router.navigate(["/admin/package/package-list"])}changeFinalPackagePrice(){let e=Number(Number(this.addPackageForm.value.package_price*this.addPackageForm.value.promo_discount)/100).toFixed(),t=Number(this.addPackageForm.value.package_price)-Number(e);this.addPackageForm.patchValue({final_package_price:t}),console.log(this.addPackageForm.value)}}return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.sBO),y.Y36(s.qu),y.Y36(w.T),y.Y36(N._W),y.Y36(S),y.Y36(q.F0),y.Y36(U.t2),y.Y36(I.FF))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-add-package"]],viewQuery:function(e,t){if(1&e&&(y.Gf(R,5),y.Gf(V,5)),2&e){let e;y.iGM(e=y.CRH())&&(t.matACTrigger=e.first),y.iGM(e=y.CRH())&&(t.licenceInput=e.first)}},decls:167,vars:108,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-4"],["appearance","outline",1,"example-full-width","mb-3"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","text","matInput","",3,"matChipInputFor","matChipInputSeparatorKeyCodes","formControl","matAutocomplete","matChipInputTokenEnd"],["licenceInput","","autocompleteTrigger","matAutocompleteTrigger"],["autoActiveFirstOption","",3,"optionSelected"],["autoLicense","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matSuffix","",2,"width","34px","height","34px",3,"click"],[2,"width","34px"],[4,"ngIf"],["type","text","matInput","","readonly","",3,"formControl","matAutocomplete"],["readonly","",3,"displayWith"],["autoPackage","matAutocomplete"],[4,"ngFor","ngForOf"],["formControlName","package_offers","required",""],["value","Affordable"],["value","Premium"],[1,"col-6"],["matInput","","formControlName","package_english"],["matInput","","formControlName","package_malay"],[1,"col-3"],["matInput","","formControlName","package_price","type","tel","pattern","[0-9]*",3,"blur"],["matInput","","formControlName","promo_discount",3,"blur"],["matInput","","type","tel","pattern","[0-9]*","formControlName","final_package_price"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["autoPaymentPhase","matAutocomplete"],["class","col-3",4,"ngIf"],["formControlName","global_view",1,"example-margin"],["formControlName","upgrade",1,"example-margin"],["formControlName","l_license",1,"example-margin"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","package_desc_english",3,"editor"],["formControlName","package_desc_malay",3,"editor"],["formControlName","package_phase_desc_english",3,"editor"],["formControlName","package_phase_desc_malay",3,"editor"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"],["LicensePrice",""],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],["color","primary",2,"padding","0 12px",3,"checked"],["matInput","","type","tel","pattern","[0-9]*","formControlName","first_phase_amount"],["matInput","","type","tel","pattern","[0-9]*","formControlName","second_phase_amount"],["matInput","","type","tel","pattern","[0-9]*","formControlName","third_phase_amount"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"col-12"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-button","","type","button",3,"click"],[1,"row",2,"text-align","center"],["matInput","","type","tel","pattern","[0-9]*",3,"ngModel","ngModelChange"],["class","example-full-width mb-3","appearance","outline",4,"ngIf"]],template:function(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"ngx-spinner",0),y.TgZ(1,"p",1),y._uU(2,"Loading..."),y.qZA(),y.qZA(),y.TgZ(3,"section",2),y.TgZ(4,"div",3),y.TgZ(5,"div",4),y.TgZ(6,"div",5),y.TgZ(7,"div",6),y.TgZ(8,"ul",7),y.TgZ(9,"li",8),y.TgZ(10,"h4",9),y._uU(11),y.ALo(12,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(13,"div",10),y.TgZ(14,"div",11),y.TgZ(15,"div",12),y.TgZ(16,"div",13),y.TgZ(17,"h2"),y._uU(18),y.ALo(19,"translate"),y.qZA(),y.qZA(),y.TgZ(20,"div",14),y.TgZ(21,"form",15),y.TgZ(22,"div",5),y.TgZ(23,"div",16),y.TgZ(24,"mat-form-field",17),y.TgZ(25,"mat-chip-list",18,19),y.YNc(27,$,3,4,"mat-chip",20),y.TgZ(28,"mat-label"),y._uU(29),y.ALo(30,"translate"),y.qZA(),y.TgZ(31,"input",21,22),y.NdJ("matChipInputTokenEnd",function(e){return t.add(e)}),y.qZA(),y.qZA(),y.TgZ(34,"mat-autocomplete",23,24),y.NdJ("optionSelected",function(e){return t.selectedListType(e)}),y.YNc(36,W,3,3,"mat-option",25),y.ALo(37,"async"),y.qZA(),y.TgZ(38,"button",26),y.NdJ("click",function(){y.CHM(e);const a=y.MAs(33);return t.openAuto(a)}),y.TgZ(39,"mat-icon",27),y._uU(40,"expand_more"),y.qZA(),y.qZA(),y.YNc(41,z,3,3,"mat-error",28),y.qZA(),y.qZA(),y.TgZ(42,"div",16),y.TgZ(43,"mat-form-field",17),y.TgZ(44,"mat-label"),y._uU(45),y.ALo(46,"translate"),y.qZA(),y._UZ(47,"input",29),y.TgZ(48,"mat-autocomplete",30,31),y.YNc(50,X,2,2,"mat-option",25),y.ALo(51,"async"),y.qZA(),y.YNc(52,te,2,1,"mat-error",32),y.qZA(),y.qZA(),y.TgZ(53,"div",16),y.TgZ(54,"mat-form-field",17),y.TgZ(55,"mat-label"),y._uU(56),y.ALo(57,"translate"),y.qZA(),y.TgZ(58,"mat-select",33),y.TgZ(59,"mat-option",34),y._uU(60),y.ALo(61,"translate"),y.qZA(),y.TgZ(62,"mat-option",35),y._uU(63),y.ALo(64,"translate"),y.qZA(),y.qZA(),y.YNc(65,ae,3,3,"mat-error",28),y.qZA(),y.qZA(),y.qZA(),y.TgZ(66,"div",5),y.TgZ(67,"div",36),y.TgZ(68,"mat-form-field",17),y.TgZ(69,"mat-label"),y._uU(70),y.ALo(71,"translate"),y.qZA(),y._UZ(72,"input",37),y.YNc(73,ie,3,3,"mat-error",28),y.qZA(),y.qZA(),y.TgZ(74,"div",36),y.TgZ(75,"mat-form-field",17),y.TgZ(76,"mat-label"),y._uU(77),y.ALo(78,"translate"),y.qZA(),y._UZ(79,"input",38),y.YNc(80,se,3,3,"mat-error",28),y.qZA(),y.qZA(),y.qZA(),y.TgZ(81,"div",5),y.TgZ(82,"div",39),y.TgZ(83,"mat-form-field",17),y.TgZ(84,"mat-label"),y._uU(85),y.ALo(86,"translate"),y.qZA(),y.TgZ(87,"input",40),y.NdJ("blur",function(){return t.changeFinalPackagePrice()}),y.qZA(),y.YNc(88,oe,3,3,"mat-error",28),y.qZA(),y.qZA(),y.TgZ(89,"div",39),y.TgZ(90,"mat-form-field",17),y.TgZ(91,"mat-label"),y._uU(92),y.ALo(93,"translate"),y.qZA(),y.TgZ(94,"input",41),y.NdJ("blur",function(){return t.changeFinalPackagePrice()}),y.qZA(),y.YNc(95,le,3,3,"mat-error",28),y.qZA(),y.qZA(),y.TgZ(96,"div",39),y.TgZ(97,"mat-form-field",17),y.TgZ(98,"mat-label"),y._uU(99),y.ALo(100,"translate"),y.qZA(),y._UZ(101,"input",42),y.YNc(102,re,3,3,"mat-error",28),y.qZA(),y.qZA(),y.TgZ(103,"div",39),y.TgZ(104,"mat-form-field",17),y.TgZ(105,"mat-label"),y._uU(106),y.ALo(107,"translate"),y.qZA(),y._UZ(108,"input",43),y.TgZ(109,"mat-autocomplete",44,45),y.NdJ("optionSelected",function(){y.CHM(e);const a=y.MAs(166);return t.selectedPaymentPhase(a)}),y.YNc(111,ne,2,2,"mat-option",25),y.ALo(112,"async"),y.qZA(),y.YNc(113,pe,2,1,"mat-error",32),y.qZA(),y.qZA(),y.qZA(),y.TgZ(114,"div",5),y.YNc(115,ge,7,4,"div",46),y.YNc(116,ue,7,4,"div",46),y.YNc(117,Ae,7,4,"div",46),y.TgZ(118,"div",39),y.TgZ(119,"mat-checkbox",47),y._uU(120),y.ALo(121,"translate"),y.qZA(),y.qZA(),y.TgZ(122,"div",39),y.TgZ(123,"mat-checkbox",48),y._uU(124),y.ALo(125,"translate"),y.qZA(),y.qZA(),y.TgZ(126,"div",39),y.TgZ(127,"mat-checkbox",49),y._uU(128),y.ALo(129,"translate"),y.qZA(),y.qZA(),y.qZA(),y._UZ(130,"br"),y.TgZ(131,"div",5),y.TgZ(132,"div",50),y.TgZ(133,"mat-label"),y._uU(134),y.ALo(135,"translate"),y.qZA(),y._UZ(136,"ckeditor",51),y.YNc(137,Ze,3,3,"mat-error",28),y.qZA(),y.TgZ(138,"div",50),y.TgZ(139,"mat-label"),y._uU(140),y.ALo(141,"translate"),y.qZA(),y._UZ(142,"ckeditor",52),y.YNc(143,_e,3,3,"mat-error",28),y.qZA(),y.qZA(),y.TgZ(144,"div",5),y.TgZ(145,"div",50),y.TgZ(146,"mat-label"),y._uU(147),y.ALo(148,"translate"),y.qZA(),y._UZ(149,"ckeditor",53),y.YNc(150,Te,3,3,"mat-error",28),y.qZA(),y.TgZ(151,"div",50),y.TgZ(152,"mat-label"),y._uU(153),y.ALo(154,"translate"),y.qZA(),y._UZ(155,"ckeditor",54),y.YNc(156,fe,3,3,"mat-error",28),y.qZA(),y.qZA(),y.TgZ(157,"div",5),y.TgZ(158,"div",55),y.TgZ(159,"button",56),y.NdJ("click",function(){return t.setPackageDetails()}),y._uU(160),y.ALo(161,"translate"),y.qZA(),y.TgZ(162,"button",57),y.NdJ("click",function(){return t.goBack()}),y._uU(163),y.ALo(164,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.YNc(165,Ee,26,14,"ng-template",null,58,y.W1O)}if(2&e){const e=y.MAs(26),a=y.MAs(35),i=y.MAs(49),s=y.MAs(110);y.xp6(11),y.Oqu(y.lcZ(12,58,"PACKAGE.TITLE")),y.xp6(7),y.Oqu(y.lcZ(19,60,"PACKAGE.TITLE")),y.xp6(3),y.Q6J("formGroup",t.addPackageForm),y.xp6(6),y.Q6J("ngForOf",t.license_display),y.xp6(2),y.hij("",y.lcZ(30,62,"PACKAGE.LIST.LICENSE-TYPE"),"*"),y.xp6(2),y.Q6J("matChipInputFor",e)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("formControl",t.license_type)("matAutocomplete",a),y.xp6(5),y.Q6J("ngForOf",y.lcZ(37,64,t.licenseTypeList)),y.xp6(5),y.Q6J("ngIf",0==t.license_selected.length),y.xp6(4),y.hij("",y.lcZ(46,66,"PACKAGE.LIST.PACKAGE-TYPE"),"*"),y.xp6(2),y.Q6J("formControl",t.package_type)("matAutocomplete",i),y.xp6(1),y.Q6J("displayWith",t.displayFnPackageType),y.xp6(2),y.Q6J("ngForOf",y.lcZ(51,68,t.packageTypeList)),y.xp6(2),y.Q6J("ngForOf",t.validation_msgs.package_type),y.xp6(4),y.Oqu(y.lcZ(57,70,"PACKAGE.LIST.PACKAGE-OFFERS")),y.xp6(4),y.Oqu(y.lcZ(61,72,"PACKAGE.LIST.AFFORDABLE")),y.xp6(3),y.Oqu(y.lcZ(64,74,"PACKAGE.LIST.PREMIUM")),y.xp6(2),y.Q6J("ngIf",t.addPackageForm.get("package_offers").hasError("required")),y.xp6(5),y.hij("",y.lcZ(71,76,"PACKAGE.LIST.PACKAGE-ENG"),"*"),y.xp6(3),y.Q6J("ngIf",t.addPackageForm.get("package_english").hasError("required")),y.xp6(4),y.hij("",y.lcZ(78,78,"PACKAGE.LIST.PACKAGE-MALAY"),"*"),y.xp6(3),y.Q6J("ngIf",t.addPackageForm.get("package_malay").hasError("required")),y.xp6(5),y.hij("",y.lcZ(86,80,"PACKAGE.LIST.PACKAGE-PRICE"),"*"),y.xp6(3),y.Q6J("ngIf",t.addPackageForm.get("package_price").hasError("required")),y.xp6(4),y.hij("",y.lcZ(93,82,"PACKAGE.LIST.PROMO-DIS"),"*"),y.xp6(3),y.Q6J("ngIf",t.addPackageForm.get("promo_discount").hasError("required")),y.xp6(4),y.hij("",y.lcZ(100,84,"PACKAGE.LIST.FIANL-PACKAGE-PRICE"),"*"),y.xp6(3),y.Q6J("ngIf",t.addPackageForm.get("final_package_price").hasError("required")),y.xp6(4),y.hij("",y.lcZ(107,86,"PACKAGE.LIST.PAYMENT-PHASE"),"*"),y.xp6(2),y.Q6J("formControl",t.payment_phase)("matAutocomplete",s),y.xp6(1),y.Q6J("displayWith",t.displayFnPaymentPhase),y.xp6(2),y.Q6J("ngForOf",y.lcZ(112,88,t.paymentPhaseList)),y.xp6(2),y.Q6J("ngForOf",t.validation_msgs.payment_phase),y.xp6(2),y.Q6J("ngIf",t.show2Phase),y.xp6(1),y.Q6J("ngIf",t.show2Phase),y.xp6(1),y.Q6J("ngIf",t.show3Phase),y.xp6(3),y.Oqu(y.lcZ(121,90,"PACKAGE.LIST.GLOBAL-VIEW")),y.xp6(4),y.Oqu(y.lcZ(125,92,"PACKAGE.LIST.UPGRADE")),y.xp6(4),y.Oqu(y.lcZ(129,94,"PACKAGE.LIST.L-LICENSE")),y.xp6(6),y.hij("",y.lcZ(135,96,"PACKAGE.LIST.PACKAGE-DESC-ENG"),"*"),y.xp6(2),y.Q6J("editor",t.Editor),y.xp6(1),y.Q6J("ngIf",t.addPackageForm.get("package_desc_english").hasError("required")),y.xp6(3),y.hij("",y.lcZ(141,98,"PACKAGE.LIST.PACKAGE-DESC-MALAY"),"*"),y.xp6(2),y.Q6J("editor",t.Editor),y.xp6(1),y.Q6J("ngIf",t.addPackageForm.get("package_desc_malay").hasError("required")),y.xp6(4),y.hij("",y.lcZ(148,100,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG"),"*"),y.xp6(2),y.Q6J("editor",t.Editor),y.xp6(1),y.Q6J("ngIf",t.addPackageForm.get("package_phase_desc_english").hasError("required")),y.xp6(3),y.hij("",y.lcZ(154,102,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY"),"*"),y.xp6(2),y.Q6J("editor",t.Editor),y.xp6(1),y.Q6J("ngIf",t.addPackageForm.get("package_phase_desc_malay").hasError("required")),y.xp6(3),y.Q6J("disabled",!t.addPackageForm.valid||0==t.license_selected.length),y.xp6(1),y.hij(" ",y.lcZ(161,104,"BUTTON.ADD-BTN"),""),y.xp6(3),y.Oqu(y.lcZ(164,106,"BUTTON.CANCEL-BTN"))}},directives:[U.Ro,s._Y,s.JL,s.sg,r.KE,Y.qn,i.sg,r.hX,n.Nt,Y.oH,s.Fj,Q.ZL,s.JJ,s.oH,Q.XC,p.lW,r.R9,h.Hw,i.O5,g.gD,s.u,s.Q7,j.ey,s.c5,Z.oG,H.u,Y.HS,Y.qH,r.TO,s.On],pipes:[F.X$,i.Ov],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),e})()},{path:"edit-package/:id",component:(()=>{class e{constructor(e,t,a,i,o,l,r,n,c){this.cdRef=e,this.fb=t,this.languageService=a,this.toastrService=i,this.router=o,this.route=l,this.packageService=r,this.spinner=n,this.modalService=c,this.Editor=M,this.selectable=!1,this.removable=!1,this.separatorKeysCodes=[K.K5,K.OC],this.license_selected=[],this.show2Phase=!1,this.show3Phase=!1,this.apiURL=x.N.apiUrl,this.translateVal="ml"==localStorage.lang?"malay":"english",this.license_type=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null]}),this.package_type=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.payment_phase=new s.NI("",{validators:[e=>"string"==typeof e.value?{invalidAutocompleteObject:{value:e.value}}:null,s.kI.required]}),this.viewLicensePrice=!1,this.showLi2Phase=!1,this.showLi3Phase=!1,this.validation_msgs={license_type:[{type:"invalidAutocompleteObject",message:"License Type not recognized. Click one of the options."},{type:"required",message:"License Type is required."}],package_type:[{type:"invalidAutocompleteObject",message:"Package Type not recognized. Click one of the options."},{type:"required",message:"Package is required."}],payment_phase:[{type:"invalidAutocompleteObject",message:"Payment Phase not recognized. Click one of the options."},{type:"required",message:"Payment Phase is required."}]},this.packageId=this.route.snapshot.paramMap.get("id"),this.editPackageForm=this.fb.group({id:[""],package_offers:["",s.kI.required],package_price:["",s.kI.required],prev_package_english:["",s.kI.required],prev_package_malay:["",s.kI.required],package_english:["",s.kI.required],package_malay:["",s.kI.required],promo_discount:["",s.kI.required],package_desc_english:["",s.kI.required],package_desc_malay:["",s.kI.required],final_package_price:["",s.kI.required],first_phase_amount:[""],second_phase_amount:[""],third_phase_amount:[""],package_phase_desc_english:["",s.kI.required],package_phase_desc_malay:["",s.kI.required],package_image:[""],package_image_name:[""],global_view:[""],upgrade:[""],l_license:[""]})}ngOnInit(){this.spinner.show(),this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases(),this.languageService.languageChanged.subscribe(e=>{this.translateVal="ml"==localStorage.lang?"malay":"english",this.getPackageTypeList(),this.getLicenseClassList(),this.getPaymentPhases()}),this.packageService.getPackageToEdit(this.packageId).subscribe(e=>{if(this.spinner.hide(),e.data.length>0){let i=e.data[0];console.log("resObj--------",i),this.editPackageForm.patchValue({id:i.id,package_price:i.package_price,prev_package_english:i.package_english,prev_package_malay:i.package_malay,package_english:i.package_english,package_malay:i.package_malay,promo_discount:i.promo_discount,package_desc_english:i.package_desc_english,package_desc_malay:i.package_desc_malay,package_offers:i.package_offers,final_package_price:i.final_package_price,package_phase_desc_english:i.package_phase_desc_english,package_phase_desc_malay:i.package_phase_desc_malay,global_view:1==i.global_view,upgrade:1==i.upgrade,l_license:1==i.l_license});var t=this.packageTypeData.filter(e=>e.id==i.package_type_id),a=this.paymentPhaseData.filter(e=>e.id==i.payment_phase);if(this.license_selected=i.license_data,this.license_display=i.license_list,this.package_type.setValue(t[0]),this.payment_phase.setValue(a[0]),2==i.package_type_id){this.viewLicensePrice=!1,2==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!1):3==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!0):(this.show2Phase=!1,this.show3Phase=!1);for(let e=0;e<i.license_data.length;e++)this.editPackageForm.patchValue({first_phase_amount:i.license_data[e].first_phase_amount,second_phase_amount:i.license_data[e].second_phase_amount,third_phase_amount:i.license_data[e].third_phase_amount})}else 2==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!1):3==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!0):(this.showLi2Phase=!1,this.showLi3Phase=!1),this.viewLicensePrice=!0}else this.toastrService.error("No Data Found!!")})}getPackageTypeList(){this.packageService.getPakageTypeList().subscribe(e=>{this.packageTypeData=e.data,this.packageTypeList=this.package_type.valueChanges.pipe((0,D.O)(""),(0,C.U)(e=>"string"==typeof e?e:e[this.translateVal]),(0,C.U)(e=>e?this._filterPackageType(e):this.packageTypeData.slice()))})}getPaymentPhases(){this.packageService.getPaymentPhases().subscribe(e=>{console.log("res['data']===0",e.data),this.paymentPhaseData=e.data,this.paymentPhaseList=this.payment_phase.valueChanges.pipe((0,D.O)(""),(0,C.U)(e=>"string"==typeof e?e:e[this.translateVal]),(0,C.U)(e=>e?this._filterpaymentPhase(e):this.paymentPhaseData.slice()))})}getLicenseClassList(){this.packageService.getLicenseClassList().subscribe(e=>{this.licenseTypeData=e.data,console.log("this.this.license_type=========",this.license_type),this.licenseTypeList=this.license_type.valueChanges.pipe((0,D.O)(""),(0,C.U)(e=>e?this._filterLicenseType(e):this.licenseTypeData.slice()))})}viewPrice(e){this.finalPackageValue=this.editPackageForm.value.final_package_price,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"lg"})}setLicensePrice(){let e=0,t=0;for(let a=0;a<this.license_selected.length;a++){let i=0;e+=Number(this.license_selected[a].license_price),i+=Number(Number(this.license_selected[a].first_phase_amount)+Number(this.license_selected[a].second_phase_amount)+Number(this.license_selected[a].third_phase_amount)),console.log("subPhaseAmt------",this.license_selected[a].license_price,i),this.license_selected[a].license_price!=i&&t++}console.log("TotalLicensePrice---",e,this.finalPackageValue),e==this.finalPackageValue?this.payment_phase.value.id>1&&t>0?this.toastrService.warning("Please check the sum of Phase amount equals the license price!!"):this.modalService.dismissAll():this.toastrService.warning("Sum of license price does not equals Final package price!!!!"),console.log("this.license_selected----",this.license_selected)}displayFn(e){return e&&e.license_class?e.license_class:""}displayFnPackageType(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}displayFnPaymentPhase(e){return e&&e["ml"==localStorage.lang?"malay":"english"]?e["ml"==localStorage.lang?"malay":"english"]:""}_filterLicenseType(e){console.log("name=====",e);const t=e.toLowerCase();return this.licenseTypeData.filter(e=>e.license_class.toLowerCase().includes(t))}_filterPackageType(e){const t=e.toLowerCase();return this.packageTypeData.filter(e=>e[this.translateVal].toLowerCase().includes(t))}_filterpaymentPhase(e){const t=e.toLowerCase();return this.paymentPhaseData.filter(e=>e[this.translateVal].toLowerCase().includes(t))}add(e){const t=e.input,a=e.value;console.log("------------",a),(a||"").trim()&&this.license_selected.push(a),t&&(t.value=""),this.license_type.setValue(null)}remove(e){const t=this.license_selected.indexOf(e);t>=0&&this.license_selected.splice(t,1)}selectedListType(e){const t=e.option.viewValue;if(console.log("newValue=======",e.option.viewValue),this.license_selected.includes(t)?this.license_selected=[...this.license_selected.filter(e=>e!==t)]:this.license_selected.push(e.option.viewValue),this.licenceInput.nativeElement.value="",this.license_type.setValue(null),this.license_selected.length>1){var a=this.packageTypeData.filter(e=>1==e.id);this.package_type.setValue(a[0])}else a=this.packageTypeData.filter(e=>2==e.id),this.package_type.setValue(a[0]);requestAnimationFrame(()=>{this.openAuto(this.matACTrigger)})}selectedPaymentPhase(e){""!=this.editPackageForm.value.final_package_price?(this.finalPackageValue=this.editPackageForm.value.final_package_price,1==this.package_type.value.id?(this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"lg"}),2==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!1):3==this.payment_phase.value.id?(this.showLi2Phase=!0,this.showLi3Phase=!0):(this.showLi2Phase=!1,this.showLi3Phase=!1)):2==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!1):3==this.payment_phase.value.id?(this.show2Phase=!0,this.show3Phase=!0):(this.show2Phase=!1,this.show3Phase=!1)):(this.toastrService.warning("Please fill the Final package price!!"),this.payment_phase.patchValue(""))}openAuto(e){e.openPanel(),this.licenceInput.nativeElement.focus(),console.log(e)}goBack(){this.router.navigate(["/admin/package/package-list"])}changeFinalPackagePrice(){let e=Number(Number(this.editPackageForm.value.package_price*this.editPackageForm.value.promo_discount)/100).toFixed(),t=Number(this.editPackageForm.value.package_price)-Number(e);this.editPackageForm.patchValue({final_package_price:t}),console.log(this.editPackageForm.value)}updatePackageDetails(){if(this.finalPackageValue=this.editPackageForm.value.final_package_price,2==this.package_type.value.id)if(2==this.payment_phase.value.id)if(""!=this.editPackageForm.value.first_phase_amount&&""!=this.editPackageForm.value.second_phase_amount){let e=Number(this.editPackageForm.value.first_phase_amount)+Number(this.editPackageForm.value.second_phase_amount);Number(this.editPackageForm.value.final_package_price)==e?(this.spinner.show(),this.packageService.updatePackageDetails(this.editPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(this.toastrService.success("Updated Successfully!!"),this.router.navigate(["/admin/package/package-list"])),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))})):this.toastrService.error("Sum Of Phase amount does not equal Final Package price!!")}else this.toastrService.error("Please provide Phase Amounts");else if(3==this.payment_phase.value.id)if(""!=this.editPackageForm.value.first_phase_amount&&""!=this.editPackageForm.value.second_phase_amount&&""!=this.editPackageForm.value.third_phase_amount){let e=Number(this.editPackageForm.value.first_phase_amount)+Number(this.editPackageForm.value.second_phase_amount)+Number(this.editPackageForm.value.third_phase_amount);Number(this.editPackageForm.value.final_package_price)==e?(this.spinner.show(),this.packageService.updatePackageDetails(this.editPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(this.toastrService.success("Updated Successfully!!"),this.router.navigate(["/admin/package/package-list"])),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))})):this.toastrService.error("Sum Of Phase amount does not equal Final Package price!!")}else this.toastrService.error("Please provide Phase Amounts");else this.spinner.show(),this.packageService.updatePackageDetails(this.editPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(this.toastrService.success("Updated Successfully!!"),this.router.navigate(["/admin/package/package-list"])),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))});if(1==this.package_type.value.id){let e=0,t=0;for(let a=0;a<this.license_selected.length;a++){let i=0;e+=Number(this.license_selected[a].license_price),i+=Number(Number(this.license_selected[a].first_phase_amount)+Number(this.license_selected[a].second_phase_amount)+Number(this.license_selected[a].third_phase_amount)),console.log("subPhaseAmt------",this.license_selected[a].license_price,i),this.license_selected[a].license_price!=i&&t++}console.log("TotalLicensePrice---",e,this.finalPackageValue),e==this.finalPackageValue?this.payment_phase.value.id>1&&t>0?this.toastrService.warning("Please check the sum of Phase amount equals the license price!!"):(this.spinner.show(),this.packageService.updatePackageDetails(this.editPackageForm.value,this.package_type.value,this.license_selected,this.payment_phase.value.id).subscribe(e=>{this.spinner.hide(),"Success"==e.status&&(this.toastrService.success("Updated Successfully!!"),this.router.navigate(["/admin/package/package-list"])),"Session Expired"==e.status&&(this.toastrService.error("Session Expired!!!"),this.router.navigate(["/authentication/signin"]))})):this.toastrService.warning("Sum of license price does not equals Final package price!!!!")}}}return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.sBO),y.Y36(s.qu),y.Y36(w.T),y.Y36(N._W),y.Y36(q.F0),y.Y36(q.gz),y.Y36(S),y.Y36(U.t2),y.Y36(I.FF))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-edit-package"]],viewQuery:function(e,t){if(1&e&&(y.Gf(Le,5),y.Gf(ye,5)),2&e){let e;y.iGM(e=y.CRH())&&(t.matACTrigger=e.first),y.iGM(e=y.CRH())&&(t.licenceInput=e.first)}},decls:165,vars:109,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],[1,"col-4"],["appearance","outline",1,"example-full-width","mb-3"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","text","matInput","","readonly","",3,"matChipInputFor","matChipInputSeparatorKeyCodes","formControl","matAutocomplete","matChipInputTokenEnd"],["licenceInput","","autocompleteTrigger","matAutocompleteTrigger"],["autoActiveFirstOption","","readonly","",3,"optionSelected"],["autoLicense","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","matInput","","readonly","",3,"formControl","matAutocomplete"],["readonly","",3,"displayWith"],["autoPackage","matAutocomplete"],[4,"ngFor","ngForOf"],["formControlName","package_offers","required",""],["value","Affordable"],["value","Premium"],[1,"col-6"],["matInput","","formControlName","package_english","readonly",""],["matInput","","formControlName","package_malay","readonly",""],[1,"col-3"],["matInput","","type","tel","pattern","[0-9]*","formControlName","package_price",3,"blur"],["matInput","","type","tel","pattern","[0-9]*","formControlName","promo_discount",3,"blur"],["matInput","","type","tel","pattern","[0-9]*","formControlName","final_package_price"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["autoPaymentPhase","matAutocomplete"],["class","col-3",4,"ngIf"],["formControlName","global_view",1,"example-margin"],["formControlName","upgrade",1,"example-margin"],["formControlName","l_license",1,"example-margin"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","package_desc_english",3,"editor"],["formControlName","package_desc_malay",3,"editor"],["formControlName","package_phase_desc_english",3,"editor"],["formControlName","package_phase_desc_malay",3,"editor"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-button","",3,"click"],["LicensePrice",""],[3,"selectable","removable","removed"],[3,"value"],["color","primary",2,"padding","0 12px",3,"checked"],["matInput","","type","tel","pattern","[0-9]*","formControlName","first_phase_amount"],["matInput","","type","tel","pattern","[0-9]*","formControlName","second_phase_amount"],["matInput","","type","tel","pattern","[0-9]*","formControlName","third_phase_amount"],["mat-raised-button","","color","primary",1,"btn-space",3,"click"],[1,"modal-header","deleteRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[1,"col-12"],[1,"modal-footer"],[1,"button-demo"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-button","","type","button",3,"click"],[1,"row",2,"text-align","center"],["matInput","","type","tel","pattern","[0-9]*",3,"ngModel","ngModelChange"],["class","example-full-width mb-3","appearance","outline",4,"ngIf"]],template:function(e,t){if(1&e){const e=y.EpF();y.TgZ(0,"ngx-spinner",0),y.TgZ(1,"p",1),y._uU(2,"Loading..."),y.qZA(),y.qZA(),y.TgZ(3,"section",2),y.TgZ(4,"div",3),y.TgZ(5,"div",4),y.TgZ(6,"div",5),y.TgZ(7,"div",6),y.TgZ(8,"ul",7),y.TgZ(9,"li",8),y.TgZ(10,"h4",9),y._uU(11),y.ALo(12,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(13,"div",10),y.TgZ(14,"div",11),y.TgZ(15,"div",12),y.TgZ(16,"div",13),y.TgZ(17,"h2"),y._uU(18),y.ALo(19,"translate"),y.qZA(),y.qZA(),y.TgZ(20,"div",14),y.TgZ(21,"form",15),y.TgZ(22,"div",5),y.TgZ(23,"div",16),y.TgZ(24,"mat-form-field",17),y.TgZ(25,"mat-chip-list",18,19),y.YNc(27,be,2,3,"mat-chip",20),y.TgZ(28,"mat-label"),y._uU(29),y.ALo(30,"translate"),y.qZA(),y.TgZ(31,"input",21,22),y.NdJ("matChipInputTokenEnd",function(e){return t.add(e)}),y.qZA(),y.qZA(),y.TgZ(34,"mat-autocomplete",23,24),y.NdJ("optionSelected",function(e){return t.selectedListType(e)}),y.YNc(36,Ce,3,3,"mat-option",25),y.ALo(37,"async"),y.qZA(),y.YNc(38,xe,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(39,"div",16),y.TgZ(40,"mat-form-field",17),y.TgZ(41,"mat-label"),y._uU(42),y.ALo(43,"translate"),y.qZA(),y._UZ(44,"input",27),y.TgZ(45,"mat-autocomplete",28,29),y.YNc(47,Se,2,2,"mat-option",25),y.ALo(48,"async"),y.qZA(),y.YNc(49,Ne,2,1,"mat-error",30),y.qZA(),y.qZA(),y.TgZ(50,"div",16),y.TgZ(51,"mat-form-field",17),y.TgZ(52,"mat-label"),y._uU(53),y.ALo(54,"translate"),y.qZA(),y.TgZ(55,"mat-select",31),y.TgZ(56,"mat-option",32),y._uU(57),y.ALo(58,"translate"),y.qZA(),y.TgZ(59,"mat-option",33),y._uU(60),y.ALo(61,"translate"),y.qZA(),y.qZA(),y.YNc(62,we,3,3,"mat-error",26),y.qZA(),y.qZA(),y.qZA(),y.TgZ(63,"div",5),y.TgZ(64,"div",34),y.TgZ(65,"mat-form-field",17),y.TgZ(66,"mat-label"),y._uU(67),y.ALo(68,"translate"),y.qZA(),y._UZ(69,"input",35),y.YNc(70,Ue,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(71,"div",34),y.TgZ(72,"mat-form-field",17),y.TgZ(73,"mat-label"),y._uU(74),y.ALo(75,"translate"),y.qZA(),y._UZ(76,"input",36),y.YNc(77,Fe,3,3,"mat-error",26),y.qZA(),y.qZA(),y.qZA(),y.TgZ(78,"div",5),y.TgZ(79,"div",37),y.TgZ(80,"mat-form-field",17),y.TgZ(81,"mat-label"),y._uU(82),y.ALo(83,"translate"),y.qZA(),y.TgZ(84,"input",38),y.NdJ("blur",function(){return t.changeFinalPackagePrice()}),y.qZA(),y.YNc(85,Oe,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(86,"div",37),y.TgZ(87,"mat-form-field",17),y.TgZ(88,"mat-label"),y._uU(89),y.ALo(90,"translate"),y.qZA(),y.TgZ(91,"input",39),y.NdJ("blur",function(){return t.changeFinalPackagePrice()}),y.qZA(),y.YNc(92,Ge,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(93,"div",37),y.TgZ(94,"mat-form-field",17),y.TgZ(95,"mat-label"),y._uU(96),y.ALo(97,"translate"),y.qZA(),y._UZ(98,"input",40),y.YNc(99,Je,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(100,"div",37),y.TgZ(101,"mat-form-field",17),y.TgZ(102,"mat-label"),y._uU(103),y.ALo(104,"translate"),y.qZA(),y._UZ(105,"input",41),y.TgZ(106,"mat-autocomplete",42,43),y.NdJ("optionSelected",function(){y.CHM(e);const a=y.MAs(164);return t.selectedPaymentPhase(a)}),y.YNc(108,Ke,2,2,"mat-option",25),y.ALo(109,"async"),y.qZA(),y.YNc(110,Me,2,1,"mat-error",30),y.qZA(),y.qZA(),y.qZA(),y.TgZ(111,"div",5),y.YNc(112,Qe,7,4,"div",44),y.YNc(113,He,7,4,"div",44),y.YNc(114,Ve,7,4,"div",44),y.TgZ(115,"div",37),y.TgZ(116,"mat-checkbox",45),y._uU(117),y.ALo(118,"translate"),y.qZA(),y.qZA(),y.TgZ(119,"div",37),y.TgZ(120,"mat-checkbox",46),y._uU(121),y.ALo(122,"translate"),y.qZA(),y.qZA(),y.TgZ(123,"div",37),y.TgZ(124,"mat-checkbox",47),y._uU(125),y.ALo(126,"translate"),y.qZA(),y.qZA(),y.YNc(127,Be,4,3,"div",44),y.qZA(),y._UZ(128,"br"),y.TgZ(129,"div",5),y.TgZ(130,"div",48),y.TgZ(131,"mat-label"),y._uU(132),y.ALo(133,"translate"),y.qZA(),y._UZ(134,"ckeditor",49),y.YNc(135,$e,3,3,"mat-error",26),y.qZA(),y.TgZ(136,"div",48),y.TgZ(137,"mat-label"),y._uU(138),y.ALo(139,"translate"),y.qZA(),y._UZ(140,"ckeditor",50),y.YNc(141,We,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(142,"div",5),y.TgZ(143,"div",48),y.TgZ(144,"mat-label"),y._uU(145),y.ALo(146,"translate"),y.qZA(),y._UZ(147,"ckeditor",51),y.YNc(148,ze,3,3,"mat-error",26),y.qZA(),y.TgZ(149,"div",48),y.TgZ(150,"mat-label"),y._uU(151),y.ALo(152,"translate"),y.qZA(),y._UZ(153,"ckeditor",52),y.YNc(154,Xe,3,3,"mat-error",26),y.qZA(),y.qZA(),y.TgZ(155,"div",5),y.TgZ(156,"div",53),y.TgZ(157,"button",54),y.NdJ("click",function(){return t.updatePackageDetails()}),y._uU(158),y.ALo(159,"translate"),y.qZA(),y.TgZ(160,"button",55),y.NdJ("click",function(){return t.goBack()}),y._uU(161),y.ALo(162,"translate"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.YNc(163,st,26,14,"ng-template",null,56,y.W1O)}if(2&e){const e=y.MAs(26),a=y.MAs(35),i=y.MAs(46),s=y.MAs(107);y.xp6(11),y.Oqu(y.lcZ(12,59,"PACKAGE.EDITTITLE")),y.xp6(7),y.Oqu(y.lcZ(19,61,"PACKAGE.EDITTITLE")),y.xp6(3),y.Q6J("formGroup",t.editPackageForm),y.xp6(6),y.Q6J("ngForOf",t.license_display),y.xp6(2),y.hij("",y.lcZ(30,63,"PACKAGE.LIST.LICENSE-TYPE"),"*"),y.xp6(2),y.Q6J("matChipInputFor",e)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("formControl",t.license_type)("matAutocomplete",a),y.xp6(5),y.Q6J("ngForOf",y.lcZ(37,65,t.licenseTypeList)),y.xp6(2),y.Q6J("ngIf",0==t.license_selected.length),y.xp6(4),y.hij("",y.lcZ(43,67,"PACKAGE.LIST.PACKAGE-TYPE"),"*"),y.xp6(2),y.Q6J("formControl",t.package_type)("matAutocomplete",i),y.xp6(1),y.Q6J("displayWith",t.displayFnPackageType),y.xp6(2),y.Q6J("ngForOf",y.lcZ(48,69,t.packageTypeList)),y.xp6(2),y.Q6J("ngForOf",t.validation_msgs.package_type),y.xp6(4),y.Oqu(y.lcZ(54,71,"PACKAGE.LIST.PACKAGE-OFFERS")),y.xp6(4),y.Oqu(y.lcZ(58,73,"PACKAGE.LIST.AFFORDABLE")),y.xp6(3),y.Oqu(y.lcZ(61,75,"PACKAGE.LIST.PREMIUM")),y.xp6(2),y.Q6J("ngIf",t.editPackageForm.get("package_offers").hasError("required")),y.xp6(5),y.hij("",y.lcZ(68,77,"PACKAGE.LIST.PACKAGE-ENG"),"*"),y.xp6(3),y.Q6J("ngIf",t.editPackageForm.get("package_english").hasError("required")),y.xp6(4),y.hij("",y.lcZ(75,79,"PACKAGE.LIST.PACKAGE-MALAY"),"*"),y.xp6(3),y.Q6J("ngIf",t.editPackageForm.get("package_malay").hasError("required")),y.xp6(5),y.hij("",y.lcZ(83,81,"PACKAGE.LIST.PACKAGE-PRICE"),"*"),y.xp6(3),y.Q6J("ngIf",t.editPackageForm.get("package_price").hasError("required")),y.xp6(4),y.hij("",y.lcZ(90,83,"PACKAGE.LIST.PROMO-DIS"),"*"),y.xp6(3),y.Q6J("ngIf",t.editPackageForm.get("promo_discount").hasError("required")),y.xp6(4),y.hij("",y.lcZ(97,85,"PACKAGE.LIST.FIANL-PACKAGE-PRICE"),"*"),y.xp6(3),y.Q6J("ngIf",t.editPackageForm.get("final_package_price").hasError("required")),y.xp6(4),y.hij("",y.lcZ(104,87,"PACKAGE.LIST.PAYMENT-PHASE"),"*"),y.xp6(2),y.Q6J("formControl",t.payment_phase)("matAutocomplete",s),y.xp6(1),y.Q6J("displayWith",t.displayFnPaymentPhase),y.xp6(2),y.Q6J("ngForOf",y.lcZ(109,89,t.paymentPhaseList)),y.xp6(2),y.Q6J("ngForOf",t.validation_msgs.payment_phase),y.xp6(2),y.Q6J("ngIf",t.show2Phase),y.xp6(1),y.Q6J("ngIf",t.show2Phase),y.xp6(1),y.Q6J("ngIf",t.show3Phase),y.xp6(3),y.Oqu(y.lcZ(118,91,"PACKAGE.LIST.GLOBAL-VIEW")),y.xp6(4),y.Oqu(y.lcZ(122,93,"PACKAGE.LIST.UPGRADE")),y.xp6(4),y.Oqu(y.lcZ(126,95,"PACKAGE.LIST.L-LICENSE")),y.xp6(2),y.Q6J("ngIf",t.viewLicensePrice),y.xp6(5),y.hij("",y.lcZ(133,97,"PACKAGE.LIST.PACKAGE-DESC-ENG"),"*"),y.xp6(2),y.Q6J("editor",t.Editor),y.xp6(1),y.Q6J("ngIf",t.editPackageForm.get("package_desc_english").hasError("required")),y.xp6(3),y.hij("",y.lcZ(139,99,"PACKAGE.LIST.PACKAGE-DESC-MALAY"),"*"),y.xp6(2),y.Q6J("editor",t.Editor),y.xp6(1),y.Q6J("ngIf",t.editPackageForm.get("package_desc_malay").hasError("required")),y.xp6(4),y.hij("",y.lcZ(146,101,"PACKAGE.LIST.PACKAGE-PHASE-DESC-ENG"),"*"),y.xp6(2),y.Q6J("editor",t.Editor),y.xp6(1),y.Q6J("ngIf",t.editPackageForm.get("package_phase_desc_english").hasError("required")),y.xp6(3),y.hij("",y.lcZ(152,103,"PACKAGE.LIST.PACKAGE-PHASE-DESC-MALAY"),"*"),y.xp6(2),y.Q6J("editor",t.Editor),y.xp6(1),y.Q6J("ngIf",t.editPackageForm.get("package_phase_desc_malay").hasError("required")),y.xp6(3),y.Q6J("disabled",!t.editPackageForm.valid||0==t.license_selected.length),y.xp6(1),y.Oqu(y.lcZ(159,105,"BUTTON.EDIT-BTN")),y.xp6(3),y.Oqu(y.lcZ(162,107,"BUTTON.CANCEL-BTN"))}},directives:[U.Ro,s._Y,s.JL,s.sg,r.KE,Y.qn,i.sg,r.hX,n.Nt,Y.oH,s.Fj,Q.ZL,s.JJ,s.oH,Q.XC,i.O5,g.gD,s.u,s.Q7,j.ey,s.c5,Z.oG,H.u,p.lW,Y.HS,r.TO,s.On],pipes:[F.X$,i.Ov],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:400px}"]}),e})()}];let lt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[q.Bz.forChild(ot)],q.Bz]}),e})(),rt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[S],imports:[[E.xD,Y.Hi,H.d,i.ez,s.u5,s.UX,o.p0,l.TU,r.lN,n.c,c.ZX,p.ot,h.Ps,d.Is,u.JX,m.g0,g.LD,A.FA,Z.p9,T.Nh,f.Tx,_.Ad,lt,P.Cq,k.T5,v.yI,F.aw,Q.Bb,U.ef]]}),e})()}}]);