<ngx-spinner
bdColor="rgba(51,51,51,0.8)"
size="medium"
color="#fff"
type="ball-scale-multiple"
>
<p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>
<section class="content">
    <div class="container-fluid">
      <div class="block-header">
        <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <ul class="breadcrumb breadcrumb-style ">
              <li class="breadcrumb-item">
                <h4 class="page-title">{{'REVENUE-REPORT.TITLE' | translate}}</h4>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
              <div class="mt-5">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="card">
                    <div class="body">
                      <div class="table-responsive">
                        <div class="materialTableHeader">
                          <form  [formGroup]="regReportForm">
                            <div class="row">
                              <div class="col-4">
                                    <mat-form-field class="example-full-width" appearance="outline">
                                      <mat-label>{{'REVENUE-REPORT.LIST.FROMDATE' | translate}}*</mat-label>
                                      <input matInput [matDatepicker]="picker" formControlName="from_date">
                                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                      <mat-datepicker #picker></mat-datepicker>
                                      <mat-error *ngIf="regReportForm.get('from_date').hasError('required')">
                                              {{'REVENUE-REPORT.LIST.FROMDATE' | translate}} is required 
                                      </mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-4">
                                    <mat-form-field class="example-full-width" appearance="outline">
                                      <mat-label>{{'REVENUE-REPORT.LIST.TODATE' | translate}}*</mat-label>
                                      <input matInput [matDatepicker]="topicker" formControlName="to_date">
                                      <mat-datepicker-toggle matSuffix [for]="topicker"></mat-datepicker-toggle>
                                      <mat-datepicker #topicker></mat-datepicker>
                                      <mat-error *ngIf="regReportForm.get('to_date').hasError('required')">
                                              {{'REVENUE-REPORT.LIST.TODATE' | translate}} is required 
                                      </mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-2" style="padding: 10px;">
                                  <button mat-raised-button  color="primary" (click)="getRevenueReport()">{{'BUTTON.SEARCH-BTN' | translate}}</button>
                                </div>
                                <div class="col-1" style="padding: 10px;">
                                  <button mat-raised-button (click)="exportToExcel()" class="btn btn-success">{{'BUTTON.EXCEL-BTN' | translate}}
                                    <i class="fas fa-file-excel"></i>
                                  </button>                                
                                </div>
                                <div class="col-1">
                                  <ul class="header-buttons">
                                    <li>
                                      <div class="icon-button-demo">
                                        <button mat-mini-fab color="primary" (click)="refresh()">
                                          <mat-icon class="col-white">refresh
                                          </mat-icon>
                                        </button>
                                      </div>
                                    </li>
                                  </ul>
                                </div>
                            </div>
                        </form>
                        </div>
                        <ngx-datatable #table class="material" [rows]="data" [columns]="columns" [sortType]="'multi'"
                        [columnMode]="'flex'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="'60'" [limit]="10">
                        <!-- user image -->
                       
                        <ngx-datatable-column [flexGrow]="2" name="{{'REVENUE-REPORT.LIST.STUDENT-NAME' | translate}}" prop="name" [width]="130"></ngx-datatable-column>
                        <ngx-datatable-column [flexGrow]="2" name="{{'REVENUE-REPORT.LIST.TRAN-NO' | translate}}" prop="enrollment_no" [width]="130"></ngx-datatable-column>
                        <ngx-datatable-column [flexGrow]="2" name="{{'REVENUE-REPORT.LIST.PACKAGE' | translate}}" prop="package_english" [width]="200"></ngx-datatable-column>
                        <ngx-datatable-column [flexGrow]="1" name="{{'REVENUE-REPORT.LIST.PACKAGE-TYPE' | translate}}" prop="english" [width]="200"></ngx-datatable-column>
                        <ngx-datatable-column [flexGrow]="1" name="{{'REVENUE-REPORT.LIST.PACKAGE-AMOUNT' | translate}}" prop="package_price" [width]="200"></ngx-datatable-column>
                        <ngx-datatable-column [flexGrow]="1" name="{{'REVENUE-REPORT.LIST.LICENSE' | translate}}" prop="license_class" [width]="200"></ngx-datatable-column>
                        <ngx-datatable-column [flexGrow]="1" name="{{'REVENUE-REPORT.LIST.AMOUNT-PAID' | translate}}" prop="amountPaid" [width]="200"></ngx-datatable-column>
                        <ngx-datatable-column [flexGrow]="2" name="{{'REVENUE-REPORT.LIST.STATUS' | translate}}" prop="status" [width]="200"></ngx-datatable-column>

                        <!-- action buttons -->
                        <!-- <ngx-datatable-column name="{{'REVENUE-REPORT.ACTIONS' | translate}}" sortable="false" [width]="120">
                        <ng-template let-value="value" let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                            <span>
                            <button mat-icon-button color="accent" class="btn-tbl-edit" (click)='viewStudent(row, rowIndex)'>
                                <mat-icon aria-label="View" class="col-white">visibility
                                </mat-icon>
                            </button>
                            <button mat-icon-button color="accent" class="btn-tbl-edit" (click)='editStudent(row, rowIndex)'>
                                <mat-icon aria-label="Edit" class="col-white">edit
                                </mat-icon>
                            </button>
                            <button mat-icon-button color="accent" class="btn-tbl-delete" (click)='deleteStudent(row,rowIndex, deleteRecord)'>
                                <mat-icon aria-label="Delete" class="col-white">delete
                                </mat-icon>
                            </button>
                            </span>
                        </ng-template>
                        </ngx-datatable-column> -->
                    </ngx-datatable>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
        </div>
      </div>
    </div>
  </section>
